!function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);this.CodeMirror=e()}}(function(){"use strict";function e(n,r){if(!(this instanceof e))return new e(n,r);this.options=r=r||{},go(Fa,r,!1),p(r);var i=r.value;"string"==typeof i&&(i=new rs(i,r.mode)),this.doc=i;var o=this.display=new t(n,i);o.wrapper.CodeMirror=this,u(this),l(this),r.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),r.autofocus&&!ua&&Tn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,draggingText:!1,highlight:new lo},Zo&&11>ea&&setTimeout(vo(Ln,this,!0),20),Nn(this),Oo();var a=this;cn(this,function(){a.curOp.forceUpdate=!0,Ni(a,i),r.autofocus&&!ua||Lo()==o.input?setTimeout(vo(Qn,a),20):Zn(a);for(var e in Ia)Ia.hasOwnProperty(e)&&Ia[e](a,r[e],Ra);w(a);for(var t=0;t<ja.length;++t)ja[t](a)})}function t(e,t){var n=this,r=n.input=ko("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none");ta?r.style.width="1000px":r.setAttribute("wrap","off"),ca&&(r.style.border="1px solid black"),r.setAttribute("autocorrect","off"),r.setAttribute("autocapitalize","off"),r.setAttribute("spellcheck","false"),n.inputDiv=ko("div",[r],null,"overflow: hidden; position: relative; width: 3px; height: 0px;"),n.scrollbarH=ko("div",[ko("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar"),n.scrollbarV=ko("div",[ko("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),n.scrollbarFiller=ko("div",null,"CodeMirror-scrollbar-filler"),n.gutterFiller=ko("div",null,"CodeMirror-gutter-filler"),n.lineDiv=ko("div",null,"CodeMirror-code"),n.selectionDiv=ko("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=ko("div",null,"CodeMirror-cursors"),n.measure=ko("div",null,"CodeMirror-measure"),n.lineMeasure=ko("div",null,"CodeMirror-measure"),n.lineSpace=ko("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none"),n.mover=ko("div",[ko("div",[n.lineSpace],"CodeMirror-lines")],null,"position: relative"),n.sizer=ko("div",[n.mover],"CodeMirror-sizer"),n.heightForcer=ko("div",null,null,"position: absolute; height: "+ds+"px; width: 1px;"),n.gutters=ko("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=ko("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=ko("div",[n.inputDiv,n.scrollbarH,n.scrollbarV,n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),Zo&&8>ea&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),ca&&(r.style.width="0px"),ta||(n.scroller.draggable=!0),aa&&(n.inputDiv.style.height="1px",n.inputDiv.style.position="absolute"),Zo&&8>ea&&(n.scrollbarH.style.minHeight=n.scrollbarV.style.minWidth="18px"),e.appendChild?e.appendChild(n.wrapper):e(n.wrapper),n.viewFrom=n.viewTo=t.first,n.view=[],n.externalMeasured=null,n.viewOffset=0,n.lastSizeC=0,n.updateLineNumbers=null,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.prevInput="",n.alignWidgets=!1,n.pollingFast=!1,n.poll=new lo,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.inaccurateSelection=!1,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null}function n(t){t.doc.mode=e.getMode(t.options,t.doc.modeOption),r(t)}function r(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,xt(e,100),e.state.modeGen++,e.curOp&&mn(e)}function i(e){e.options.lineWrapping?(Ao(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth=""):(Mo(e.display.wrapper,"CodeMirror-wrap"),d(e)),a(e),mn(e),Pt(e),setTimeout(function(){v(e)},100)}function o(e){var t=Yt(e.display),n=e.options.lineWrapping,r=n&&Math.max(5,e.display.scroller.clientWidth/Qt(e.display)-3);return function(i){if(ni(e.doc,i))return 0;var o=0;if(i.widgets)for(var a=0;a<i.widgets.length;a++)i.widgets[a].height&&(o+=i.widgets[a].height);return n?o+(Math.ceil(i.text.length/r)||1)*t:o+t}}function a(e){var t=e.doc,n=o(e);t.iter(function(e){var t=n(e);t!=e.height&&Fi(e,t)})}function s(e){var t=za[e.options.keyMap],n=t.style;e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-keymap-\S+/g,"")+(n?" cm-keymap-"+n:"")}function l(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Pt(e)}function c(e){u(e),mn(e),setTimeout(function(){b(e)},20)}function u(e){var t=e.display.gutters,n=e.options.gutters;xo(t);for(var r=0;r<n.length;++r){var i=n[r],o=t.appendChild(ko("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&(e.display.lineGutter=o,o.style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=r?"":"none",f(e)}function f(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px",e.display.scrollbarH.style.left=e.options.fixedGutter?t+"px":0}function h(e){if(0==e.height)return 0;for(var t,n=e.text.length,r=e;t=Jr(r);){var i=t.find(0,!0);r=i.from.line,n+=i.from.ch-i.to.ch}for(r=e;t=Xr(r);){var i=t.find(0,!0);n-=r.text.length-i.from.ch,r=i.to.line,n+=r.text.length-i.to.ch}return n}function d(e){var t=e.display,n=e.doc;t.maxLine=Ei(n,n.first),t.maxLineLength=h(t.maxLine),t.maxLineChanged=!0,n.iter(function(e){var n=h(e);n>t.maxLineLength&&(t.maxLineLength=n,t.maxLine=e)})}function p(e){var t=ho(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function m(e){return e.display.scroller.clientHeight-e.display.wrapper.clientHeight<ds-3}function g(e){var t=e.display.scroller;return{clientHeight:t.clientHeight,barHeight:e.display.scrollbarV.clientHeight,scrollWidth:t.scrollWidth,clientWidth:t.clientWidth,hScrollbarTakesSpace:m(e),barWidth:e.display.scrollbarH.clientWidth,docHeight:Math.round(e.doc.height+Mt(e.display))}}function v(e,t){t||(t=g(e));var n=e.display,r=Fo(n.measure),i=t.docHeight+ds,o=t.scrollWidth>t.clientWidth;o&&t.scrollWidth<=t.clientWidth+1&&r>0&&!t.hScrollbarTakesSpace&&(o=!1);var a=i>t.clientHeight;if(a?(n.scrollbarV.style.display="block",n.scrollbarV.style.bottom=o?r+"px":"0",n.scrollbarV.firstChild.style.height=Math.max(0,i-t.clientHeight+(t.barHeight||n.scrollbarV.clientHeight))+"px"):(n.scrollbarV.style.display="",n.scrollbarV.firstChild.style.height="0"),o?(n.scrollbarH.style.display="block",n.scrollbarH.style.right=a?r+"px":"0",n.scrollbarH.firstChild.style.width=t.scrollWidth-t.clientWidth+(t.barWidth||n.scrollbarH.clientWidth)+"px"):(n.scrollbarH.style.display="",n.scrollbarH.firstChild.style.width="0"),o&&a?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=n.scrollbarFiller.style.width=r+"px"):n.scrollbarFiller.style.display="",o&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=r+"px",n.gutterFiller.style.width=n.gutters.offsetWidth+"px"):n.gutterFiller.style.display="",!e.state.checkedOverlayScrollbar&&t.clientHeight>0){if(0===r){var s=fa&&!sa?"12px":"18px";n.scrollbarV.style.minWidth=n.scrollbarH.style.minHeight=s;var l=function(t){eo(t)!=n.scrollbarV&&eo(t)!=n.scrollbarH&&un(e,Fn)(t)};cs(n.scrollbarV,"mousedown",l),cs(n.scrollbarH,"mousedown",l)}e.state.checkedOverlayScrollbar=!0}}function y(e,t,n){var r=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;r=Math.floor(r-Tt(e));var i=n&&null!=n.bottom?n.bottom:r+e.wrapper.clientHeight,o=Ri(t,r),a=Ri(t,i);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;if(o>s)return{from:s,to:Ri(t,Di(Ei(t,s))+e.wrapper.clientHeight)};if(Math.min(l,t.lastLine())>=a)return{from:Ri(t,Di(Ei(t,l))-e.wrapper.clientHeight),to:l}}return{from:o,to:Math.max(a,o+1)}}function b(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=x(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=r+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&n[a].gutter&&(n[a].gutter.style.left=o);var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=r+i+"px")}}function w(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=k(e.options,t.first+t.size-1),r=e.display;if(n.length!=r.lineNumChars){var i=r.measure.appendChild(ko("div",[ko("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=i.firstChild.offsetWidth,a=i.offsetWidth-o;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(o,r.lineGutter.offsetWidth-a),r.lineNumWidth=r.lineNumInnerWidth+a,r.lineNumChars=r.lineNumInnerWidth?n.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",f(e),!0}return!1}function k(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function x(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function C(e,t,n){var r=e.display;this.viewport=t,this.visible=y(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.oldViewFrom=r.viewFrom,this.oldViewTo=r.viewTo,this.oldScrollerWidth=r.scroller.clientWidth,this.force=n,this.dims=O(e)}function S(e,t){var n=e.display,r=e.doc;if(t.editorIsHidden)return vn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&0==kn(e))return!1;w(e)&&(vn(e),t.dims=O(e));var i=r.first+r.size,o=Math.max(t.visible.from-e.options.viewportMargin,r.first),a=Math.min(i,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(r.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(i,n.viewTo)),va&&(o=ei(e.doc,o),a=ti(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastSizeC!=t.wrapperHeight;wn(e,o,a),n.viewOffset=Di(Ei(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=kn(e);if(!s&&0==l&&!t.force&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Lo();return l>4&&(n.lineDiv.style.display="none"),_(e,n.updateLineNumbers,t.dims),l>4&&(n.lineDiv.style.display=""),c&&Lo()!=c&&c.offsetHeight&&c.focus(),xo(n.cursorDiv),xo(n.selectionDiv),s&&(n.lastSizeC=t.wrapperHeight,xt(e,400)),n.updateLineNumbers=null,!0}function L(e,t){for(var n=t.force,r=t.viewport,i=!0;;i=!1){if(i&&e.options.lineWrapping&&t.oldScrollerWidth!=e.display.scroller.clientWidth)n=!0;else if(n=!1,r&&null!=r.top&&(r={top:Math.min(e.doc.height+Mt(e.display)-ds-e.display.scroller.clientHeight,r.top)}),t.visible=y(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!S(e,t))break;N(e);var o=g(e);yt(e),M(e,o),v(e,o)}no(e,"update",e),(e.display.viewFrom!=t.oldViewFrom||e.display.viewTo!=t.oldViewTo)&&no(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo)}function T(e,t){var n=new C(e,t);if(S(e,n)){N(e),L(e,n);var r=g(e);yt(e),M(e,r),v(e,r)}}function M(e,t){e.display.sizer.style.minHeight=e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=Math.max(t.docHeight,t.clientHeight-ds)+"px"}function A(e,t){e.display.sizer.offsetWidth+e.display.gutters.offsetWidth<e.display.scroller.clientWidth-1&&(e.display.sizer.style.minHeight=e.display.heightForcer.style.top="0px",e.display.gutters.style.height=t.docHeight+"px")}function N(e){for(var t=e.display,n=t.lineDiv.offsetTop,r=0;r<t.view.length;r++){var i,o=t.view[r];if(!o.hidden){if(Zo&&8>ea){var a=o.node.offsetTop+o.node.offsetHeight;i=a-n,n=a}else{var s=o.node.getBoundingClientRect();i=s.bottom-s.top}var l=o.line.height-i;if(2>i&&(i=Yt(t)),(l>.001||-.001>l)&&(Fi(o.line,i),E(o.line),o.rest))for(var c=0;c<o.rest.length;c++)E(o.rest[c])}}}function E(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.offsetHeight}function O(e){for(var t=e.display,n={},r={},i=t.gutters.firstChild,o=0;i;i=i.nextSibling,++o)n[e.options.gutters[o]]=i.offsetLeft,r[e.options.gutters[o]]=i.offsetWidth;return{fixedPos:x(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function _(e,t,n){function r(t){var n=t.nextSibling;return ta&&fa&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),n}for(var i=e.display,o=e.options.lineNumbers,a=i.lineDiv,s=a.firstChild,l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var f=l[u];if(f.hidden);else if(f.node){for(;s!=f.node;)s=r(s);var h=o&&null!=t&&c>=t&&f.lineNumber;f.changes&&(ho(f.changes,"gutter")>-1&&(h=!1),F(e,f,c,n)),h&&(xo(f.lineNumber),f.lineNumber.appendChild(document.createTextNode(k(e.options,c)))),s=f.node.nextSibling}else{var d=H(e,f,c,n);a.insertBefore(d,s)}c+=f.size}for(;s;)s=r(s)}function F(e,t,n,r){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?$(e,t):"gutter"==o?j(e,t,n,r):"class"==o?B(t):"widget"==o&&P(t,r)}t.changes=null}function I(e){return e.node==e.text&&(e.node=ko("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Zo&&8>ea&&(e.node.style.zIndex=2)),e.node}function R(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=I(e);e.background=n.insertBefore(ko("div",null,t),n.firstChild)}}function D(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):vi(e,t)}function $(e,t){var n=t.text.className,r=D(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,B(t)):n&&(t.text.className=n)}function B(e){R(e),e.line.wrapClass?I(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function j(e,t,n,r){t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null);var i=t.line.gutterMarkers;if(e.options.lineNumbers||i){var o=I(t),a=t.gutter=o.insertBefore(ko("div",null,"CodeMirror-gutter-wrapper","position: absolute; left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px"),t.text);if(!e.options.lineNumbers||i&&i["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(ko("div",k(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),i)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=i.hasOwnProperty(l)&&i[l];c&&a.appendChild(ko("div",[c],"CodeMirror-gutter-elt","left: "+r.gutterLeft[l]+"px; width: "+r.gutterWidth[l]+"px"))}}}function P(e,t){e.alignable&&(e.alignable=null);for(var n,r=e.node.firstChild;r;r=n){var n=r.nextSibling;"CodeMirror-linewidget"==r.className&&e.node.removeChild(r)}W(e,t)}function H(e,t,n,r){var i=D(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),B(t),j(e,t,n,r),W(t,r),t.node}function W(e,t){if(q(e.line,e,t,!0),e.rest)for(var n=0;n<e.rest.length;n++)q(e.rest[n],e,t,!1)}function q(e,t,n,r){if(e.widgets)for(var i=I(t),o=0,a=e.widgets;o<a.length;++o){var s=a[o],l=ko("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||(l.ignoreEvents=!0),z(s,l,t,n),r&&s.above?i.insertBefore(l,t.gutter||t.text):i.appendChild(l),no(s,"redraw")}}function z(e,t,n,r){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var i=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(i-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function U(e){return ya(e.line,e.ch)}function V(e,t){return ba(e,t)<0?t:e}function K(e,t){return ba(e,t)<0?e:t}function G(e,t){this.ranges=e,this.primIndex=t}function J(e,t){this.anchor=e,this.head=t}function X(e,t){var n=e[t];e.sort(function(e,t){return ba(e.from(),t.from())}),t=ho(e,n);for(var r=1;r<e.length;r++){var i=e[r],o=e[r-1];if(ba(o.to(),i.from())>=0){var a=K(o.from(),i.from()),s=V(o.to(),i.to()),l=o.empty()?i.from()==i.head:o.from()==o.head;t>=r&&--t,e.splice(--r,2,new J(l?s:a,l?a:s))}}return new G(e,t)}function Y(e,t){return new G([new J(e,t||e)],0)}function Q(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function Z(e,t){if(t.line<e.first)return ya(e.first,0);var n=e.first+e.size-1;return t.line>n?ya(n,Ei(e,n).text.length):et(t,Ei(e,t.line).text.length)}function et(e,t){var n=e.ch;return null==n||n>t?ya(e.line,t):0>n?ya(e.line,0):e}function tt(e,t){return t>=e.first&&t<e.first+e.size}function nt(e,t){for(var n=[],r=0;r<t.length;r++)n[r]=Z(e,t[r]);return n}function rt(e,t,n,r){if(e.cm&&e.cm.display.shift||e.extend){var i=t.anchor;if(r){var o=ba(n,i)<0;o!=ba(r,i)<0?(i=n,n=r):o!=ba(n,r)<0&&(n=r)}return new J(i,n)}return new J(r||n,n)}function it(e,t,n,r){ut(e,new G([rt(e,e.sel.primary(),t,n)],0),r)}function ot(e,t,n){for(var r=[],i=0;i<e.sel.ranges.length;i++)r[i]=rt(e,e.sel.ranges[i],t[i],null);var o=X(r,e.sel.primIndex);ut(e,o,n)}function at(e,t,n,r){var i=e.sel.ranges.slice(0);i[t]=n,ut(e,X(i,e.sel.primIndex),r)}function st(e,t,n,r){ut(e,Y(t,n),r)}function lt(e,t){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var n=0;n<t.length;n++)this.ranges[n]=new J(Z(e,t[n].anchor),Z(e,t[n].head))}};return fs(e,"beforeSelectionChange",e,n),e.cm&&fs(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?X(n.ranges,n.ranges.length-1):t}function ct(e,t,n){var r=e.history.done,i=fo(r);i&&i.ranges?(r[r.length-1]=t,ft(e,t,n)):ut(e,t,n)}function ut(e,t,n){ft(e,t,n),zi(e,e.sel,e.cm?e.cm.curOp.id:0/0,n)}function ft(e,t,n){(ao(e,"beforeSelectionChange")||e.cm&&ao(e.cm,"beforeSelectionChange"))&&(t=lt(e,t));var r=n&&n.bias||(ba(t.primary().head,e.sel.primary().head)<0?-1:1);ht(e,pt(e,t,r,!0)),n&&n.scroll===!1||!e.cm||br(e.cm)}function ht(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,oo(e.cm)),no(e,"cursorActivity",e))}function dt(e){ht(e,pt(e,e.sel,null,!1),ms)}function pt(e,t,n,r){for(var i,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=mt(e,a.anchor,n,r),l=mt(e,a.head,n,r);(i||s!=a.anchor||l!=a.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new J(s,l))}return i?X(i,t.primIndex):t}function mt(e,t,n,r){var i=!1,o=t,a=n||1;e.cantEdit=!1;e:for(;;){var s=Ei(e,o.line);if(s.markedSpans)for(var l=0;l<s.markedSpans.length;++l){var c=s.markedSpans[l],u=c.marker;if((null==c.from||(u.inclusiveLeft?c.from<=o.ch:c.from<o.ch))&&(null==c.to||(u.inclusiveRight?c.to>=o.ch:c.to>o.ch))){if(r&&(fs(u,"beforeCursorEnter"),u.explicitlyCleared)){if(s.markedSpans){--l;continue}break}if(!u.atomic)continue;var f=u.find(0>a?-1:1);if(0==ba(f,o)&&(f.ch+=a,f.ch<0?f=f.line>e.first?Z(e,ya(f.line-1)):null:f.ch>s.text.length&&(f=f.line<e.first+e.size-1?ya(f.line+1,0):null),!f)){if(i)return r?(e.cantEdit=!0,ya(e.first,0)):mt(e,t,n,!0);i=!0,f=t,a=-a}o=f;continue e}}return o}}function gt(e){for(var t=e.display,n=e.doc,r={},i=r.cursors=document.createDocumentFragment(),o=r.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++){var s=n.sel.ranges[a],l=s.empty();(l||e.options.showCursorWhenSelecting)&&bt(e,s,i),l||wt(e,s,o)}if(e.options.moveInputWithCursor){var c=Vt(e,n.sel.primary().head,"div"),u=t.wrapper.getBoundingClientRect(),f=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,c.top+f.top-u.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,c.left+f.left-u.left))}return r}function vt(e,t){Co(e.display.cursorDiv,t.cursors),Co(e.display.selectionDiv,t.selection),null!=t.teTop&&(e.display.inputDiv.style.top=t.teTop+"px",e.display.inputDiv.style.left=t.teLeft+"px")}function yt(e){vt(e,gt(e))}function bt(e,t,n){var r=Vt(e,t.head,"div",null,null,!e.options.singleCursorHeightPerLine),i=n.appendChild(ko("div"," ","CodeMirror-cursor"));if(i.style.left=r.left+"px",i.style.top=r.top+"px",i.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",r.other){var o=n.appendChild(ko("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=r.other.left+"px",o.style.top=r.other.top+"px",o.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function wt(e,t,n){function r(e,t,n,r){0>t&&(t=0),t=Math.round(t),r=Math.round(r),s.appendChild(ko("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?u-e:n)+"px; height: "+(r-t)+"px"))}function i(t,n,i){function o(n,r){return Ut(e,ya(t,n),"div",f,r)}var s,l,f=Ei(a,t),h=f.text.length;return $o($i(f),n||0,null==i?h:i,function(e,t,a){var f,d,p,m=o(e,"left");if(e==t)f=m,d=p=m.left;else{if(f=o(t-1,"right"),"rtl"==a){var g=m;m=f,f=g}d=m.left,p=f.right}null==n&&0==e&&(d=c),f.top-m.top>3&&(r(d,m.top,null,m.bottom),d=c,m.bottom<f.top&&r(d,m.bottom,null,f.top)),null==i&&t==h&&(p=u),(!s||m.top<s.top||m.top==s.top&&m.left<s.left)&&(s=m),(!l||f.bottom>l.bottom||f.bottom==l.bottom&&f.right>l.right)&&(l=f),c+1>d&&(d=c),r(d,f.top,p-d,f.bottom)}),{start:s,end:l}}var o=e.display,a=e.doc,s=document.createDocumentFragment(),l=At(e.display),c=l.left,u=o.lineSpace.offsetWidth-l.right,f=t.from(),h=t.to();if(f.line==h.line)i(f.line,f.ch,h.ch);else{var d=Ei(a,f.line),p=Ei(a,h.line),m=Qr(d)==Qr(p),g=i(f.line,f.ch,m?d.text.length+1:null).end,v=i(h.line,m?0:null,h.ch).start;m&&(g.top<v.top-2?(r(g.right,g.top,null,g.bottom),r(c,v.top,v.left,v.bottom)):r(g.right,g.top,v.left-g.right,g.bottom)),g.bottom<v.top&&r(c,g.bottom,null,v.top)}n.appendChild(s)}function kt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function xt(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,vo(Ct,e))}function Ct(e){var t=e.doc;if(t.frontier<t.first&&(t.frontier=t.first),!(t.frontier>=e.display.viewTo)){var n=+new Date+e.options.workTime,r=Ha(t.mode,Lt(e,t.frontier)),i=[];t.iter(t.frontier,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(t.frontier>=e.display.viewFrom){var a=o.styles,s=di(e,o,r,!0);o.styles=s.styles;var l=o.styleClasses,c=s.classes;c?o.styleClasses=c:l&&(o.styleClasses=null);for(var u=!a||a.length!=o.styles.length||l!=c&&(!l||!c||l.bgClass!=c.bgClass||l.textClass!=c.textClass),f=0;!u&&f<a.length;++f)u=a[f]!=o.styles[f];u&&i.push(t.frontier),o.stateAfter=Ha(t.mode,r)}else mi(e,o.text,r),o.stateAfter=t.frontier%5==0?Ha(t.mode,r):null;return++t.frontier,+new Date>n?(xt(e,e.options.workDelay),!0):void 0}),i.length&&cn(e,function(){for(var t=0;t<i.length;t++)gn(e,i[t],"text")})}}function St(e,t,n){for(var r,i,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>a;--s){if(s<=o.first)return o.first;var l=Ei(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var c=ys(l.text,null,e.options.tabSize);(null==i||r>c)&&(i=s-1,r=c)}return i}function Lt(e,t,n){var r=e.doc,i=e.display;if(!r.mode.startState)return!0;var o=St(e,t,n),a=o>r.first&&Ei(r,o-1).stateAfter;return a=a?Ha(r.mode,a):Wa(r.mode),r.iter(o,t,function(n){mi(e,n.text,a);var s=o==t-1||o%5==0||o>=i.viewFrom&&o<i.viewTo;n.stateAfter=s?Ha(r.mode,a):null,++o}),n&&(r.frontier=o),a}function Tt(e){return e.lineSpace.offsetTop}function Mt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function At(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Co(e.measure,ko("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Nt(e,t,n){var r=e.options.lineWrapping,i=r&&e.display.scroller.clientWidth;if(!t.measure.heights||r&&t.measure.width!=i){var o=t.measure.heights=[];if(r){t.measure.width=i;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];Math.abs(l.bottom-c.bottom)>2&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}function Et(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var r=0;r<e.rest.length;r++)if(Ii(e.rest[r])>n)return{map:e.measure.maps[r],cache:e.measure.caches[r],before:!0}}function Ot(e,t){t=Qr(t);var n=Ii(t),r=e.display.externalMeasured=new dn(e.doc,t,n);r.lineN=n;var i=r.built=vi(e,r);return r.text=i.pre,Co(e.display.lineMeasure,i.pre),r}function _t(e,t,n,r){return Rt(e,It(e,t),n,r)}function Ft(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[yn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function It(e,t){var n=Ii(t),r=Ft(e,n);r&&!r.text?r=null:r&&r.changes&&F(e,r,n,O(e)),r||(r=Ot(e,t));var i=Et(r,t,n);return{line:t,view:r,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Rt(e,t,n,r,i){t.before&&(n=-1);var o,a=n+(r||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Nt(e,t.view,t.rect),t.hasHeights=!0),o=Dt(e,t,n,r),o.bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function Dt(e,t,n,r){for(var i,o,a,s,l=t.map,c=0;c<l.length;c+=3){var u=l[c],f=l[c+1];if(u>n?(o=0,a=1,s="left"):f>n?(o=n-u,a=o+1):(c==l.length-3||n==f&&l[c+3]>n)&&(a=f-u,o=a-1,n>=f&&(s="right")),null!=o){if(i=l[c+2],u==f&&r==(i.insertLeft?"left":"right")&&(s=r),"left"==r&&0==o)for(;c&&l[c-2]==l[c-3]&&l[c-1].insertLeft;)i=l[(c-=3)+2],s="left";if("right"==r&&o==f-u)for(;c<l.length-3&&l[c+3]==l[c+4]&&!l[c+5].insertLeft;)i=l[(c+=3)+2],s="right";break}}var h;if(3==i.nodeType){for(var c=0;4>c;c++){for(;o&&wo(t.line.text.charAt(u+o));)--o;for(;f>u+a&&wo(t.line.text.charAt(u+a));)++a;if(Zo&&9>ea&&0==o&&a==f-u)h=i.parentNode.getBoundingClientRect();else if(Zo&&e.options.lineWrapping){var d=ks(i,o,a).getClientRects();h=d.length?d["right"==r?d.length-1:0]:Ca}else h=ks(i,o,a).getBoundingClientRect()||Ca;if(h.left||h.right||0==o)break;a=o,o-=1,s="right"}Zo&&11>ea&&(h=$t(e.display.measure,h))}else{o>0&&(s=r="right");var d;h=e.options.lineWrapping&&(d=i.getClientRects()).length>1?d["right"==r?d.length-1:0]:i.getBoundingClientRect()}if(Zo&&9>ea&&!o&&(!h||!h.left&&!h.right)){var p=i.parentNode.getClientRects()[0];h=p?{left:p.left,right:p.left+Qt(e.display),top:p.top,bottom:p.bottom}:Ca}for(var m=h.top-t.rect.top,g=h.bottom-t.rect.top,v=(m+g)/2,y=t.view.measure.heights,c=0;c<y.length-1&&!(v<y[c]);c++);var b=c?y[c-1]:0,w=y[c],k={left:("right"==s?h.right:h.left)-t.rect.left,right:("left"==s?h.left:h.right)-t.rect.left,top:b,bottom:w};return h.left||h.right||(k.bogus=!0),e.options.singleCursorHeightPerLine||(k.rtop=m,k.rbottom=g),k}function $t(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Do(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,r=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*r,bottom:t.bottom*r}}function Bt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function jt(e){e.display.externalMeasure=null,xo(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Bt(e.display.view[t])}function Pt(e){jt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Ht(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Wt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function qt(e,t,n,r){if(t.widgets)for(var i=0;i<t.widgets.length;++i)if(t.widgets[i].above){var o=oi(t.widgets[i]);n.top+=o,n.bottom+=o}if("line"==r)return n;r||(r="local");var a=Di(t);if("local"==r?a+=Tt(e.display):a-=e.display.viewOffset,"page"==r||"window"==r){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==r?0:Wt());var l=s.left+("window"==r?0:Ht());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function zt(e,t,n){if("div"==n)return t;var r=t.left,i=t.top;if("page"==n)r-=Ht(),i-=Wt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();r+=o.left,i+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:r-a.left,top:i-a.top}}function Ut(e,t,n,r,i){return r||(r=Ei(e.doc,t.line)),qt(e,r,_t(e,r,t.ch,i),n)}function Vt(e,t,n,r,i,o){function a(t,a){var s=Rt(e,i,t,a?"right":"left",o);return a?s.left=s.right:s.right=s.left,qt(e,r,s,n)}function s(e,t){var n=l[t],r=n.level%2;return e==Bo(n)&&t&&n.level<l[t-1].level?(n=l[--t],e=jo(n)-(n.level%2?0:1),r=!0):e==jo(n)&&t<l.length-1&&n.level<l[t+1].level&&(n=l[++t],e=Bo(n)-n.level%2,r=!1),r&&e==n.to&&e>n.from?a(e-1):a(e,r)}r=r||Ei(e.doc,t.line),i||(i=It(e,r));var l=$i(r),c=t.ch;if(!l)return a(c);var u=Vo(l,c),f=s(c,u);return null!=Rs&&(f.other=s(c,Rs)),f}function Kt(e,t){var n=0,t=Z(e.doc,t);e.options.lineWrapping||(n=Qt(e.display)*t.ch);var r=Ei(e.doc,t.line),i=Di(r)+Tt(e.display);return{left:n,right:n,top:i,bottom:i+r.height}}function Gt(e,t,n,r){var i=ya(e,t);return i.xRel=r,n&&(i.outside=!0),i}function Jt(e,t,n){var r=e.doc;if(n+=e.display.viewOffset,0>n)return Gt(r.first,0,!0,-1);var i=Ri(r,n),o=r.first+r.size-1;if(i>o)return Gt(r.first+r.size-1,Ei(r,o).text.length,!0,1);0>t&&(t=0);for(var a=Ei(r,i);;){var s=Xt(e,a,i,t,n),l=Xr(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&s.xRel>0))return s;i=Ii(a=c.to.line)}}function Xt(e,t,n,r,i){function o(r){var i=Vt(e,ya(n,r),"line",t,c);return s=!0,a>i.bottom?i.left-l:a<i.top?i.left+l:(s=!1,i.left)}var a=i-Di(t),s=!1,l=2*e.display.wrapper.clientWidth,c=It(e,t),u=$i(t),f=t.text.length,h=Po(t),d=Ho(t),p=o(h),m=s,g=o(d),v=s;if(r>g)return Gt(n,d,v,1);for(;;){if(u?d==h||d==Go(t,h,1):1>=d-h){for(var y=p>r||g-r>=r-p?h:d,b=r-(y==h?p:g);wo(t.text.charAt(y));)++y;var w=Gt(n,y,y==h?m:v,-1>b?-1:b>1?1:0);return w}var k=Math.ceil(f/2),x=h+k;if(u){x=h;for(var C=0;k>C;++C)x=Go(t,x,1)}var S=o(x);S>r?(d=x,g=S,(v=s)&&(g+=1e3),f=k):(h=x,p=S,m=s,f-=k)}}function Yt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==wa){wa=ko("pre");for(var t=0;49>t;++t)wa.appendChild(document.createTextNode("x")),wa.appendChild(ko("br"));wa.appendChild(document.createTextNode("x"))}Co(e.measure,wa);var n=wa.offsetHeight/50;return n>3&&(e.cachedTextHeight=n),xo(e.measure),n||1}function Qt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=ko("span","xxxxxxxxxx"),n=ko("pre",[t]);Co(e.measure,n);var r=t.getBoundingClientRect(),i=(r.right-r.left)/10;return i>2&&(e.cachedCharWidth=i),i||10}function Zt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,id:++La},Sa?Sa.ops.push(e.curOp):e.curOp.ownsGroup=Sa={ops:[e.curOp],delayedCallbacks:[]}}function en(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n]();for(var r=0;r<e.ops.length;r++){var i=e.ops[r];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++](i.cm)}}while(n<t.length)}function tn(e){var t=e.curOp,n=t.ownsGroup;if(n)try{en(n)}finally{Sa=null;for(var r=0;r<n.ops.length;r++)n.ops[r].cm.curOp=null;nn(n)}}function nn(e){for(var t=e.ops,n=0;n<t.length;n++)rn(t[n]);for(var n=0;n<t.length;n++)on(t[n]);for(var n=0;n<t.length;n++)an(t[n]);for(var n=0;n<t.length;n++)sn(t[n]);for(var n=0;n<t.length;n++)ln(t[n])}function rn(e){var t=e.cm,n=t.display;e.updateMaxLine&&d(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<n.viewFrom||e.scrollToPos.to.line>=n.viewTo)||n.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new C(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)
}function on(e){e.updatedDisplay=e.mustUpdate&&S(e.cm,e.update)}function an(e){var t=e.cm,n=t.display;e.updatedDisplay&&N(t),e.barMeasure=g(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=_t(t,n.maxLine,n.maxLine.text.length).left+3,e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo+ds-n.scroller.clientWidth)),(e.updatedDisplay||e.selectionChanged)&&(e.newSelectionNodes=gt(t))}function sn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Wn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1),e.newSelectionNodes&&vt(t,e.newSelectionNodes),e.updatedDisplay&&M(t,e.barMeasure),(e.updatedDisplay||e.startHeight!=t.doc.height)&&v(t,e.barMeasure),e.selectionChanged&&kt(t),t.state.focused&&e.updateInput&&Ln(t,e.typing)}function ln(e){var t=e.cm,n=t.display,r=t.doc;if(null!=e.adjustWidthTo&&Math.abs(e.barMeasure.scrollWidth-t.display.scroller.scrollWidth)>1&&v(t),e.updatedDisplay&&L(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null!=e.scrollTop&&(n.scroller.scrollTop!=e.scrollTop||e.forceScroll)){var i=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop));n.scroller.scrollTop=n.scrollbarV.scrollTop=r.scrollTop=i}if(null!=e.scrollLeft&&(n.scroller.scrollLeft!=e.scrollLeft||e.forceScroll)){var o=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft));n.scroller.scrollLeft=n.scrollbarH.scrollLeft=r.scrollLeft=o,b(t)}if(e.scrollToPos){var a=mr(t,Z(r,e.scrollToPos.from),Z(r,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&pr(t,a)}var s=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(s)for(var c=0;c<s.length;++c)s[c].lines.length||fs(s[c],"hide");if(l)for(var c=0;c<l.length;++c)l[c].lines.length&&fs(l[c],"unhide");n.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.updatedDisplay&&ta&&(t.options.lineWrapping&&A(t,e.barMeasure),e.barMeasure.scrollWidth>e.barMeasure.clientWidth&&e.barMeasure.scrollWidth<e.barMeasure.clientWidth+1&&!m(t)&&v(t)),e.changeObjs&&fs(t,"changes",t,e.changeObjs)}function cn(e,t){if(e.curOp)return t();Zt(e);try{return t()}finally{tn(e)}}function un(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Zt(e);try{return t.apply(e,arguments)}finally{tn(e)}}}function fn(e){return function(){if(this.curOp)return e.apply(this,arguments);Zt(this);try{return e.apply(this,arguments)}finally{tn(this)}}}function hn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Zt(t);try{return e.apply(this,arguments)}finally{tn(t)}}}function dn(e,t,n){this.line=t,this.rest=Zr(t),this.size=this.rest?Ii(fo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=ni(e,t)}function pn(e,t,n){for(var r,i=[],o=t;n>o;o=r){var a=new dn(e.doc,Ei(e.doc,o),o);r=o+a.size,i.push(a)}return i}function mn(e,t,n,r){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),r||(r=0);var i=e.display;if(r&&n<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)va&&ei(e.doc,t)<i.viewTo&&vn(e);else if(n<=i.viewFrom)va&&ti(e.doc,n+r)>i.viewFrom?vn(e):(i.viewFrom+=r,i.viewTo+=r);else if(t<=i.viewFrom&&n>=i.viewTo)vn(e);else if(t<=i.viewFrom){var o=bn(e,n,n+r,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=r):vn(e)}else if(n>=i.viewTo){var o=bn(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):vn(e)}else{var a=bn(e,t,t,-1),s=bn(e,n,n+r,1);a&&s?(i.view=i.view.slice(0,a.index).concat(pn(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=r):vn(e)}var l=i.externalMeasured;l&&(n<l.lineN?l.lineN+=r:t<l.lineN+l.size&&(i.externalMeasured=null))}function gn(e,t,n){e.curOp.viewChanged=!0;var r=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var o=r.view[yn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==ho(a,n)&&a.push(n)}}}function vn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function yn(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,0>t)return null;for(var n=e.display.view,r=0;r<n.length;r++)if(t-=n[r].size,0>t)return r}function bn(e,t,n,r){var i,o=yn(e,t),a=e.display.view;if(!va||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;o>s;s++)l+=a[s].size;if(l!=t){if(r>0){if(o==a.length-1)return null;i=l+a[o].size-t,o++}else i=l-t;t+=i,n+=i}for(;ei(e.doc,n)!=n;){if(o==(0>r?0:a.length-1))return null;n+=r*a[o-(0>r?1:0)].size,o+=r}return{index:o,lineN:n}}function wn(e,t,n){var r=e.display,i=r.view;0==i.length||t>=r.viewTo||n<=r.viewFrom?(r.view=pn(e,t,n),r.viewFrom=t):(r.viewFrom>t?r.view=pn(e,t,r.viewFrom).concat(r.view):r.viewFrom<t&&(r.view=r.view.slice(yn(e,t))),r.viewFrom=t,r.viewTo<n?r.view=r.view.concat(pn(e,r.viewTo,n)):r.viewTo>n&&(r.view=r.view.slice(0,yn(e,n)))),r.viewTo=n}function kn(e){for(var t=e.display.view,n=0,r=0;r<t.length;r++){var i=t[r];i.hidden||i.node&&!i.changes||++n}return n}function xn(e){e.display.pollingFast||e.display.poll.set(e.options.pollInterval,function(){Sn(e),e.state.focused&&xn(e)})}function Cn(e){function t(){var r=Sn(e);r||n?(e.display.pollingFast=!1,xn(e)):(n=!0,e.display.poll.set(60,t))}var n=!1;e.display.pollingFast=!0,e.display.poll.set(20,t)}function Sn(e){var t=e.display.input,n=e.display.prevInput,r=e.doc;if(!e.state.focused||Os(t)&&!n||An(e)||e.options.disableInput)return!1;e.state.pasteIncoming&&e.state.fakedLastChar&&(t.value=t.value.substring(0,t.value.length-1),e.state.fakedLastChar=!1);var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(Zo&&ea>=9&&e.display.inputHasSelection===i||fa&&/[\uf700-\uf7ff]/.test(i))return Ln(e),!1;var o=!e.curOp;o&&Zt(e),e.display.shift=!1,8203!=i.charCodeAt(0)||r.sel!=e.display.selForContextMenu||n||(n="​");for(var a=0,s=Math.min(n.length,i.length);s>a&&n.charCodeAt(a)==i.charCodeAt(a);)++a;var l=i.slice(a),c=Es(l),u=null;e.state.pasteIncoming&&r.sel.ranges.length>1&&(Ta&&Ta.join("\n")==l?u=r.sel.ranges.length%Ta.length==0&&po(Ta,Es):c.length==r.sel.ranges.length&&(u=po(c,function(e){return[e]})));for(var f=r.sel.ranges.length-1;f>=0;f--){var h=r.sel.ranges[f],d=h.from(),p=h.to();a<n.length?d=ya(d.line,d.ch-(n.length-a)):e.state.overwrite&&h.empty()&&!e.state.pasteIncoming&&(p=ya(p.line,Math.min(Ei(r,p.line).text.length,p.ch+fo(c).length)));var m=e.curOp.updateInput,g={from:d,to:p,text:u?u[f%u.length]:c,origin:e.state.pasteIncoming?"paste":e.state.cutIncoming?"cut":"+input"};if(sr(e.doc,g),no(e,"inputRead",e,g),l&&!e.state.pasteIncoming&&e.options.electricChars&&e.options.smartIndent&&h.head.ch<100&&(!f||r.sel.ranges[f-1].head.line!=h.head.line)){var v=e.getModeAt(h.head),y=_a(g);if(v.electricChars){for(var b=0;b<v.electricChars.length;b++)if(l.indexOf(v.electricChars.charAt(b))>-1){kr(e,y.line,"smart");break}}else v.electricInput&&v.electricInput.test(Ei(r,y.line).text.slice(0,y.ch))&&kr(e,y.line,"smart")}}return br(e),e.curOp.updateInput=m,e.curOp.typing=!0,i.length>1e3||i.indexOf("\n")>-1?t.value=e.display.prevInput="":e.display.prevInput=i,o&&tn(e),e.state.pasteIncoming=e.state.cutIncoming=!1,!0}function Ln(e,t){var n,r,i=e.doc;if(e.somethingSelected()){e.display.prevInput="";var o=i.sel.primary();n=_s&&(o.to().line-o.from().line>100||(r=e.getSelection()).length>1e3);var a=n?"-":r||e.getSelection();e.display.input.value=a,e.state.focused&&ws(e.display.input),Zo&&ea>=9&&(e.display.inputHasSelection=a)}else t||(e.display.prevInput=e.display.input.value="",Zo&&ea>=9&&(e.display.inputHasSelection=null));e.display.inaccurateSelection=n}function Tn(e){"nocursor"==e.options.readOnly||ua&&Lo()==e.display.input||e.display.input.focus()}function Mn(e){e.state.focused||(Tn(e),Qn(e))}function An(e){return e.options.readOnly||e.doc.cantEdit}function Nn(e){function t(){e.state.focused&&setTimeout(vo(Tn,e),0)}function n(t){io(e,t)||ls(t)}function r(t){if(e.somethingSelected())Ta=e.getSelections(),i.inaccurateSelection&&(i.prevInput="",i.inaccurateSelection=!1,i.input.value=Ta.join("\n"),ws(i.input));else{for(var n=[],r=[],o=0;o<e.doc.sel.ranges.length;o++){var a=e.doc.sel.ranges[o].head.line,s={anchor:ya(a,0),head:ya(a+1,0)};r.push(s),n.push(e.getRange(s.anchor,s.head))}"cut"==t.type?e.setSelections(r,null,ms):(i.prevInput="",i.input.value=n.join("\n"),ws(i.input)),Ta=n}"cut"==t.type&&(e.state.cutIncoming=!0)}var i=e.display;cs(i.scroller,"mousedown",un(e,Fn)),Zo&&11>ea?cs(i.scroller,"dblclick",un(e,function(t){if(!io(e,t)){var n=_n(e,t);if(n&&!Bn(e,t)&&!On(e.display,t)){as(t);var r=e.findWordAt(n);it(e.doc,r.anchor,r.head)}}})):cs(i.scroller,"dblclick",function(t){io(e,t)||as(t)}),cs(i.lineSpace,"selectstart",function(e){On(i,e)||as(e)}),ma||cs(i.scroller,"contextmenu",function(t){er(e,t)}),cs(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Hn(e,i.scroller.scrollTop),Wn(e,i.scroller.scrollLeft,!0),fs(e,"scroll",e))}),cs(i.scrollbarV,"scroll",function(){i.scroller.clientHeight&&Hn(e,i.scrollbarV.scrollTop)}),cs(i.scrollbarH,"scroll",function(){i.scroller.clientHeight&&Wn(e,i.scrollbarH.scrollLeft)}),cs(i.scroller,"mousewheel",function(t){qn(e,t)}),cs(i.scroller,"DOMMouseScroll",function(t){qn(e,t)}),cs(i.scrollbarH,"mousedown",t),cs(i.scrollbarV,"mousedown",t),cs(i.wrapper,"scroll",function(){i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),cs(i.input,"keyup",function(t){Xn.call(e,t)}),cs(i.input,"input",function(){Zo&&ea>=9&&e.display.inputHasSelection&&(e.display.inputHasSelection=null),Cn(e)}),cs(i.input,"keydown",un(e,Gn)),cs(i.input,"keypress",un(e,Yn)),cs(i.input,"focus",vo(Qn,e)),cs(i.input,"blur",vo(Zn,e)),e.options.dragDrop&&(cs(i.scroller,"dragstart",function(t){Pn(e,t)}),cs(i.scroller,"dragenter",n),cs(i.scroller,"dragover",n),cs(i.scroller,"drop",un(e,jn))),cs(i.scroller,"paste",function(t){On(i,t)||(e.state.pasteIncoming=!0,Tn(e),Cn(e))}),cs(i.input,"paste",function(){if(ta&&!e.state.fakedLastChar&&!(new Date-e.state.lastMiddleDown<200)){var t=i.input.selectionStart,n=i.input.selectionEnd;i.input.value+="$",i.input.selectionEnd=n,i.input.selectionStart=t,e.state.fakedLastChar=!0}e.state.pasteIncoming=!0,Cn(e)}),cs(i.input,"cut",r),cs(i.input,"copy",r),aa&&cs(i.sizer,"mouseup",function(){Lo()==i.input&&i.input.blur(),Tn(e)})}function En(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,e.setSize()}function On(e,t){for(var n=eo(t);n!=e.wrapper;n=n.parentNode)if(!n||n.ignoreEvents||n.parentNode==e.sizer&&n!=e.mover)return!0}function _n(e,t,n,r){var i=e.display;if(!n){var o=eo(t);if(o==i.scrollbarH||o==i.scrollbarV||o==i.scrollbarFiller||o==i.gutterFiller)return null}var a,s,l=i.lineSpace.getBoundingClientRect();try{a=t.clientX-l.left,s=t.clientY-l.top}catch(t){return null}var c,u=Jt(e,a,s);if(r&&1==u.xRel&&(c=Ei(e.doc,u.line).text).length==u.ch){var f=ys(c,c.length,e.options.tabSize)-c.length;u=ya(u.line,Math.max(0,Math.round((a-At(e.display).left)/Qt(e.display))-f))}return u}function Fn(e){if(!io(this,e)){var t=this,n=t.display;if(n.shift=e.shiftKey,On(n,e))return void(ta||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100)));if(!Bn(t,e)){var r=_n(t,e);switch(window.focus(),to(e)){case 1:r?In(t,e,r):eo(e)==n.scroller&&as(e);break;case 2:ta&&(t.state.lastMiddleDown=+new Date),r&&it(t.doc,r),setTimeout(vo(Tn,t),20),as(e);break;case 3:ma&&er(t,e)}}}}function In(e,t,n){setTimeout(vo(Mn,e),0);var r,i=+new Date;xa&&xa.time>i-400&&0==ba(xa.pos,n)?r="triple":ka&&ka.time>i-400&&0==ba(ka.pos,n)?(r="double",xa={time:i,pos:n}):(r="single",ka={time:i,pos:n});var o=e.doc.sel,a=fa?t.metaKey:t.ctrlKey;e.options.dragDrop&&Ns&&!An(e)&&"single"==r&&o.contains(n)>-1&&o.somethingSelected()?Rn(e,t,n,a):Dn(e,t,n,r,a)}function Rn(e,t,n,r){var i=e.display,o=un(e,function(a){ta&&(i.scroller.draggable=!1),e.state.draggingText=!1,us(document,"mouseup",o),us(i.scroller,"drop",o),Math.abs(t.clientX-a.clientX)+Math.abs(t.clientY-a.clientY)<10&&(as(a),r||it(e.doc,n),Tn(e),Zo&&9==ea&&setTimeout(function(){document.body.focus(),Tn(e)},20))});ta&&(i.scroller.draggable=!0),e.state.draggingText=o,i.scroller.dragDrop&&i.scroller.dragDrop(),cs(document,"mouseup",o),cs(i.scroller,"drop",o)}function Dn(e,t,n,r,i){function o(t){if(0!=ba(m,t))if(m=t,"rect"==r){for(var i=[],o=e.options.tabSize,a=ys(Ei(c,n.line).text,n.ch,o),s=ys(Ei(c,t.line).text,t.ch,o),l=Math.min(a,s),d=Math.max(a,s),p=Math.min(n.line,t.line),g=Math.min(e.lastLine(),Math.max(n.line,t.line));g>=p;p++){var v=Ei(c,p).text,y=co(v,l,o);l==d?i.push(new J(ya(p,y),ya(p,y))):v.length>y&&i.push(new J(ya(p,y),ya(p,co(v,d,o))))}i.length||i.push(new J(n,n)),ut(c,X(h.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var b=u,w=b.anchor,k=t;if("single"!=r){if("double"==r)var x=e.findWordAt(t);else var x=new J(ya(t.line,0),Z(c,ya(t.line+1,0)));ba(x.anchor,w)>0?(k=x.head,w=K(b.from(),x.anchor)):(k=x.anchor,w=V(b.to(),x.head))}var i=h.ranges.slice(0);i[f]=new J(Z(c,w),k),ut(c,X(i,f),gs)}}function a(t){var n=++v,i=_n(e,t,!0,"rect"==r);if(i)if(0!=ba(i,m)){Mn(e),o(i);var s=y(l,c);(i.line>=s.to||i.line<s.from)&&setTimeout(un(e,function(){v==n&&a(t)}),150)}else{var u=t.clientY<g.top?-20:t.clientY>g.bottom?20:0;u&&setTimeout(un(e,function(){v==n&&(l.scroller.scrollTop+=u,a(t))}),50)}}function s(t){v=1/0,as(t),Tn(e),us(document,"mousemove",b),us(document,"mouseup",w),c.history.lastSelOrigin=null}var l=e.display,c=e.doc;as(t);var u,f,h=c.sel;if(i&&!t.shiftKey?(f=c.sel.contains(n),u=f>-1?c.sel.ranges[f]:new J(n,n)):u=c.sel.primary(),t.altKey)r="rect",i||(u=new J(n,n)),n=_n(e,t,!0,!0),f=-1;else if("double"==r){var d=e.findWordAt(n);u=e.display.shift||c.extend?rt(c,u,d.anchor,d.head):d}else if("triple"==r){var p=new J(ya(n.line,0),Z(c,ya(n.line+1,0)));u=e.display.shift||c.extend?rt(c,u,p.anchor,p.head):p}else u=rt(c,u,n);i?f>-1?at(c,f,u,gs):(f=c.sel.ranges.length,ut(c,X(c.sel.ranges.concat([u]),f),{scroll:!1,origin:"*mouse"})):(f=0,ut(c,new G([u],0),gs),h=c.sel);var m=n,g=l.wrapper.getBoundingClientRect(),v=0,b=un(e,function(e){to(e)?a(e):s(e)}),w=un(e,s);cs(document,"mousemove",b),cs(document,"mouseup",w)}function $n(e,t,n,r,i){try{var o=t.clientX,a=t.clientY}catch(t){return!1}if(o>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&as(t);var s=e.display,l=s.lineDiv.getBoundingClientRect();if(a>l.bottom||!ao(e,n))return Zi(t);a-=l.top-s.viewOffset;for(var c=0;c<e.options.gutters.length;++c){var u=s.gutters.childNodes[c];if(u&&u.getBoundingClientRect().right>=o){var f=Ri(e.doc,a),h=e.options.gutters[c];return i(e,n,e,f,h,t),Zi(t)}}}function Bn(e,t){return $n(e,t,"gutterClick",!0,no)}function jn(e){var t=this;if(!io(t,e)&&!On(t.display,e)){as(e),Zo&&(Ma=+new Date);var n=_n(t,e,!0),r=e.dataTransfer.files;if(n&&!An(t))if(r&&r.length&&window.FileReader&&window.File)for(var i=r.length,o=Array(i),a=0,s=function(e,r){var s=new FileReader;s.onload=un(t,function(){if(o[r]=s.result,++a==i){n=Z(t.doc,n);var e={from:n,to:n,text:Es(o.join("\n")),origin:"paste"};sr(t.doc,e),ct(t.doc,Y(n,_a(e)))}}),s.readAsText(e)},l=0;i>l;++l)s(r[l],l);else{if(t.state.draggingText&&t.doc.sel.contains(n)>-1)return t.state.draggingText(e),void setTimeout(vo(Tn,t),20);try{var o=e.dataTransfer.getData("Text");if(o){if(t.state.draggingText&&!(fa?e.metaKey:e.ctrlKey))var c=t.listSelections();if(ft(t.doc,Y(n,n)),c)for(var l=0;l<c.length;++l)dr(t.doc,"",c[l].anchor,c[l].head,"drag");t.replaceSelection(o,"around","paste"),Tn(t)}}catch(e){}}}}function Pn(e,t){if(Zo&&(!e.state.draggingText||+new Date-Ma<100))return void ls(t);if(!io(e,t)&&!On(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.setDragImage&&!oa)){var n=ko("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",ia&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),ia&&n.parentNode.removeChild(n)}}function Hn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,Xo||T(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbarV.scrollTop!=t&&(e.display.scrollbarV.scrollTop=t),Xo&&T(e),xt(e,100))}function Wn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,b(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbarH.scrollLeft!=t&&(e.display.scrollbarH.scrollLeft=t))}function qn(e,t){var n=t.wheelDeltaX,r=t.wheelDeltaY;null==n&&t.detail&&t.axis==t.HORIZONTAL_AXIS&&(n=t.detail),null==r&&t.detail&&t.axis==t.VERTICAL_AXIS?r=t.detail:null==r&&(r=t.wheelDelta);var i=e.display,o=i.scroller;if(n&&o.scrollWidth>o.clientWidth||r&&o.scrollHeight>o.clientHeight){if(r&&fa&&ta)e:for(var a=t.target,s=i.view;a!=o;a=a.parentNode)for(var l=0;l<s.length;l++)if(s[l].node==a){e.display.currentWheelTarget=a;break e}if(n&&!Xo&&!ia&&null!=Na)return r&&Hn(e,Math.max(0,Math.min(o.scrollTop+r*Na,o.scrollHeight-o.clientHeight))),Wn(e,Math.max(0,Math.min(o.scrollLeft+n*Na,o.scrollWidth-o.clientWidth))),as(t),void(i.wheelStartX=null);if(r&&null!=Na){var c=r*Na,u=e.doc.scrollTop,f=u+i.wrapper.clientHeight;0>c?u=Math.max(0,u+c-50):f=Math.min(e.doc.height,f+c+50),T(e,{top:u,bottom:f})}20>Aa&&(null==i.wheelStartX?(i.wheelStartX=o.scrollLeft,i.wheelStartY=o.scrollTop,i.wheelDX=n,i.wheelDY=r,setTimeout(function(){if(null!=i.wheelStartX){var e=o.scrollLeft-i.wheelStartX,t=o.scrollTop-i.wheelStartY,n=t&&i.wheelDY&&t/i.wheelDY||e&&i.wheelDX&&e/i.wheelDX;i.wheelStartX=i.wheelStartY=null,n&&(Na=(Na*Aa+n)/(Aa+1),++Aa)}},200)):(i.wheelDX+=n,i.wheelDY+=r))}}function zn(e,t,n){if("string"==typeof t&&(t=qa[t],!t))return!1;e.display.pollingFast&&Sn(e)&&(e.display.pollingFast=!1);var r=e.display.shift,i=!1;try{An(e)&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),i=t(e)!=ps}finally{e.display.shift=r,e.state.suppressEdits=!1}return i}function Un(e){var t=e.state.keyMaps.slice(0);return e.options.extraKeys&&t.push(e.options.extraKeys),t.push(e.options.keyMap),t}function Vn(e,t){var n=Mr(e.options.keyMap),r=n.auto;clearTimeout(Ea),r&&!Va(t)&&(Ea=setTimeout(function(){Mr(e.options.keyMap)==n&&(e.options.keyMap=r.call?r.call(null,e):r,s(e))},50));var i=Ka(t,!0),o=!1;if(!i)return!1;var a=Un(e);return o=t.shiftKey?Ua("Shift-"+i,a,function(t){return zn(e,t,!0)})||Ua(i,a,function(t){return("string"==typeof t?/^go[A-Z]/.test(t):t.motion)?zn(e,t):void 0}):Ua(i,a,function(t){return zn(e,t)}),o&&(as(t),kt(e),no(e,"keyHandled",e,i,t)),o}function Kn(e,t,n){var r=Ua("'"+n+"'",Un(e),function(t){return zn(e,t,!0)});return r&&(as(t),kt(e),no(e,"keyHandled",e,"'"+n+"'",t)),r}function Gn(e){var t=this;if(Mn(t),!io(t,e)){Zo&&11>ea&&27==e.keyCode&&(e.returnValue=!1);var n=e.keyCode;t.display.shift=16==n||e.shiftKey;var r=Vn(t,e);ia&&(Oa=r?n:null,!r&&88==n&&!_s&&(fa?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=n||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Jn(t)}}function Jn(e){function t(e){18!=e.keyCode&&e.altKey||(Mo(n,"CodeMirror-crosshair"),us(document,"keyup",t),us(document,"mouseover",t))}var n=e.display.lineDiv;Ao(n,"CodeMirror-crosshair"),cs(document,"keyup",t),cs(document,"mouseover",t)}function Xn(e){16==e.keyCode&&(this.doc.sel.shift=!1),io(this,e)}function Yn(e){var t=this;if(!(io(t,e)||e.ctrlKey&&!e.altKey||fa&&e.metaKey)){var n=e.keyCode,r=e.charCode;if(ia&&n==Oa)return Oa=null,void as(e);if(!(ia&&(!e.which||e.which<10)||aa)||!Vn(t,e)){var i=String.fromCharCode(null==r?n:r);Kn(t,e,i)||(Zo&&ea>=9&&(t.display.inputHasSelection=null),Cn(t))}}}function Qn(e){"nocursor"!=e.options.readOnly&&(e.state.focused||(fs(e,"focus",e),e.state.focused=!0,Ao(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(Ln(e),ta&&setTimeout(vo(Ln,e,!0),0))),xn(e),kt(e))}function Zn(e){e.state.focused&&(fs(e,"blur",e),e.state.focused=!1,Mo(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150)}function er(e,t){function n(){if(null!=i.input.selectionStart){var t=e.somethingSelected(),n=i.input.value="​"+(t?i.input.value:"");i.prevInput=t?"":"​",i.input.selectionStart=1,i.input.selectionEnd=n.length,i.selForContextMenu=e.doc.sel}}function r(){if(i.inputDiv.style.position="relative",i.input.style.cssText=l,Zo&&9>ea&&(i.scrollbarV.scrollTop=i.scroller.scrollTop=a),xn(e),null!=i.input.selectionStart){(!Zo||Zo&&9>ea)&&n();var t=0,r=function(){i.selForContextMenu==e.doc.sel&&0==i.input.selectionStart?un(e,qa.selectAll)(e):t++<10?i.detectingSelectAll=setTimeout(r,500):Ln(e)};i.detectingSelectAll=setTimeout(r,200)}}if(!io(e,t,"contextmenu")){var i=e.display;if(!On(i,t)&&!tr(e,t)){var o=_n(e,t),a=i.scroller.scrollTop;if(o&&!ia){var s=e.options.resetSelectionOnContextMenu;s&&-1==e.doc.sel.contains(o)&&un(e,ut)(e.doc,Y(o),ms);var l=i.input.style.cssText;if(i.inputDiv.style.position="absolute",i.input.style.cssText="position: fixed; width: 30px; height: 30px; top: "+(t.clientY-5)+"px; left: "+(t.clientX-5)+"px; z-index: 1000; background: "+(Zo?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",ta)var c=window.scrollY;if(Tn(e),ta&&window.scrollTo(null,c),Ln(e),e.somethingSelected()||(i.input.value=i.prevInput=" "),i.selForContextMenu=e.doc.sel,clearTimeout(i.detectingSelectAll),Zo&&ea>=9&&n(),ma){ls(t);var u=function(){us(window,"mouseup",u),setTimeout(r,20)};cs(window,"mouseup",u)}else setTimeout(r,50)}}}}function tr(e,t){return ao(e,"gutterContextMenu")?$n(e,t,"gutterContextMenu",!1,fs):!1}function nr(e,t){if(ba(e,t.from)<0)return e;if(ba(e,t.to)<=0)return _a(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=_a(t).ch-t.to.ch),ya(n,r)}function rr(e,t){for(var n=[],r=0;r<e.sel.ranges.length;r++){var i=e.sel.ranges[r];n.push(new J(nr(i.anchor,t),nr(i.head,t)))}return X(n,e.sel.primIndex)}function ir(e,t,n){return e.line==t.line?ya(n.line,e.ch-t.ch+n.ch):ya(n.line+(e.line-t.line),e.ch)}function or(e,t,n){for(var r=[],i=ya(e.first,0),o=i,a=0;a<t.length;a++){var s=t[a],l=ir(s.from,i,o),c=ir(_a(s),i,o);if(i=s.to,o=c,"around"==n){var u=e.sel.ranges[a],f=ba(u.head,u.anchor)<0;r[a]=new J(f?c:l,f?l:c)}else r[a]=new J(l,l)}return new G(r,e.sel.primIndex)}function ar(e,t,n){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){this.canceled=!0}};return n&&(r.update=function(t,n,r,i){t&&(this.from=Z(e,t)),n&&(this.to=Z(e,n)),r&&(this.text=r),void 0!==i&&(this.origin=i)}),fs(e,"beforeChange",e,r),e.cm&&fs(e.cm,"beforeChange",e.cm,r),r.canceled?null:{from:r.from,to:r.to,text:r.text,origin:r.origin}}function sr(e,t,n){if(e.cm){if(!e.cm.curOp)return un(e.cm,sr)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(ao(e,"beforeChange")||e.cm&&ao(e.cm,"beforeChange"))||(t=ar(e,t,!0))){var r=ga&&!n&&Wr(e,t.from,t.to);if(r)for(var i=r.length-1;i>=0;--i)lr(e,{from:r[i].from,to:r[i].to,text:i?[""]:t.text});else lr(e,t)}}function lr(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ba(t.from,t.to)){var n=rr(e,t);Wi(e,t,n,e.cm?e.cm.curOp.id:0/0),fr(e,t,n,jr(e,t));var r=[];Ai(e,function(e,n){n||-1!=ho(r,e.history)||(Qi(e.history,t),r.push(e.history)),fr(e,t,null,jr(e,t))})}}function cr(e,t,n){if(!e.cm||!e.cm.state.suppressEdits){for(var r,i=e.history,o=e.sel,a="undo"==t?i.done:i.undone,s="undo"==t?i.undone:i.done,l=0;l<a.length&&(r=a[l],n?!r.ranges||r.equals(e.sel):r.ranges);l++);if(l!=a.length){for(i.lastOrigin=i.lastSelOrigin=null;r=a.pop(),r.ranges;){if(Ui(r,s),n&&!r.equals(e.sel))return void ut(e,r,{clearRedo:!1});o=r}var c=[];Ui(o,s),s.push({changes:c,generation:i.generation}),i.generation=r.generation||++i.maxGeneration;for(var u=ao(e,"beforeChange")||e.cm&&ao(e.cm,"beforeChange"),l=r.changes.length-1;l>=0;--l){var f=r.changes[l];if(f.origin=t,u&&!ar(e,f,!1))return void(a.length=0);c.push(ji(e,f));var h=l?rr(e,f):fo(a);fr(e,f,h,Hr(e,f)),!l&&e.cm&&e.cm.scrollIntoView({from:f.from,to:_a(f)});var d=[];Ai(e,function(e,t){t||-1!=ho(d,e.history)||(Qi(e.history,f),d.push(e.history)),fr(e,f,null,Hr(e,f))})}}}}function ur(e,t){if(0!=t&&(e.first+=t,e.sel=new G(po(e.sel.ranges,function(e){return new J(ya(e.anchor.line+t,e.anchor.ch),ya(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){mn(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,r=n.viewFrom;r<n.viewTo;r++)gn(e.cm,r,"gutter")}}function fr(e,t,n,r){if(e.cm&&!e.cm.curOp)return un(e.cm,fr)(e,t,n,r);if(t.to.line<e.first)return void ur(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);ur(e,i),t={from:ya(e.first,0),to:ya(t.to.line+i,t.to.ch),text:[fo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:ya(o,Ei(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Oi(e,t.from,t.to),n||(n=rr(e,t)),e.cm?hr(e.cm,t,r):Li(e,t,r),ft(e,n,ms)}}function hr(e,t,n){var r=e.doc,i=e.display,a=t.from,s=t.to,l=!1,c=a.line;e.options.lineWrapping||(c=Ii(Qr(Ei(r,a.line))),r.iter(c,s.line+1,function(e){return e==i.maxLine?(l=!0,!0):void 0})),r.sel.contains(t.from,t.to)>-1&&oo(e),Li(r,t,n,o(e)),e.options.lineWrapping||(r.iter(c,a.line+t.text.length,function(e){var t=h(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,l=!1)}),l&&(e.curOp.updateMaxLine=!0)),r.frontier=Math.min(r.frontier,a.line),xt(e,400);var u=t.text.length-(s.line-a.line)-1;a.line!=s.line||1!=t.text.length||Si(e.doc,t)?mn(e,a.line,s.line+1,u):gn(e,a.line,"text");var f=ao(e,"changes"),d=ao(e,"change");if(d||f){var p={from:a,to:s,text:t.text,removed:t.removed,origin:t.origin};d&&no(e,"change",e,p),f&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(p)}e.display.selForContextMenu=null}function dr(e,t,n,r,i){if(r||(r=n),ba(r,n)<0){var o=r;r=n,n=o}"string"==typeof t&&(t=Es(t)),sr(e,{from:n,to:r,text:t,origin:i})}function pr(e,t){var n=e.display,r=n.sizer.getBoundingClientRect(),i=null;if(t.top+r.top<0?i=!0:t.bottom+r.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!la){var o=ko("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-Tt(e.display))+"px; height: "+(t.bottom-t.top+ds)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(i),e.display.lineSpace.removeChild(o)}}function mr(e,t,n,r){for(null==r&&(r=0);;){var i=!1,o=Vt(e,t),a=n&&n!=t?Vt(e,n):o,s=vr(e,Math.min(o.left,a.left),Math.min(o.top,a.top)-r,Math.max(o.left,a.left),Math.max(o.bottom,a.bottom)+r),l=e.doc.scrollTop,c=e.doc.scrollLeft;if(null!=s.scrollTop&&(Hn(e,s.scrollTop),Math.abs(e.doc.scrollTop-l)>1&&(i=!0)),null!=s.scrollLeft&&(Wn(e,s.scrollLeft),Math.abs(e.doc.scrollLeft-c)>1&&(i=!0)),!i)return o}}function gr(e,t,n,r,i){var o=vr(e,t,n,r,i);null!=o.scrollTop&&Hn(e,o.scrollTop),null!=o.scrollLeft&&Wn(e,o.scrollLeft)}function vr(e,t,n,r,i){var o=e.display,a=Yt(e.display);0>n&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=o.scroller.clientHeight-ds,c={};i-n>l&&(i=n+l);var u=e.doc.height+Mt(o),f=a>n,h=i>u-a;if(s>n)c.scrollTop=f?0:n;else if(i>s+l){var d=Math.min(n,(h?u:i)-l);d!=s&&(c.scrollTop=d)}var p=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,m=o.scroller.clientWidth-ds-o.gutters.offsetWidth,g=r-t>m;return g&&(r=n+l),10>t?c.scrollLeft=0:p>t?c.scrollLeft=Math.max(0,t-(g?0:10)):r>m+p-3&&(c.scrollLeft=r+(g?0:10)-m),c}function yr(e,t,n){(null!=t||null!=n)&&wr(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function br(e){wr(e);var t=e.getCursor(),n=t,r=t;e.options.lineWrapping||(n=t.ch?ya(t.line,t.ch-1):t,r=ya(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:r,margin:e.options.cursorScrollMargin,isCursor:!0}}function wr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=Kt(e,t.from),r=Kt(e,t.to),i=vr(e,Math.min(n.left,r.left),Math.min(n.top,r.top)-t.margin,Math.max(n.right,r.right),Math.max(n.bottom,r.bottom)+t.margin);e.scrollTo(i.scrollLeft,i.scrollTop)}}function kr(e,t,n,r){var i,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?i=Lt(e,t):n="prev");var a=e.options.tabSize,s=Ei(o,t),l=ys(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(r||/\S/.test(s.text)){if("smart"==n&&(c=o.mode.indent(i,s.text.slice(u.length),s.text),c==ps||c>150)){if(!r)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?ys(Ei(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var f="",h=0;if(e.options.indentWithTabs)for(var d=Math.floor(c/a);d;--d)h+=a,f+="	";if(c>h&&(f+=uo(c-h)),f!=u)dr(o,f,ya(t,0),ya(t,u.length),"+input");else for(var d=0;d<o.sel.ranges.length;d++){var p=o.sel.ranges[d];if(p.head.line==t&&p.head.ch<u.length){var h=ya(t,u.length);at(o,d,new J(h,h));break}}s.stateAfter=null}function xr(e,t,n,r){var i=t,o=t;return"number"==typeof t?o=Ei(e,Q(e,t)):i=Ii(t),null==i?null:(r(o,i)&&e.cm&&gn(e.cm,i,n),o)}function Cr(e,t){for(var n=e.doc.sel.ranges,r=[],i=0;i<n.length;i++){for(var o=t(n[i]);r.length&&ba(o.from,fo(r).to)<=0;){var a=r.pop();if(ba(a.from,o.from)<0){o.from=a.from;break}}r.push(o)}cn(e,function(){for(var t=r.length-1;t>=0;t--)dr(e.doc,"",r[t].from,r[t].to,"+delete");br(e)})}function Sr(e,t,n,r,i){function o(){var t=s+n;return t<e.first||t>=e.first+e.size?f=!1:(s=t,u=Ei(e,t))}function a(e){var t=(i?Go:Jo)(u,l,n,!0);if(null==t){if(e||!o())return f=!1;l=i?(0>n?Ho:Po)(u):0>n?u.text.length:0}else l=t;return!0}var s=t.line,l=t.ch,c=n,u=Ei(e,s),f=!0;if("char"==r)a();else if("column"==r)a(!0);else if("word"==r||"group"==r)for(var h=null,d="group"==r,p=e.cm&&e.cm.getHelper(t,"wordChars"),m=!0;!(0>n)||a(!m);m=!1){var g=u.text.charAt(l)||"\n",v=yo(g,p)?"w":d&&"\n"==g?"n":!d||/\s/.test(g)?null:"p";if(!d||m||v||(v="s"),h&&h!=v){0>n&&(n=1,a());break}if(v&&(h=v),n>0&&!a(!m))break}var y=mt(e,ya(s,l),c,!0);return f||(y.hitSide=!0),y}function Lr(e,t,n,r){var i,o=e.doc,a=t.left;if("page"==r){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);i=t.top+n*(s-(0>n?1.5:.5)*Yt(e.display))}else"line"==r&&(i=n>0?t.bottom+3:t.top-3);for(;;){var l=Jt(e,a,i);if(!l.outside)break;if(0>n?0>=i:i>=o.height){l.hitSide=!0;break}i+=5*n}return l}function Tr(t,n,r,i){e.defaults[t]=n,r&&(Ia[t]=i?function(e,t,n){n!=Ra&&r(e,t,n)}:r)}function Mr(e){return"string"==typeof e?za[e]:e}function Ar(e,t,n,r,i){if(r&&r.shared)return Nr(e,t,n,r,i);if(e.cm&&!e.cm.curOp)return un(e.cm,Ar)(e,t,n,r,i);var o=new Ja(e,i),a=ba(t,n);if(r&&go(r,o,!1),a>0||0==a&&o.clearWhenEmpty!==!1)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=ko("span",[o.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||(o.widgetNode.ignoreEvents=!0),r.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Yr(e,t.line,t,n,o)||t.line!=n.line&&Yr(e,n.line,t,n,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");va=!0}o.addToHistory&&Wi(e,{from:t,to:n,origin:"markText"},e.sel,0/0);var s,l=t.line,c=e.cm;if(e.iter(l,n.line+1,function(e){c&&o.collapsed&&!c.options.lineWrapping&&Qr(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=t.line&&Fi(e,0),Dr(e,new Fr(o,l==t.line?t.ch:null,l==n.line?n.ch:null)),++l}),o.collapsed&&e.iter(t.line,n.line+1,function(t){ni(e,t)&&Fi(t,0)}),o.clearOnEnter&&cs(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(ga=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),o.collapsed&&(o.id=++Xa,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)mn(c,t.line,n.line+1);else if(o.className||o.title||o.startStyle||o.endStyle)for(var u=t.line;u<=n.line;u++)gn(c,u,"text");
o.atomic&&dt(c.doc),no(c,"markerAdded",c,o)}return o}function Nr(e,t,n,r,i){r=go(r),r.shared=!1;var o=[Ar(e,t,n,r,i)],a=o[0],s=r.widgetNode;return Ai(e,function(e){s&&(r.widgetNode=s.cloneNode(!0)),o.push(Ar(e,Z(e,t),Z(e,n),r,i));for(var l=0;l<e.linked.length;++l)if(e.linked[l].isParent)return;a=fo(o)}),new Ya(o,a)}function Er(e){return e.findMarks(ya(e.first,0),e.clipPos(ya(e.lastLine())),function(e){return e.parent})}function Or(e,t){for(var n=0;n<t.length;n++){var r=t[n],i=r.find(),o=e.clipPos(i.from),a=e.clipPos(i.to);if(ba(o,a)){var s=Ar(e,o,a,r.primary,r.primary.type);r.markers.push(s),s.parent=r}}}function _r(e){for(var t=0;t<e.length;t++){var n=e[t],r=[n.primary.doc];Ai(n.primary.doc,function(e){r.push(e)});for(var i=0;i<n.markers.length;i++){var o=n.markers[i];-1==ho(r,o.doc)&&(o.parent=null,n.markers.splice(i--,1))}}}function Fr(e,t,n){this.marker=e,this.from=t,this.to=n}function Ir(e,t){if(e)for(var n=0;n<e.length;++n){var r=e[n];if(r.marker==t)return r}}function Rr(e,t){for(var n,r=0;r<e.length;++r)e[r]!=t&&(n||(n=[])).push(e[r]);return n}function Dr(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function $r(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var l=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(r||(r=[])).push(new Fr(a,o.from,l?null:o.to))}}return r}function Br(e,t,n){if(e)for(var r,i=0;i<e.length;++i){var o=e[i],a=o.marker,s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var l=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(r||(r=[])).push(new Fr(a,l?null:o.from-t,null==o.to?null:o.to-t))}}return r}function jr(e,t){var n=tt(e,t.from.line)&&Ei(e,t.from.line).markedSpans,r=tt(e,t.to.line)&&Ei(e,t.to.line).markedSpans;if(!n&&!r)return null;var i=t.from.ch,o=t.to.ch,a=0==ba(t.from,t.to),s=$r(n,i,a),l=Br(r,o,a),c=1==t.text.length,u=fo(t.text).length+(c?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=Ir(l,h.marker);d?c&&(h.to=null==d.to?null:d.to+u):h.to=i}}if(l)for(var f=0;f<l.length;++f){var h=l[f];if(null!=h.to&&(h.to+=u),null==h.from){var d=Ir(s,h.marker);d||(h.from=u,c&&(s||(s=[])).push(h))}else h.from+=u,c&&(s||(s=[])).push(h)}s&&(s=Pr(s)),l&&l!=s&&(l=Pr(l));var p=[s];if(!c){var m,g=t.text.length-2;if(g>0&&s)for(var f=0;f<s.length;++f)null==s[f].to&&(m||(m=[])).push(new Fr(s[f].marker,null,null));for(var f=0;g>f;++f)p.push(m);p.push(l)}return p}function Pr(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&n.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Hr(e,t){var n=Gi(e,t),r=jr(e,t);if(!n)return r;if(!r)return n;for(var i=0;i<n.length;++i){var o=n[i],a=r[i];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[i]=a)}return n}function Wr(e,t,n){var r=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||r&&-1!=ho(r,n)||(r||(r=[])).push(n)}}),!r)return null;for(var i=[{from:t,to:n}],o=0;o<r.length;++o)for(var a=r[o],s=a.find(0),l=0;l<i.length;++l){var c=i[l];if(!(ba(c.to,s.from)<0||ba(c.from,s.to)>0)){var u=[l,1],f=ba(c.from,s.from),h=ba(c.to,s.to);(0>f||!a.inclusiveLeft&&!f)&&u.push({from:c.from,to:s.from}),(h>0||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),i.splice.apply(i,u),l+=u.length-1}}return i}function qr(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function zr(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function Ur(e){return e.inclusiveLeft?-1:0}function Vr(e){return e.inclusiveRight?1:0}function Kr(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var r=e.find(),i=t.find(),o=ba(r.from,i.from)||Ur(e)-Ur(t);if(o)return-o;var a=ba(r.to,i.to)||Vr(e)-Vr(t);return a?a:t.id-e.id}function Gr(e,t){var n,r=va&&e.markedSpans;if(r)for(var i,o=0;o<r.length;++o)i=r[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!n||Kr(n,i.marker)<0)&&(n=i.marker);return n}function Jr(e){return Gr(e,!0)}function Xr(e){return Gr(e,!1)}function Yr(e,t,n,r,i){var o=Ei(e,t),a=va&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=ba(c.from,n)||Ur(l.marker)-Ur(i),f=ba(c.to,r)||Vr(l.marker)-Vr(i);if(!(u>=0&&0>=f||0>=u&&f>=0)&&(0>=u&&(ba(c.to,n)>0||l.marker.inclusiveRight&&i.inclusiveLeft)||u>=0&&(ba(c.from,r)<0||l.marker.inclusiveLeft&&i.inclusiveRight)))return!0}}}function Qr(e){for(var t;t=Jr(e);)e=t.find(-1,!0).line;return e}function Zr(e){for(var t,n;t=Xr(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}function ei(e,t){var n=Ei(e,t),r=Qr(n);return n==r?t:Ii(r)}function ti(e,t){if(t>e.lastLine())return t;var n,r=Ei(e,t);if(!ni(e,r))return t;for(;n=Xr(r);)r=n.find(1,!0).line;return Ii(r)+1}function ni(e,t){var n=va&&t.markedSpans;if(n)for(var r,i=0;i<n.length;++i)if(r=n[i],r.marker.collapsed){if(null==r.from)return!0;if(!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&ri(e,t,r))return!0}}function ri(e,t,n){if(null==n.to){var r=n.marker.find(1,!0);return ri(e,r.line,Ir(r.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var i,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==n.to&&(null==i.to||i.to!=n.from)&&(i.marker.inclusiveLeft||n.marker.inclusiveRight)&&ri(e,t,i))return!0}function ii(e,t,n){Di(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&yr(e,null,n)}function oi(e){if(null!=e.height)return e.height;if(!So(document.body,e.node)){var t="position: relative;";e.coverGutter&&(t+="margin-left: -"+e.cm.getGutterElement().offsetWidth+"px;"),Co(e.cm.display.measure,ko("div",[e.node],null,t))}return e.height=e.node.offsetHeight}function ai(e,t,n,r){var i=new Qa(e,n,r);return i.noHScroll&&(e.display.alignWidgets=!0),xr(e.doc,t,"widget",function(t){var n=t.widgets||(t.widgets=[]);if(null==i.insertAt?n.push(i):n.splice(Math.min(n.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,!ni(e.doc,t)){var r=Di(t)<e.doc.scrollTop;Fi(t,t.height+oi(i)),r&&yr(e,null,i.height),e.curOp.forceUpdate=!0}return!0}),i}function si(e,t,n,r){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),qr(e),zr(e,n);var i=r?r(e):1;i!=e.height&&Fi(e,i)}function li(e){e.parent=null,qr(e)}function ci(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var r=n[1]?"bgClass":"textClass";null==t[r]?t[r]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[r])||(t[r]+=" "+n[2])}return e}function ui(t,n){if(t.blankLine)return t.blankLine(n);if(t.innerMode){var r=e.innerMode(t,n);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function fi(e,t,n){for(var r=0;10>r;r++){var i=e.token(t,n);if(t.pos>t.start)return i}throw new Error("Mode "+e.name+" failed to advance stream.")}function hi(t,n,r,i,o,a,s){var l=r.flattenSpans;null==l&&(l=t.options.flattenSpans);var c,u=0,f=null,h=new Ga(n,t.options.tabSize);for(""==n&&ci(ui(r,i),a);!h.eol();){if(h.pos>t.options.maxHighlightLength?(l=!1,s&&mi(t,n,i,h.pos),h.pos=n.length,c=null):c=ci(fi(r,h,i),a),t.options.addModeClass){var d=e.innerMode(r,i).mode.name;d&&(c="m-"+(c?d+" "+c:d))}l&&f==c||(u<h.start&&o(h.start,f),u=h.start,f=c),h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e4);o(p,f),u=p}}function di(e,t,n,r){var i=[e.state.modeGen],o={};hi(e,t.text,e.doc.mode,n,function(e,t){i.push(e,t)},o,r);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,c=0;hi(e,t.text,s.mode,!0,function(e,t){for(var n=l;e>c;){var r=i[l];r>e&&i.splice(l,1,e,i[l+1],r),l+=2,c=Math.min(e,r)}if(t)if(s.opaque)i.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;l>n;n+=2){var o=i[n+1];i[n+1]=(o?o+" ":"")+"cm-overlay "+t}},o)}return{styles:i,classes:o.bgClass||o.textClass?o:null}}function pi(e,t){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=di(e,t,t.stateAfter=Lt(e,Ii(t)));t.styles=n.styles,n.classes?t.styleClasses=n.classes:t.styleClasses&&(t.styleClasses=null)}return t.styles}function mi(e,t,n,r){var i=e.doc.mode,o=new Ga(t,e.options.tabSize);for(o.start=o.pos=r||0,""==t&&ui(i,n);!o.eol()&&o.pos<=e.options.maxHighlightLength;)fi(i,o,n),o.start=o.pos}function gi(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ts:es;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function vi(e,t){var n=ko("span",null,null,ta?"padding-right: .1px":null),r={pre:ko("pre",[n]),content:n,col:0,pos:0,cm:e};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var o,a=i?t.rest[i-1]:t.line;r.pos=0,r.addToken=bi,(Zo||ta)&&e.getOption("lineWrapping")&&(r.addToken=wi(r.addToken)),Ro(e.display.measure)&&(o=$i(a))&&(r.addToken=ki(r.addToken,o)),r.map=[],Ci(a,r,pi(e,a)),a.styleClasses&&(a.styleClasses.bgClass&&(r.bgClass=No(a.styleClasses.bgClass,r.bgClass||"")),a.styleClasses.textClass&&(r.textClass=No(a.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(Io(e.display.measure))),0==i?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}return fs(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=No(r.pre.className,r.textClass||"")),r}function yi(e){var t=ko("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t}function bi(e,t,n,r,i,o){if(t){var a=e.cm.options.specialChars,s=!1;if(a.test(t))for(var l=document.createDocumentFragment(),c=0;;){a.lastIndex=c;var u=a.exec(t),f=u?u.index-c:t.length-c;if(f){var h=document.createTextNode(t.slice(c,c+f));l.appendChild(Zo&&9>ea?ko("span",[h]):h),e.map.push(e.pos,e.pos+f,h),e.col+=f,e.pos+=f}if(!u)break;if(c+=f+1,"	"==u[0]){var d=e.cm.options.tabSize,p=d-e.col%d,h=l.appendChild(ko("span",uo(p),"cm-tab"));e.col+=p}else{var h=e.cm.options.specialCharPlaceholder(u[0]);l.appendChild(Zo&&9>ea?ko("span",[h]):h),e.col+=1}e.map.push(e.pos,e.pos+1,h),e.pos++}else{e.col+=t.length;var l=document.createTextNode(t);e.map.push(e.pos,e.pos+t.length,l),Zo&&9>ea&&(s=!0),e.pos+=t.length}if(n||r||i||s){var m=n||"";r&&(m+=r),i&&(m+=i);var g=ko("span",[l],m);return o&&(g.title=o),e.content.appendChild(g)}e.content.appendChild(l)}}function wi(e){function t(e){for(var t=" ",n=0;n<e.length-2;++n)t+=n%2?" ":" ";return t+=" "}return function(n,r,i,o,a,s){e(n,r.replace(/ {3,}/g,t),i,o,a,s)}}function ki(e,t){return function(n,r,i,o,a,s){i=i?i+" cm-force-border":"cm-force-border";for(var l=n.pos,c=l+r.length;;){for(var u=0;u<t.length;u++){var f=t[u];if(f.to>l&&f.from<=l)break}if(f.to>=c)return e(n,r,i,o,a,s);e(n,r.slice(0,f.to-l),i,o,null,s),o=null,r=r.slice(f.to-l),l=f.to}}}function xi(e,t,n,r){var i=!r&&n.widgetNode;i&&(e.map.push(e.pos,e.pos+t,i),e.content.appendChild(i)),e.pos+=t}function Ci(e,t,n){var r=e.markedSpans,i=e.text,o=0;if(r)for(var a,s,l,c,u,f,h=i.length,d=0,p=1,m="",g=0;;){if(g==d){s=l=c=u="",f=null,g=1/0;for(var v=[],y=0;y<r.length;++y){var b=r[y],w=b.marker;b.from<=d&&(null==b.to||b.to>d)?(null!=b.to&&g>b.to&&(g=b.to,l=""),w.className&&(s+=" "+w.className),w.startStyle&&b.from==d&&(c+=" "+w.startStyle),w.endStyle&&b.to==g&&(l+=" "+w.endStyle),w.title&&!u&&(u=w.title),w.collapsed&&(!f||Kr(f.marker,w)<0)&&(f=b)):b.from>d&&g>b.from&&(g=b.from),"bookmark"==w.type&&b.from==d&&w.widgetNode&&v.push(w)}if(f&&(f.from||0)==d&&(xi(t,(null==f.to?h+1:f.to)-d,f.marker,null==f.from),null==f.to))return;if(!f&&v.length)for(var y=0;y<v.length;++y)xi(t,0,v[y])}if(d>=h)break;for(var k=Math.min(h,g);;){if(m){var x=d+m.length;if(!f){var C=x>k?m.slice(0,k-d):m;t.addToken(t,C,a?a+s:s,c,d+C.length==g?l:"",u)}if(x>=k){m=m.slice(k-d),d=k;break}d=x,c=""}m=i.slice(o,o=n[p++]),a=gi(n[p++],t.cm.options)}}else for(var p=1;p<n.length;p+=2)t.addToken(t,i.slice(o,o=n[p]),gi(n[p+1],t.cm.options))}function Si(e,t){return 0==t.from.ch&&0==t.to.ch&&""==fo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Li(e,t,n,r){function i(e){return n?n[e]:null}function o(e,n,i){si(e,n,i,r),no(e,"change",e,t)}var a=t.from,s=t.to,l=t.text,c=Ei(e,a.line),u=Ei(e,s.line),f=fo(l),h=i(l.length-1),d=s.line-a.line;if(Si(e,t)){for(var p=0,m=[];p<l.length-1;++p)m.push(new Za(l[p],i(p),r));o(u,u.text,h),d&&e.remove(a.line,d),m.length&&e.insert(a.line,m)}else if(c==u)if(1==l.length)o(c,c.text.slice(0,a.ch)+f+c.text.slice(s.ch),h);else{for(var m=[],p=1;p<l.length-1;++p)m.push(new Za(l[p],i(p),r));m.push(new Za(f+c.text.slice(s.ch),h,r)),o(c,c.text.slice(0,a.ch)+l[0],i(0)),e.insert(a.line+1,m)}else if(1==l.length)o(c,c.text.slice(0,a.ch)+l[0]+u.text.slice(s.ch),i(0)),e.remove(a.line+1,d);else{o(c,c.text.slice(0,a.ch)+l[0],i(0)),o(u,f+u.text.slice(s.ch),h);for(var p=1,m=[];p<l.length-1;++p)m.push(new Za(l[p],i(p),r));d>1&&e.remove(a.line+1,d-1),e.insert(a.line+1,m)}no(e,"change",e,t)}function Ti(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function Mi(e){this.children=e;for(var t=0,n=0,r=0;r<e.length;++r){var i=e[r];t+=i.chunkSize(),n+=i.height,i.parent=this}this.size=t,this.height=n,this.parent=null}function Ai(e,t,n){function r(e,i,o){if(e.linked)for(var a=0;a<e.linked.length;++a){var s=e.linked[a];if(s.doc!=i){var l=o&&s.sharedHist;(!n||l)&&(t(s.doc,l),r(s.doc,e,l))}}}r(e,null,!0)}function Ni(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,a(e),n(e),e.options.lineWrapping||d(e),e.options.mode=t.modeOption,mn(e)}function Ei(e,t){if(t-=e.first,0>t||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var r=0;;++r){var i=n.children[r],o=i.chunkSize();if(o>t){n=i;break}t-=o}return n.lines[t]}function Oi(e,t,n){var r=[],i=t.line;return e.iter(t.line,n.line+1,function(e){var o=e.text;i==n.line&&(o=o.slice(0,n.ch)),i==t.line&&(o=o.slice(t.ch)),r.push(o),++i}),r}function _i(e,t,n){var r=[];return e.iter(t,n,function(e){r.push(e.text)}),r}function Fi(e,t){var n=t-e.height;if(n)for(var r=e;r;r=r.parent)r.height+=n}function Ii(e){if(null==e.parent)return null;for(var t=e.parent,n=ho(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var i=0;r.children[i]!=t;++i)n+=r.children[i].chunkSize();return n+t.first}function Ri(e,t){var n=e.first;e:do{for(var r=0;r<e.children.length;++r){var i=e.children[r],o=i.height;if(o>t){e=i;continue e}t-=o,n+=i.chunkSize()}return n}while(!e.lines);for(var r=0;r<e.lines.length;++r){var a=e.lines[r],s=a.height;if(s>t)break;t-=s}return n+r}function Di(e){e=Qr(e);for(var t=0,n=e.parent,r=0;r<n.lines.length;++r){var i=n.lines[r];if(i==e)break;t+=i.height}for(var o=n.parent;o;n=o,o=n.parent)for(var r=0;r<o.children.length;++r){var a=o.children[r];if(a==n)break;t+=a.height}return t}function $i(e){var t=e.order;return null==t&&(t=e.order=Ds(e.text)),t}function Bi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ji(e,t){var n={from:U(t.from),to:_a(t),text:Oi(e,t.from,t.to)};return Vi(e,n,t.from.line,t.to.line+1),Ai(e,function(e){Vi(e,n,t.from.line,t.to.line+1)},!0),n}function Pi(e){for(;e.length;){var t=fo(e);if(!t.ranges)break;e.pop()}}function Hi(e,t){return t?(Pi(e.done),fo(e.done)):e.done.length&&!fo(e.done).ranges?fo(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),fo(e.done)):void 0}function Wi(e,t,n,r){var i=e.history;i.undone.length=0;var o,a=+new Date;if((i.lastOp==r||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&i.lastModTime>a-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=Hi(i,i.lastOp==r))){var s=fo(o.changes);0==ba(t.from,t.to)&&0==ba(t.from,s.to)?s.to=_a(t):o.changes.push(ji(e,t))}else{var l=fo(i.done);for(l&&l.ranges||Ui(e.sel,i.done),o={changes:[ji(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(n),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=r,i.lastOrigin=i.lastSelOrigin=t.origin,s||fs(e,"historyAdded")}function qi(e,t,n,r){var i=t.charAt(0);return"*"==i||"+"==i&&n.ranges.length==r.ranges.length&&n.somethingSelected()==r.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function zi(e,t,n,r){var i=e.history,o=r&&r.origin;n==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||qi(e,o,fo(i.done),t))?i.done[i.done.length-1]=t:Ui(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=n,r&&r.clearRedo!==!1&&Pi(i.undone)}function Ui(e,t){var n=fo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Vi(e,t,n,r){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,n),Math.min(e.first+e.size,r),function(n){n.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=n.markedSpans),++o})}function Ki(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Gi(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var r=0,i=[];r<t.text.length;++r)i.push(Ki(n[r]));return i}function Ji(e,t,n){for(var r=0,i=[];r<e.length;++r){var o=e[r];if(o.ranges)i.push(n?G.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];i.push({changes:s});for(var l=0;l<a.length;++l){var c,u=a[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&ho(t,Number(c[1]))>-1&&(fo(s)[f]=u[f],delete u[f])}}}return i}function Xi(e,t,n,r){n<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Yi(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i],a=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)Xi(o.ranges[s].anchor,t,n,r),Xi(o.ranges[s].head,t,n,r)}else{for(var s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=ya(l.from.line+r,l.from.ch),l.to=ya(l.to.line+r,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,i+1),i=0)}}}function Qi(e,t){var n=t.from.line,r=t.to.line,i=t.text.length-(r-n)-1;Yi(e.done,n,r,i),Yi(e.undone,n,r,i)}function Zi(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function eo(e){return e.target||e.srcElement}function to(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),fa&&e.ctrlKey&&1==t&&(t=3),t}function no(e,t){function n(e){return function(){e.apply(null,o)}}var r=e._handlers&&e._handlers[t];if(r){var i,o=Array.prototype.slice.call(arguments,2);Sa?i=Sa.delayedCallbacks:hs?i=hs:(i=hs=[],setTimeout(ro,0));for(var a=0;a<r.length;++a)i.push(n(r[a]))}}function ro(){var e=hs;hs=null;for(var t=0;t<e.length;++t)e[t]()}function io(e,t,n){return fs(e,n||t.type,e,t),Zi(t)||t.codemirrorIgnore}function oo(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==ho(n,t[r])&&n.push(t[r])}function ao(e,t){var n=e._handlers&&e._handlers[t];return n&&n.length>0}function so(e){e.prototype.on=function(e,t){cs(this,e,t)},e.prototype.off=function(e,t){us(this,e,t)}}function lo(){this.id=null}function co(e,t,n){for(var r=0,i=0;;){var o=e.indexOf("	",r);-1==o&&(o=e.length);var a=o-r;if(o==e.length||i+a>=t)return r+Math.min(a,t-i);if(i+=o-r,i+=n-i%n,r=o+1,i>=t)return r}}function uo(e){for(;bs.length<=e;)bs.push(fo(bs)+" ");return bs[e]}function fo(e){return e[e.length-1]}function ho(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function po(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r);return n}function mo(e,t){var n;if(Object.create)n=Object.create(e);else{var r=function(){};r.prototype=e,n=new r}return t&&go(t,n),n}function go(e,t,n){t||(t={});for(var r in e)!e.hasOwnProperty(r)||n===!1&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function vo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function yo(e,t){return t?t.source.indexOf("\\w")>-1&&Cs(e)?!0:t.test(e):Cs(e)}function bo(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function wo(e){return e.charCodeAt(0)>=768&&Ss.test(e)}function ko(e,t,n,r){var i=document.createElement(e);if(n&&(i.className=n),r&&(i.style.cssText=r),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function xo(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function Co(e,t){return xo(e).appendChild(t)}function So(e,t){if(e.contains)return e.contains(t);for(;t=t.parentNode;)if(t==e)return!0}function Lo(){return document.activeElement}function To(e){return new RegExp("\\b"+e+"\\b\\s*")}function Mo(e,t){var n=To(t);n.test(e.className)&&(e.className=e.className.replace(n,""))}function Ao(e,t){To(t).test(e.className)||(e.className+=" "+t)}function No(e,t){for(var n=e.split(" "),r=0;r<n.length;r++)n[r]&&!To(n[r]).test(t)&&(t+=" "+n[r]);return t}function Eo(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var r=t[n].CodeMirror;r&&e(r)}}function Oo(){As||(_o(),As=!0)}function _o(){var e;cs(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ls=null,Eo(En)},100))}),cs(window,"blur",function(){Eo(Zn)})}function Fo(e){if(null!=Ls)return Ls;var t=ko("div",null,null,"width: 50px; height: 50px; overflow-x: scroll");return Co(e,t),t.offsetWidth&&(Ls=t.offsetHeight-t.clientHeight),Ls||0}function Io(e){if(null==Ts){var t=ko("span","​");Co(e,ko("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Ts=t.offsetWidth<=1&&t.offsetHeight>2&&!(Zo&&8>ea))}return Ts?ko("span","​"):ko("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px")}function Ro(e){if(null!=Ms)return Ms;var t=Co(e,document.createTextNode("AخA")),n=ks(t,0,1).getBoundingClientRect();if(!n||n.left==n.right)return!1;var r=ks(t,1,2).getBoundingClientRect();return Ms=r.right-n.right<3}function Do(e){if(null!=Fs)return Fs;var t=Co(e,ko("span","x")),n=t.getBoundingClientRect(),r=ks(t,0,1).getBoundingClientRect();return Fs=Math.abs(n.left-r.left)>1}function $o(e,t,n,r){if(!e)return r(t,n,"ltr");for(var i=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(r(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),i=!0)}i||r(t,n,"ltr")}function Bo(e){return e.level%2?e.to:e.from}function jo(e){return e.level%2?e.from:e.to}function Po(e){var t=$i(e);return t?Bo(t[0]):0}function Ho(e){var t=$i(e);return t?jo(fo(t)):e.text.length}function Wo(e,t){var n=Ei(e.doc,t),r=Qr(n);r!=n&&(t=Ii(r));var i=$i(r),o=i?i[0].level%2?Ho(r):Po(r):0;return ya(t,o)}function qo(e,t){for(var n,r=Ei(e.doc,t);n=Xr(r);)r=n.find(1,!0).line,t=null;var i=$i(r),o=i?i[0].level%2?Po(r):Ho(r):r.text.length;return ya(null==t?Ii(r):t,o)}function zo(e,t){var n=Wo(e,t.line),r=Ei(e.doc,n.line),i=$i(r);if(!i||0==i[0].level){var o=Math.max(0,r.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return ya(n.line,a?0:o)}return n}function Uo(e,t,n){var r=e[0].level;return t==r?!0:n==r?!1:n>t}function Vo(e,t){Rs=null;for(var n,r=0;r<e.length;++r){var i=e[r];if(i.from<t&&i.to>t)return r;if(i.from==t||i.to==t){if(null!=n)return Uo(e,i.level,e[n].level)?(i.from!=i.to&&(Rs=n),r):(i.from!=i.to&&(Rs=r),n);n=r}}return n}function Ko(e,t,n,r){if(!r)return t+n;do t+=n;while(t>0&&wo(e.text.charAt(t)));return t}function Go(e,t,n,r){var i=$i(e);if(!i)return Jo(e,t,n,r);for(var o=Vo(i,t),a=i[o],s=Ko(e,t,a.level%2?-n:n,r);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return Vo(i,s)==o?s:(a=i[o+=n],n>0==a.level%2?a.to:a.from);if(a=i[o+=n],!a)return null;s=n>0==a.level%2?Ko(e,a.to,-1,r):Ko(e,a.from,1,r)}}function Jo(e,t,n,r){var i=t+n;if(r)for(;i>0&&wo(e.text.charAt(i));)i+=n;return 0>i||i>e.text.length?null:i}var Xo=/gecko\/\d/i.test(navigator.userAgent),Yo=/MSIE \d/.test(navigator.userAgent),Qo=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),Zo=Yo||Qo,ea=Zo&&(Yo?document.documentMode||6:Qo[1]),ta=/WebKit\//.test(navigator.userAgent),na=ta&&/Qt\/\d+\.\d+/.test(navigator.userAgent),ra=/Chrome\//.test(navigator.userAgent),ia=/Opera\//.test(navigator.userAgent),oa=/Apple Computer/.test(navigator.vendor),aa=/KHTML\//.test(navigator.userAgent),sa=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),la=/PhantomJS/.test(navigator.userAgent),ca=/AppleWebKit/.test(navigator.userAgent)&&/Mobile\/\w+/.test(navigator.userAgent),ua=ca||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),fa=ca||/Mac/.test(navigator.platform),ha=/win/i.test(navigator.platform),da=ia&&navigator.userAgent.match(/Version\/(\d*\.\d*)/);da&&(da=Number(da[1])),da&&da>=15&&(ia=!1,ta=!0);var pa=fa&&(na||ia&&(null==da||12.11>da)),ma=Xo||Zo&&ea>=9,ga=!1,va=!1,ya=e.Pos=function(e,t){return this instanceof ya?(this.line=e,void(this.ch=t)):new ya(e,t)},ba=e.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};G.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],r=e.ranges[t];if(0!=ba(n.anchor,r.anchor)||0!=ba(n.head,r.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new J(U(this.ranges[t].anchor),U(this.ranges[t].head));return new G(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var r=this.ranges[n];if(ba(t,r.from())>=0&&ba(e,r.to())<=0)return n}return-1}},J.prototype={from:function(){return K(this.anchor,this.head)},to:function(){return V(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var wa,ka,xa,Ca={left:0,right:0,top:0,bottom:0},Sa=null,La=0,Ta=null,Ma=0,Aa=0,Na=null;Zo?Na=-.53:Xo?Na=15:ra?Na=-.7:oa&&(Na=-1/3);var Ea,Oa=null,_a=e.changeEnd=function(e){return e.text?ya(e.from.line+e.text.length-1,fo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};e.prototype={constructor:e,focus:function(){window.focus(),Tn(this),Cn(this)},setOption:function(e,t){var n=this.options,r=n[e];(n[e]!=t||"mode"==e)&&(n[e]=t,Ia.hasOwnProperty(e)&&un(this,Ia[e])(this,t,r))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](e)},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||"string"!=typeof t[n]&&t[n].name==e)return t.splice(n,1),!0},addOverlay:fn(function(t,n){var r=t.token?t:e.getMode(this.options,t);if(r.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:r,modeSpec:t,opaque:n&&n.opaque}),this.state.modeGen++,mn(this)}),removeOverlay:fn(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var r=t[n].modeSpec;if(r==e||"string"==typeof e&&r.name==e)return t.splice(n,1),this.state.modeGen++,void mn(this)}}),indentLine:fn(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),tt(this.doc,e)&&kr(this,e,t,n)}),indentSelection:fn(function(e){for(var t=this.doc.sel.ranges,n=-1,r=0;r<t.length;r++){var i=t[r];if(i.empty())i.head.line>n&&(kr(this,i.head.line,e,!0),n=i.head.line,r==this.doc.sel.primIndex&&br(this));else{var o=i.from(),a=i.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;n>l;++l)kr(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&c[r].from().ch>0&&at(this.doc,r,new J(o,c[r].to()),ms)}}}),getTokenAt:function(e,t){var n=this.doc;e=Z(n,e);for(var r=Lt(this,e.line,t),i=this.doc.mode,o=Ei(n,e.line),a=new Ga(o.text,this.options.tabSize);a.pos<e.ch&&!a.eol();){a.start=a.pos;var s=fi(i,a,r)}return{start:a.start,end:a.pos,string:a.current(),type:s||null,state:r}},getTokenTypeAt:function(e){e=Z(this.doc,e);var t,n=pi(this,Ei(this.doc,e.line)),r=0,i=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=r+i>>1;if((a?n[2*a-1]:0)>=o)i=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}r=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return 0>s?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var n=this.doc.mode;return n.innerMode?e.innerMode(n,this.getTokenAt(t).state).mode:n},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!Pa.hasOwnProperty(t))return Pa;var r=Pa[t],i=this.getModeAt(e);if("string"==typeof i[t])r[i[t]]&&n.push(r[i[t]]);else if(i[t])for(var o=0;o<i[t].length;o++){var a=r[i[t][o]];a&&n.push(a)}else i.helperType&&r[i.helperType]?n.push(r[i.helperType]):r[i.name]&&n.push(r[i.name]);for(var o=0;o<r._global.length;o++){var s=r._global[o];s.pred(i,this)&&-1==ho(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return e=Q(n,null==e?n.first+n.size-1:e),Lt(this,e+1,t)},cursorCoords:function(e,t){var n,r=this.doc.sel.primary();return n=null==e?r.head:"object"==typeof e?Z(this.doc,e):e?r.from():r.to(),Vt(this,n,t||"page")},charCoords:function(e,t){return Ut(this,Z(this.doc,e),t||"page")},coordsChar:function(e,t){return e=zt(this,e,t||"page"),Jt(this,e.left,e.top)},lineAtHeight:function(e,t){return e=zt(this,{top:e,left:0},t||"page").top,Ri(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n=!1,r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>r&&(e=r,n=!0);var i=Ei(this.doc,e);return qt(this,i,{top:0,left:0},t||"page").top+(n?this.doc.height-Di(i):0)},defaultTextHeight:function(){return Yt(this.display)},defaultCharWidth:function(){return Qt(this.display)},setGutterMarker:fn(function(e,t,n){return xr(this.doc,e,"gutter",function(e){var r=e.gutterMarkers||(e.gutterMarkers={});return r[t]=n,!n&&bo(r)&&(e.gutterMarkers=null),!0})}),clearGutter:fn(function(e){var t=this,n=t.doc,r=n.first;n.iter(function(n){n.gutterMarkers&&n.gutterMarkers[e]&&(n.gutterMarkers[e]=null,gn(t,r,"gutter"),bo(n.gutterMarkers)&&(n.gutterMarkers=null)),++r})}),addLineWidget:fn(function(e,t,n){return ai(this,e,t,n)}),removeLineWidget:function(e){e.clear()},lineInfo:function(e){if("number"==typeof e){if(!tt(this.doc,e))return null;var t=e;if(e=Ei(this.doc,e),!e)return null}else{var t=Ii(e);if(null==t)return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,r,i){var o=this.display;e=Vt(this,Z(this.doc,e));var a=e.bottom,s=e.left;if(t.style.position="absolute",o.sizer.appendChild(t),"over"==r)a=e.top;else if("above"==r||"near"==r){var l=Math.max(o.wrapper.clientHeight,this.doc.height),c=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==r||e.bottom+t.offsetHeight>l)&&e.top>t.offsetHeight?a=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=l&&(a=e.bottom),s+t.offsetWidth>c&&(s=c-t.offsetWidth)}t.style.top=a+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),n&&gr(this,s,a,s+t.offsetWidth,a+t.offsetHeight)},triggerOnKeyDown:fn(Gn),triggerOnKeyPress:fn(Yn),triggerOnKeyUp:Xn,execCommand:function(e){return qa.hasOwnProperty(e)?qa[e](this):void 0},findPosH:function(e,t,n,r){var i=1;0>t&&(i=-1,t=-t);for(var o=0,a=Z(this.doc,e);t>o&&(a=Sr(this.doc,a,i,n,r),!a.hitSide);++o);return a},moveH:fn(function(e,t){var n=this;n.extendSelectionsBy(function(r){return n.display.shift||n.doc.extend||r.empty()?Sr(n.doc,r.head,e,t,n.options.rtlMoveVisually):0>e?r.from():r.to()},vs)}),deleteH:fn(function(e,t){var n=this.doc.sel,r=this.doc;n.somethingSelected()?r.replaceSelection("",null,"+delete"):Cr(this,function(n){var i=Sr(r,n.head,e,t,!1);
return 0>e?{from:i,to:n.head}:{from:n.head,to:i}})}),findPosV:function(e,t,n,r){var i=1,o=r;0>t&&(i=-1,t=-t);for(var a=0,s=Z(this.doc,e);t>a;++a){var l=Vt(this,s,"div");if(null==o?o=l.left:l.left=o,s=Lr(this,l,i,n),s.hitSide)break}return s},moveV:fn(function(e,t){var n=this,r=this.doc,i=[],o=!n.display.shift&&!r.extend&&r.sel.somethingSelected();if(r.extendSelectionsBy(function(a){if(o)return 0>e?a.from():a.to();var s=Vt(n,a.head,"div");null!=a.goalColumn&&(s.left=a.goalColumn),i.push(s.left);var l=Lr(n,s,e,t);return"page"==t&&a==r.sel.primary()&&yr(n,null,Ut(n,l,"div").top-s.top),l},vs),i.length)for(var a=0;a<r.sel.ranges.length;a++)r.sel.ranges[a].goalColumn=i[a]}),findWordAt:function(e){var t=this.doc,n=Ei(t,e.line).text,r=e.ch,i=e.ch;if(n){var o=this.getHelper(e,"wordChars");(e.xRel<0||i==n.length)&&r?--r:++i;for(var a=n.charAt(r),s=yo(a,o)?function(e){return yo(e,o)}:/\s/.test(a)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!yo(e)};r>0&&s(n.charAt(r-1));)--r;for(;i<n.length&&s(n.charAt(i));)++i}return new J(ya(e.line,r),ya(e.line,i))},toggleOverwrite:function(e){(null==e||e!=this.state.overwrite)&&((this.state.overwrite=!this.state.overwrite)?Ao(this.display.cursorDiv,"CodeMirror-overwrite"):Mo(this.display.cursorDiv,"CodeMirror-overwrite"),fs(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return Lo()==this.display.input},scrollTo:fn(function(e,t){(null!=e||null!=t)&&wr(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller,t=ds;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-t,width:e.scrollWidth-t,clientHeight:e.clientHeight-t,clientWidth:e.clientWidth-t}},scrollIntoView:fn(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ya(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)wr(this),this.curOp.scrollToPos=e;else{var n=vr(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:fn(function(e,t){function n(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var r=this;null!=e&&(r.display.wrapper.style.width=n(e)),null!=t&&(r.display.wrapper.style.height=n(t)),r.options.lineWrapping&&jt(this);var i=r.display.viewFrom;r.doc.iter(i,r.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){gn(r,i,"widget");break}++i}),r.curOp.forceUpdate=!0,fs(r,"refresh",this)}),operation:function(e){return cn(this,e)},refresh:fn(function(){var e=this.display.cachedTextHeight;mn(this),this.curOp.forceUpdate=!0,Pt(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),f(this),(null==e||Math.abs(e-Yt(this.display))>.5)&&a(this),fs(this,"refresh",this)}),swapDoc:fn(function(e){var t=this.doc;return t.cm=null,Ni(this,e),Pt(this),Ln(this),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,no(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},so(e);var Fa=e.defaults={},Ia=e.optionHandlers={},Ra=e.Init={toString:function(){return"CodeMirror.Init"}};Tr("value","",function(e,t){e.setValue(t)},!0),Tr("mode",null,function(e,t){e.doc.modeOption=t,n(e)},!0),Tr("indentUnit",2,n,!0),Tr("indentWithTabs",!1),Tr("smartIndent",!0),Tr("tabSize",4,function(e){r(e),Pt(e),mn(e)},!0),Tr("specialChars",/[\t\u0000-\u0019\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t){e.options.specialChars=new RegExp(t.source+(t.test("	")?"":"|	"),"g"),e.refresh()},!0),Tr("specialCharPlaceholder",yi,function(e){e.refresh()},!0),Tr("electricChars",!0),Tr("rtlMoveVisually",!ha),Tr("wholeLineUpdateBefore",!0),Tr("theme","default",function(e){l(e),c(e)},!0),Tr("keyMap","default",s),Tr("extraKeys",null),Tr("lineWrapping",!1,i,!0),Tr("gutters",[],function(e){p(e.options),c(e)},!0),Tr("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?x(e.display)+"px":"0",e.refresh()},!0),Tr("coverGutterNextToScrollbar",!1,v,!0),Tr("lineNumbers",!1,function(e){p(e.options),c(e)},!0),Tr("firstLineNumber",1,c,!0),Tr("lineNumberFormatter",function(e){return e},c,!0),Tr("showCursorWhenSelecting",!1,yt,!0),Tr("resetSelectionOnContextMenu",!0),Tr("readOnly",!1,function(e,t){"nocursor"==t?(Zn(e),e.display.input.blur(),e.display.disabled=!0):(e.display.disabled=!1,t||Ln(e))}),Tr("disableInput",!1,function(e,t){t||Ln(e)},!0),Tr("dragDrop",!0),Tr("cursorBlinkRate",530),Tr("cursorScrollMargin",0),Tr("cursorHeight",1,yt,!0),Tr("singleCursorHeightPerLine",!0,yt,!0),Tr("workTime",100),Tr("workDelay",100),Tr("flattenSpans",!0,r,!0),Tr("addModeClass",!1,r,!0),Tr("pollInterval",100),Tr("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),Tr("historyEventDelay",1250),Tr("viewportMargin",10,function(e){e.refresh()},!0),Tr("maxHighlightLength",1e4,r,!0),Tr("moveInputWithCursor",!0,function(e,t){t||(e.display.inputDiv.style.top=e.display.inputDiv.style.left=0)}),Tr("tabindex",null,function(e,t){e.display.input.tabIndex=t||""}),Tr("autofocus",null);var Da=e.modes={},$a=e.mimeModes={};e.defineMode=function(t,n){if(e.defaults.mode||"null"==t||(e.defaults.mode=t),arguments.length>2){n.dependencies=[];for(var r=2;r<arguments.length;++r)n.dependencies.push(arguments[r])}Da[t]=n},e.defineMIME=function(e,t){$a[e]=t},e.resolveMode=function(t){if("string"==typeof t&&$a.hasOwnProperty(t))t=$a[t];else if(t&&"string"==typeof t.name&&$a.hasOwnProperty(t.name)){var n=$a[t.name];"string"==typeof n&&(n={name:n}),t=mo(n,t),t.name=n.name}else if("string"==typeof t&&/^[\w\-]+\/[\w\-]+\+xml$/.test(t))return e.resolveMode("application/xml");return"string"==typeof t?{name:t}:t||{name:"null"}},e.getMode=function(t,n){var n=e.resolveMode(n),r=Da[n.name];if(!r)return e.getMode(t,"text/plain");var i=r(t,n);if(Ba.hasOwnProperty(n.name)){var o=Ba[n.name];for(var a in o)o.hasOwnProperty(a)&&(i.hasOwnProperty(a)&&(i["_"+a]=i[a]),i[a]=o[a])}if(i.name=n.name,n.helperType&&(i.helperType=n.helperType),n.modeProps)for(var a in n.modeProps)i[a]=n.modeProps[a];return i},e.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),e.defineMIME("text/plain","null");var Ba=e.modeExtensions={};e.extendMode=function(e,t){var n=Ba.hasOwnProperty(e)?Ba[e]:Ba[e]={};go(t,n)},e.defineExtension=function(t,n){e.prototype[t]=n},e.defineDocExtension=function(e,t){rs.prototype[e]=t},e.defineOption=Tr;var ja=[];e.defineInitHook=function(e){ja.push(e)};var Pa=e.helpers={};e.registerHelper=function(t,n,r){Pa.hasOwnProperty(t)||(Pa[t]=e[t]={_global:[]}),Pa[t][n]=r},e.registerGlobalHelper=function(t,n,r,i){e.registerHelper(t,n,i),Pa[t]._global.push({pred:r,val:i})};var Ha=e.copyState=function(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var n={};for(var r in t){var i=t[r];i instanceof Array&&(i=i.concat([])),n[r]=i}return n},Wa=e.startState=function(e,t,n){return e.startState?e.startState(t,n):!0};e.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var qa=e.commands={selectAll:function(e){e.setSelection(ya(e.firstLine(),0),ya(e.lastLine()),ms)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),ms)},killLine:function(e){Cr(e,function(t){if(t.empty()){var n=Ei(e.doc,t.head.line).text.length;return t.head.ch==n&&t.head.line<e.lastLine()?{from:t.head,to:ya(t.head.line+1,0)}:{from:t.head,to:ya(t.head.line,n)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){Cr(e,function(t){return{from:ya(t.from().line,0),to:Z(e.doc,ya(t.to().line+1,0))}})},delLineLeft:function(e){Cr(e,function(e){return{from:ya(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){Cr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return{from:r,to:t.from()}})},delWrappedLineRight:function(e){Cr(e,function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div");return{from:t.from(),to:r}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(ya(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(ya(e.lastLine()))},goLineStart:function(e){e.extendSelectionsBy(function(t){return Wo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){e.extendSelectionsBy(function(t){return zo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){e.extendSelectionsBy(function(t){return qo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:n},"div")},vs)},goLineLeft:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:n},"div")},vs)},goLineLeftSmart:function(e){e.extendSelectionsBy(function(t){var n=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:n},"div");return r.ch<e.getLine(r.line).search(/\S/)?zo(e,t.head):r},vs)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("	")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),r=e.options.tabSize,i=0;i<n.length;i++){var o=n[i].from(),a=ys(e.getLine(o.line),o.ch,r);t.push(new Array(r-a%r+1).join(" "))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){cn(e,function(){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r].head,o=Ei(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new ya(i.line,i.ch-1)),i.ch>0)i=new ya(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),ya(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var a=Ei(e.doc,i.line-1).text;a&&e.replaceRange(o.charAt(0)+"\n"+a.charAt(a.length-1),ya(i.line-1,a.length-1),ya(i.line,1),"+transpose")}n.push(new J(i,i))}e.setSelections(n)})},newlineAndIndent:function(e){cn(e,function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];e.replaceRange("\n",r.anchor,r.head,"+input"),e.indentLine(r.from().line+1,null,!0),br(e)}})},toggleOverwrite:function(e){e.toggleOverwrite()}},za=e.keyMap={};za.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},za.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-Up":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Down":"goDocEnd","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},za.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection",fallthrough:["basic","emacsy"]},za.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars"},za["default"]=fa?za.macDefault:za.pcDefault;var Ua=e.lookupKey=function(e,t,n){function r(t){t=Mr(t);var i=t[e];if(i===!1)return"stop";if(null!=i&&n(i))return!0;if(t.nofallthrough)return"stop";var o=t.fallthrough;if(null==o)return!1;if("[object Array]"!=Object.prototype.toString.call(o))return r(o);for(var a=0;a<o.length;++a){var s=r(o[a]);if(s)return s}return!1}for(var i=0;i<t.length;++i){var o=r(t[i]);if(o)return"stop"!=o}},Va=e.isModifierKey=function(e){var t=Is[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},Ka=e.keyName=function(e,t){if(ia&&34==e.keyCode&&e["char"])return!1;var n=Is[e.keyCode];return null==n||e.altGraphKey?!1:(e.altKey&&(n="Alt-"+n),(pa?e.metaKey:e.ctrlKey)&&(n="Ctrl-"+n),(pa?e.ctrlKey:e.metaKey)&&(n="Cmd-"+n),!t&&e.shiftKey&&(n="Shift-"+n),n)};e.fromTextArea=function(t,n){function r(){t.value=c.getValue()}if(n||(n={}),n.value=t.value,!n.tabindex&&t.tabindex&&(n.tabindex=t.tabindex),!n.placeholder&&t.placeholder&&(n.placeholder=t.placeholder),null==n.autofocus){var i=Lo();n.autofocus=i==t||null!=t.getAttribute("autofocus")&&i==document.body}if(t.form&&(cs(t.form,"submit",r),!n.leaveSubmitMethodAlone)){var o=t.form,a=o.submit;try{var s=o.submit=function(){r(),o.submit=a,o.submit(),o.submit=s}}catch(l){}}t.style.display="none";var c=e(function(e){t.parentNode.insertBefore(e,t.nextSibling)},n);return c.save=r,c.getTextArea=function(){return t},c.toTextArea=function(){r(),t.parentNode.removeChild(c.getWrapperElement()),t.style.display="",t.form&&(us(t.form,"submit",r),"function"==typeof t.form.submit&&(t.form.submit=a))},c};var Ga=e.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Ga.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else var n=t&&(e.test?e.test(t):e(t));return n?(++this.pos,t):void 0},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);return t>-1?(this.pos=t,!0):void 0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=ys(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?ys(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return ys(this.string,null,this.tabSize)-(this.lineStart?ys(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&t!==!1&&(this.pos+=r[0].length),r)}var i=function(e){return n?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);return i(o)==i(e)?(t!==!1&&(this.pos+=e.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var Ja=e.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e};so(Ja),Ja.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Zt(e),ao(this,"clear")){var n=this.find();n&&no(this,"clear",n.from,n.to)}for(var r=null,i=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=Ir(a.markedSpans,this);e&&!this.collapsed?gn(e,Ii(a),"text"):e&&(null!=s.to&&(i=Ii(a)),null!=s.from&&(r=Ii(a))),a.markedSpans=Rr(a.markedSpans,s),null==s.from&&this.collapsed&&!ni(this.doc,a)&&e&&Fi(a,Yt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var o=0;o<this.lines.length;++o){var l=Qr(this.lines[o]),c=h(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&mn(e,r,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&dt(e.doc)),e&&no(e,"markerCleared",e,this),t&&tn(e),this.parent&&this.parent.clear()}},Ja.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var n,r,i=0;i<this.lines.length;++i){var o=this.lines[i],a=Ir(o.markedSpans,this);if(null!=a.from&&(n=ya(t?o:Ii(o),a.from),-1==e))return n;if(null!=a.to&&(r=ya(t?o:Ii(o),a.to),1==e))return r}return n&&{from:n,to:r}},Ja.prototype.changed=function(){var e=this.find(-1,!0),t=this,n=this.doc.cm;e&&n&&cn(n,function(){var r=e.line,i=Ii(e.line),o=Ft(n,i);if(o&&(Bt(o),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!ni(t.doc,r)&&null!=t.height){var a=t.height;t.height=null;var s=oi(t)-a;s&&Fi(r,r.height+s)}})},Ja.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=ho(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ja.prototype.detachLine=function(e){if(this.lines.splice(ho(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};var Xa=0,Ya=e.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};so(Ya),Ya.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();no(this,"clear")}},Ya.prototype.find=function(e,t){return this.primary.find(e,t)};var Qa=e.LineWidget=function(e,t,n){if(n)for(var r in n)n.hasOwnProperty(r)&&(this[r]=n[r]);this.cm=e,this.node=t};so(Qa),Qa.prototype.clear=function(){var e=this.cm,t=this.line.widgets,n=this.line,r=Ii(n);if(null!=r&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(n.widgets=null);var o=oi(this);cn(e,function(){ii(e,n,-o),gn(e,r,"widget"),Fi(n,Math.max(0,n.height-o))})}},Qa.prototype.changed=function(){var e=this.height,t=this.cm,n=this.line;this.height=null;var r=oi(this)-e;r&&cn(t,function(){t.curOp.forceUpdate=!0,ii(t,n,r),Fi(n,n.height+r)})};var Za=e.Line=function(e,t,n){this.text=e,zr(this,t),this.height=n?n(this):1};so(Za),Za.prototype.lineNo=function(){return Ii(this)};var es={},ts={};Ti.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,r=e+t;r>n;++n){var i=this.lines[n];this.height-=i.height,li(i),no(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,n){for(var r=e+t;r>e;++e)if(n(this.lines[e]))return!0}},Mi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var r=this.children[n],i=r.chunkSize();if(i>e){var o=Math.min(t,i-e),a=r.height;if(r.removeInner(e,o),this.height-=a-r.height,i==o&&(this.children.splice(n--,1),r.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ti))){var s=[];this.collapse(s),this.children=[new Ti(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>=e){if(i.insertInner(e,t,n),i.lines&&i.lines.length>50){for(;i.lines.length>50;){var a=i.lines.splice(i.lines.length-25,25),s=new Ti(a);i.height-=s.height,this.children.splice(r+1,0,s),s.parent=this}this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),n=new Mi(t);if(e.parent){e.size-=n.size,e.height-=n.height;var r=ho(e.parent.children,e);e.parent.children.splice(r+1,0,n)}else{var i=new Mi(e.children);i.parent=e,e.children=[i,n],e=i}n.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var r=0;r<this.children.length;++r){var i=this.children[r],o=i.chunkSize();if(o>e){var a=Math.min(t,o-e);if(i.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var ns=0,rs=e.Doc=function(e,t,n){if(!(this instanceof rs))return new rs(e,t,n);null==n&&(n=0),Mi.call(this,[new Ti([new Za("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=ya(n,0);this.sel=Y(r),this.history=new Bi(null),this.id=++ns,this.modeOption=t,"string"==typeof e&&(e=Es(e)),Li(this,{from:r,to:r,text:e}),ut(this,Y(r),ms)};rs.prototype=mo(Mi.prototype,{constructor:rs,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,r=0;r<t.length;++r)n+=t[r].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=_i(this,this.first,this.first+this.size);return e===!1?t:t.join(e||"\n")},setValue:hn(function(e){var t=ya(this.first,0),n=this.first+this.size-1;sr(this,{from:t,to:ya(n,Ei(this,n).text.length),text:Es(e),origin:"setValue"},!0),ut(this,Y(t))}),replaceRange:function(e,t,n,r){t=Z(this,t),n=n?Z(this,n):t,dr(this,e,t,n,r)},getRange:function(e,t,n){var r=Oi(this,Z(this,e),Z(this,t));return n===!1?r:r.join(n||"\n")},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){return tt(this,e)?Ei(this,e):void 0},getLineNumber:function(e){return Ii(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Ei(this,e)),Qr(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return Z(this,e)},getCursor:function(e){var t,n=this.sel.primary();return t=null==e||"head"==e?n.head:"anchor"==e?n.anchor:"end"==e||"to"==e||e===!1?n.to():n.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:hn(function(e,t,n){st(this,Z(this,"number"==typeof e?ya(e,t||0):e),null,n)}),setSelection:hn(function(e,t,n){st(this,Z(this,e),Z(this,t||e),n)}),extendSelection:hn(function(e,t,n){it(this,Z(this,e),t&&Z(this,t),n)}),extendSelections:hn(function(e,t){ot(this,nt(this,e,t))}),extendSelectionsBy:hn(function(e,t){ot(this,po(this.sel.ranges,e),t)}),setSelections:hn(function(e,t,n){if(e.length){for(var r=0,i=[];r<e.length;r++)i[r]=new J(Z(this,e[r].anchor),Z(this,e[r].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),ut(this,X(i,t),n)}}),addSelection:hn(function(e,t,n){var r=this.sel.ranges.slice(0);r.push(new J(Z(this,e),Z(this,t||e))),ut(this,X(r,r.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,r=0;r<n.length;r++){var i=Oi(this,n[r].from(),n[r].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||"\n")},getSelections:function(e){for(var t=[],n=this.sel.ranges,r=0;r<n.length;r++){var i=Oi(this,n[r].from(),n[r].to());e!==!1&&(i=i.join(e||"\n")),t[r]=i}return t},replaceSelection:function(e,t,n){for(var r=[],i=0;i<this.sel.ranges.length;i++)r[i]=e;this.replaceSelections(r,t,n||"+input")},replaceSelections:hn(function(e,t,n){for(var r=[],i=this.sel,o=0;o<i.ranges.length;o++){var a=i.ranges[o];r[o]={from:a.from(),to:a.to(),text:Es(e[o]),origin:n}}for(var s=t&&"end"!=t&&or(this,r,t),o=r.length-1;o>=0;o--)sr(this,r[o]);s?ct(this,s):this.cm&&br(this.cm)}),undo:hn(function(){cr(this,"undo")}),redo:hn(function(){cr(this,"redo")}),undoSelection:hn(function(){cr(this,"undo",!0)}),redoSelection:hn(function(){cr(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var r=0;r<e.undone.length;r++)e.undone[r].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Bi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Ji(this.history.done),undone:Ji(this.history.undone)}},setHistory:function(e){var t=this.history=new Bi(this.history.maxGeneration);t.done=Ji(e.done.slice(0),null,!0),t.undone=Ji(e.undone.slice(0),null,!0)},addLineClass:hn(function(e,t,n){return xr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass";if(e[r]){if(new RegExp("(?:^|\\s)"+n+"(?:$|\\s)").test(e[r]))return!1;e[r]+=" "+n}else e[r]=n;return!0})}),removeLineClass:hn(function(e,t,n){return xr(this,e,"class",function(e){var r="text"==t?"textClass":"background"==t?"bgClass":"wrapClass",i=e[r];if(!i)return!1;if(null==n)e[r]=null;else{var o=i.match(new RegExp("(?:^|\\s+)"+n+"(?:$|\\s+)"));if(!o)return!1;var a=o.index+o[0].length;e[r]=i.slice(0,o.index)+(o.index&&a!=i.length?" ":"")+i.slice(a)||null}return!0})}),markText:function(e,t,n){return Ar(this,Z(this,e),Z(this,t),n,"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared};return e=Z(this,e),Ar(this,e,e,n,"bookmark")},findMarksAt:function(e){e=Z(this,e);var t=[],n=Ei(this,e.line).markedSpans;if(n)for(var r=0;r<n.length;++r){var i=n[r];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,n){e=Z(this,e),t=Z(this,t);var r=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var a=o.markedSpans;if(a)for(var s=0;s<a.length;s++){var l=a[s];i==e.line&&e.ch>l.to||null==l.from&&i!=e.line||i==t.line&&l.from>t.ch||n&&!n(l.marker)||r.push(l.marker.parent||l.marker)}++i}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var n=t.markedSpans;if(n)for(var r=0;r<n.length;++r)null!=n[r].from&&e.push(n[r].marker)}),e},posFromIndex:function(e){var t,n=this.first;return this.iter(function(r){var i=r.text.length+1;return i>e?(t=e,!0):(e-=i,void++n)}),Z(this,ya(n,t))},indexFromPos:function(e){e=Z(this,e);var t=e.ch;return e.line<this.first||e.ch<0?0:(this.iter(this.first,e.line,function(e){t+=e.text.length+1}),t)},copy:function(e){var t=new rs(_i(this,this.first,this.first+this.size),this.modeOption,this.first);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var r=new rs(_i(this,t,n),e.mode||this.modeOption,t);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],Or(r,Er(this)),r},unlinkDoc:function(t){if(t instanceof e&&(t=t.doc),this.linked)for(var n=0;n<this.linked.length;++n){var r=this.linked[n];if(r.doc==t){this.linked.splice(n,1),t.unlinkDoc(this),_r(Er(this));break}}if(t.history==this.history){var i=[t.id];Ai(t,function(e){i.push(e.id)},!0),t.history=new Bi(null),t.history.done=Ji(this.history.done,i),t.history.undone=Ji(this.history.undone,i)}},iterLinkedDocs:function(e){Ai(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm}}),rs.prototype.eachLine=rs.prototype.iter;var is="iter insert remove copy getEditor".split(" ");for(var os in rs.prototype)rs.prototype.hasOwnProperty(os)&&ho(is,os)<0&&(e.prototype[os]=function(e){return function(){return e.apply(this.doc,arguments)}}(rs.prototype[os]));so(rs);var as=e.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},ss=e.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},ls=e.e_stop=function(e){as(e),ss(e)},cs=e.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var r=e._handlers||(e._handlers={}),i=r[t]||(r[t]=[]);i.push(n)}},us=e.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else{var r=e._handlers&&e._handlers[t];if(!r)return;for(var i=0;i<r.length;++i)if(r[i]==n){r.splice(i,1);break}}},fs=e.signal=function(e,t){var n=e._handlers&&e._handlers[t];if(n)for(var r=Array.prototype.slice.call(arguments,2),i=0;i<n.length;++i)n[i].apply(null,r)},hs=null,ds=30,ps=e.Pass={toString:function(){return"CodeMirror.Pass"}},ms={scroll:!1},gs={origin:"*mouse"},vs={origin:"+move"};lo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var ys=e.countColumn=function(e,t,n,r,i){null==t&&(t=e.search(/[^\s\u00a0]/),-1==t&&(t=e.length));for(var o=r||0,a=i||0;;){var s=e.indexOf("	",o);if(0>s||s>=t)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},bs=[""],ws=function(e){e.select()};ca?ws=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Zo&&(ws=function(e){try{e.select()}catch(t){}}),[].indexOf&&(ho=function(e,t){return e.indexOf(t)}),[].map&&(po=function(e,t){return e.map(t)});var ks,xs=/[\u00df\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Cs=e.isWordChar=function(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||xs.test(e))},Ss=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
ks=document.createRange?function(e,t,n){var r=document.createRange();return r.setEnd(e,n),r.setStart(e,t),r}:function(e,t,n){var r=document.body.createTextRange();return r.moveToElementText(e.parentNode),r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",t),r},Zo&&11>ea&&(Lo=function(){try{return document.activeElement}catch(e){return document.body}});var Ls,Ts,Ms,As=!1,Ns=function(){if(Zo&&9>ea)return!1;var e=ko("div");return"draggable"in e||"dragDrop"in e}(),Es=e.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],r=e.length;r>=t;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=i+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Os=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(n){}return t&&t.parentElement()==e?0!=t.compareEndPoints("StartToEnd",t):!1},_s=function(){var e=ko("div");return"oncopy"in e?!0:(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),Fs=null,Is={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",107:"=",109:"-",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};e.keyNames=Is,function(){for(var e=0;10>e;e++)Is[e+48]=Is[e+96]=String(e);for(var e=65;90>=e;e++)Is[e]=String.fromCharCode(e);for(var e=1;12>=e;e++)Is[e+111]=Is[e+63235]="F"+e}();var Rs,Ds=function(){function e(e){return 247>=e?n.charAt(e):e>=1424&&1524>=e?"R":e>=1536&&1773>=e?r.charAt(e-1536):e>=1774&&2220>=e?"r":e>=8192&&8203>=e?"w":8204==e?"b":"L"}function t(e,t,n){this.level=e,this.from=t,this.to=n}var n="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",r="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,a=/[LRr]/,s=/[Lb1n]/,l=/[1n]/,c="L";return function(n){if(!i.test(n))return!1;for(var r,u=n.length,f=[],h=0;u>h;++h)f.push(r=e(n.charCodeAt(h)));for(var h=0,d=c;u>h;++h){var r=f[h];"m"==r?f[h]=d:d=r}for(var h=0,p=c;u>h;++h){var r=f[h];"1"==r&&"r"==p?f[h]="n":a.test(r)&&(p=r,"r"==r&&(f[h]="R"))}for(var h=1,d=f[0];u-1>h;++h){var r=f[h];"+"==r&&"1"==d&&"1"==f[h+1]?f[h]="1":","!=r||d!=f[h+1]||"1"!=d&&"n"!=d||(f[h]=d),d=r}for(var h=0;u>h;++h){var r=f[h];if(","==r)f[h]="N";else if("%"==r){for(var m=h+1;u>m&&"%"==f[m];++m);for(var g=h&&"!"==f[h-1]||u>m&&"1"==f[m]?"1":"N",v=h;m>v;++v)f[v]=g;h=m-1}}for(var h=0,p=c;u>h;++h){var r=f[h];"L"==p&&"1"==r?f[h]="L":a.test(r)&&(p=r)}for(var h=0;u>h;++h)if(o.test(f[h])){for(var m=h+1;u>m&&o.test(f[m]);++m);for(var y="L"==(h?f[h-1]:c),b="L"==(u>m?f[m]:c),g=y||b?"L":"R",v=h;m>v;++v)f[v]=g;h=m-1}for(var w,k=[],h=0;u>h;)if(s.test(f[h])){var x=h;for(++h;u>h&&s.test(f[h]);++h);k.push(new t(0,x,h))}else{var C=h,S=k.length;for(++h;u>h&&"L"!=f[h];++h);for(var v=C;h>v;)if(l.test(f[v])){v>C&&k.splice(S,0,new t(1,C,v));var L=v;for(++v;h>v&&l.test(f[v]);++v);k.splice(S,0,new t(2,L,v)),C=v}else++v;h>C&&k.splice(S,0,new t(1,C,h))}return 1==k[0].level&&(w=n.match(/^\s+/))&&(k[0].from=w[0].length,k.unshift(new t(0,0,w[0].length))),1==fo(k).level&&(w=n.match(/\s+$/))&&(fo(k).to-=w[0].length,k.push(new t(0,u-w[0].length,u))),k[0].level!=fo(k).level&&k.push(new t(k[0].level,u,u)),k}}();return e.version="4.6.0",e}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){this.cm=e,this.options=this.buildOptions(t),this.widget=this.onClose=null}function n(e){return"string"==typeof e?e:e.text}function r(e,t){function n(e,n){var i;i="string"!=typeof n?function(e){return n(e,t)}:r.hasOwnProperty(n)?r[n]:n,o[e]=i}var r={Up:function(){t.moveFocus(-1)},Down:function(){t.moveFocus(1)},PageUp:function(){t.moveFocus(-t.menuSize()+1,!0)},PageDown:function(){t.moveFocus(t.menuSize()-1,!0)},Home:function(){t.setFocus(0)},End:function(){t.setFocus(t.length-1)},Enter:t.pick,Tab:t.pick,Esc:t.close},i=e.options.customKeys,o=i?{}:r;if(i)for(var a in i)i.hasOwnProperty(a)&&n(a,i[a]);var s=e.options.extraKeys;if(s)for(var a in s)s.hasOwnProperty(a)&&n(a,s[a]);return o}function i(e,t){for(;t&&t!=e;){if("LI"===t.nodeName.toUpperCase()&&t.parentNode==e)return t;t=t.parentNode}}function o(t,o){this.completion=t,this.data=o;var l=this,c=t.cm,u=this.hints=document.createElement("ul");u.className="CodeMirror-hints",this.selectedHint=o.selectedHint||0;for(var f=o.list,h=0;h<f.length;++h){var d=u.appendChild(document.createElement("li")),p=f[h],m=a+(h!=this.selectedHint?"":" "+s);null!=p.className&&(m=p.className+" "+m),d.className=m,p.render?p.render(d,o,p):d.appendChild(document.createTextNode(p.displayText||n(p))),d.hintId=h}var g=c.cursorCoords(t.options.alignWithWord?o.from:null),v=g.left,y=g.bottom,b=!0;u.style.left=v+"px",u.style.top=y+"px";var w=window.innerWidth||Math.max(document.body.offsetWidth,document.documentElement.offsetWidth),k=window.innerHeight||Math.max(document.body.offsetHeight,document.documentElement.offsetHeight);(t.options.container||document.body).appendChild(u);var x=u.getBoundingClientRect(),C=x.bottom-k;if(C>0){var S=x.bottom-x.top,L=g.top-(g.bottom-x.top);if(L-S>0)u.style.top=(y=g.top-S)+"px",b=!1;else if(S>k){u.style.height=k-5+"px",u.style.top=(y=g.bottom-x.top)+"px";var T=c.getCursor();o.from.ch!=T.ch&&(g=c.cursorCoords(T),u.style.left=(v=g.left)+"px",x=u.getBoundingClientRect())}}var M=x.left-w;if(M>0&&(x.right-x.left>w&&(u.style.width=w-5+"px",M-=x.right-x.left-w),u.style.left=(v=g.left-M)+"px"),c.addKeyMap(this.keyMap=r(t,{moveFocus:function(e,t){l.changeActive(l.selectedHint+e,t)},setFocus:function(e){l.changeActive(e)},menuSize:function(){return l.screenAmount()},length:f.length,close:function(){t.close()},pick:function(){l.pick()},data:o})),t.options.closeOnUnfocus){var A;c.on("blur",this.onBlur=function(){A=setTimeout(function(){t.close()},100)}),c.on("focus",this.onFocus=function(){clearTimeout(A)})}var N=c.getScrollInfo();return c.on("scroll",this.onScroll=function(){var e=c.getScrollInfo(),n=c.getWrapperElement().getBoundingClientRect(),r=y+N.top-e.top,i=r-(window.pageYOffset||(document.documentElement||document.body).scrollTop);return b||(i+=u.offsetHeight),i<=n.top||i>=n.bottom?t.close():(u.style.top=r+"px",void(u.style.left=v+N.left-e.left+"px"))}),e.on(u,"dblclick",function(e){var t=i(u,e.target||e.srcElement);t&&null!=t.hintId&&(l.changeActive(t.hintId),l.pick())}),e.on(u,"click",function(e){var n=i(u,e.target||e.srcElement);n&&null!=n.hintId&&(l.changeActive(n.hintId),t.options.completeOnSingleClick&&l.pick())}),e.on(u,"mousedown",function(){setTimeout(function(){c.focus()},20)}),e.signal(o,"select",f[0],u.firstChild),!0}var a="CodeMirror-hint",s="CodeMirror-hint-active";e.showHint=function(e,t,n){if(!t)return e.showHint(n);n&&n.async&&(t.async=!0);var r={hint:t};if(n)for(var i in n)r[i]=n[i];return e.showHint(r)},e.defineExtension("showHint",function(n){if(!(this.listSelections().length>1||this.somethingSelected())){this.state.completionActive&&this.state.completionActive.close();var r=this.state.completionActive=new t(this,n),i=r.options.hint;if(i)return e.signal(this,"startCompletion",this),i.async?void i(this,function(e){r.showHints(e)},r.options):r.showHints(i(this,r.options))}}),t.prototype={close:function(){this.active()&&(this.cm.state.completionActive=null,this.widget&&this.widget.close(),this.onClose&&this.onClose(),e.signal(this.cm,"endCompletion",this.cm))},active:function(){return this.cm.state.completionActive==this},pick:function(t,r){var i=t.list[r];i.hint?i.hint(this.cm,t,i):this.cm.replaceRange(n(i),i.from||t.from,i.to||t.to,"complete"),e.signal(t,"pick",i),this.close()},showHints:function(e){return e&&e.list.length&&this.active()?void(this.options.completeSingle&&1==e.list.length?this.pick(e,0):this.showWidget(e)):this.close()},showWidget:function(t){function n(){l||(l=!0,u.close(),u.cm.off("cursorActivity",s),t&&e.signal(t,"close"))}function r(){if(!l){e.signal(t,"update");var n=u.options.hint;n.async?n(u.cm,i,u.options):i(n(u.cm,u.options))}}function i(e){if(t=e,!l){if(!t||!t.list.length)return n();u.widget&&u.widget.close(),u.widget=new o(u,t)}}function a(){c&&(m(c),c=0)}function s(){a();var e=u.cm.getCursor(),t=u.cm.getLine(e.line);e.line!=h.line||t.length-e.ch!=d-h.ch||e.ch<h.ch||u.cm.somethingSelected()||e.ch&&f.test(t.charAt(e.ch-1))?u.close():(c=p(r),u.widget&&u.widget.close())}this.widget=new o(this,t),e.signal(t,"shown");var l,c=0,u=this,f=this.options.closeCharacters,h=this.cm.getCursor(),d=this.cm.getLine(h.line).length,p=window.requestAnimationFrame||function(e){return setTimeout(e,1e3/60)},m=window.cancelAnimationFrame||clearTimeout;this.cm.on("cursorActivity",s),this.onClose=n},buildOptions:function(e){var t=this.cm.options.hintOptions,n={};for(var r in l)n[r]=l[r];if(t)for(var r in t)void 0!==t[r]&&(n[r]=t[r]);if(e)for(var r in e)void 0!==e[r]&&(n[r]=e[r]);return n}},o.prototype={close:function(){if(this.completion.widget==this){this.completion.widget=null,this.hints.parentNode.removeChild(this.hints),this.completion.cm.removeKeyMap(this.keyMap);var e=this.completion.cm;this.completion.options.closeOnUnfocus&&(e.off("blur",this.onBlur),e.off("focus",this.onFocus)),e.off("scroll",this.onScroll)}},pick:function(){this.completion.pick(this.data,this.selectedHint)},changeActive:function(t,n){if(t>=this.data.list.length?t=n?this.data.list.length-1:0:0>t&&(t=n?0:this.data.list.length-1),this.selectedHint!=t){var r=this.hints.childNodes[this.selectedHint];r.className=r.className.replace(" "+s,""),r=this.hints.childNodes[this.selectedHint=t],r.className+=" "+s,r.offsetTop<this.hints.scrollTop?this.hints.scrollTop=r.offsetTop-3:r.offsetTop+r.offsetHeight>this.hints.scrollTop+this.hints.clientHeight&&(this.hints.scrollTop=r.offsetTop+r.offsetHeight-this.hints.clientHeight+3),e.signal(this.data,"select",this.data.list[this.selectedHint],r)}},screenAmount:function(){return Math.floor(this.hints.clientHeight/this.hints.firstChild.offsetHeight)||1}},e.registerHelper("hint","auto",function(t,n){var r,i=t.getHelpers(t.getCursor(),"hint");if(i.length)for(var o=0;o<i.length;o++){var a=i[o](t,n);if(a&&a.list.length)return a}else if(r=t.getHelper(t.getCursor(),"hintWords")){if(r)return e.hint.fromList(t,{words:r})}else if(e.hint.anyword)return e.hint.anyword(t,n)}),e.registerHelper("hint","fromList",function(t,n){for(var r=t.getCursor(),i=t.getTokenAt(r),o=[],a=0;a<n.words.length;a++){var s=n.words[a];s.slice(0,i.string.length)==i.string&&o.push(s)}return o.length?{list:o,from:e.Pos(r.line,i.start),to:e.Pos(r.line,i.end)}:void 0}),e.commands.autocomplete=e.showHint;var l={hint:e.hint.auto,completeSingle:!0,alignWithWord:!0,closeCharacters:/[\s()\[\]{};:>,]/,closeOnUnfocus:!0,completeOnSingleClick:!1,container:null,customKeys:null,extraKeys:null};e.defineOption("hintOptions",null)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t){for(var n=0,r=e.length;r>n;++n)t(e[n])}function n(e,t){if(!Array.prototype.indexOf){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1}return-1!=e.indexOf(t)}function r(t,n,r,i){var o=t.getCursor(),a=r(t,o),c=a;if(!/\b(?:string|comment)\b/.test(a.type)){for(a.state=e.innerMode(t.getMode(),a.state).state,/^[\w$_]*$/.test(a.string)||(a=c={start:o.ch,end:o.ch,string:"",state:a.state,type:"."==a.string?"property":null});"property"==c.type;){if(c=r(t,l(o.line,c.start)),"."!=c.string)return;if(c=r(t,l(o.line,c.start)),!u)var u=[];u.push(c)}return{list:s(a,u,n,i),from:l(o.line,a.start),to:l(o.line,a.end)}}}function i(e,t){return r(e,h,function(e,t){return e.getTokenAt(t)},t)}function o(e,t){var n=e.getTokenAt(t);return t.ch==n.start+1&&"."==n.string.charAt(0)?(n.end=n.start,n.string=".",n.type="property"):/^\.[\w$_]*$/.test(n.string)&&(n.type="property",n.start++,n.string=n.string.replace(/\./,"")),n}function a(e,t){return r(e,d,o,t)}function s(e,r,i,o){function a(e){0!=e.lastIndexOf(h,0)||n(l,e)||l.push(e)}function s(e){"string"==typeof e?t(c,a):e instanceof Array?t(u,a):e instanceof Function&&t(f,a);for(var n in e)a(n)}var l=[],h=e.string;if(r&&r.length){var d,p=r.pop();for(p.type&&0===p.type.indexOf("variable")?(o&&o.additionalContext&&(d=o.additionalContext[p.string]),o&&o.useGlobalScope===!1||(d=d||window[p.string])):"string"==p.type?d="":"atom"==p.type?d=1:"function"==p.type&&(null==window.jQuery||"$"!=p.string&&"jQuery"!=p.string||"function"!=typeof window.jQuery?null!=window._&&"_"==p.string&&"function"==typeof window._&&(d=window._()):d=window.jQuery());null!=d&&r.length;)d=d[r.pop().string];null!=d&&s(d)}else{for(var m=e.state.localVars;m;m=m.next)a(m.name);for(var m=e.state.globalVars;m;m=m.next)a(m.name);o&&o.useGlobalScope===!1||s(window),t(i,a)}return l}var l=e.Pos;e.registerHelper("hint","javascript",i),e.registerHelper("hint","coffeescript",a);var c="charAt charCodeAt indexOf lastIndexOf substring substr slice trim trimLeft trimRight toUpperCase toLowerCase split concat match replace search".split(" "),u="length concat join splice push pop shift unshift slice reverse sort indexOf lastIndexOf every some filter forEach map reduce reduceRight ".split(" "),f="prototype apply call bind".split(" "),h="break case catch continue debugger default delete do else false finally for function if in instanceof new null return switch throw true try typeof var void while with".split(" "),d="and break catch class continue delete do else extends false finally for if in instanceof isnt new no not null of off on or return switch then throw true try typeof until void while with yes".split(" ")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.search(r);return-1==t?0:t}var n={},r=/[^\s\u00a0]/,i=e.Pos;e.commands.toggleComment=function(e){for(var t=1/0,n=e.listSelections(),r=null,o=n.length-1;o>=0;o--){var a=n[o].from(),s=n[o].to();a.line>=t||(s.line>=t&&(s=i(t,0)),t=a.line,null==r?e.uncomment(a,s)?r="un":(e.lineComment(a,s),r="line"):"un"==r?e.uncomment(a,s):e.lineComment(a,s))}},e.defineExtension("lineComment",function(e,o,a){a||(a=n);var s=this,l=s.getModeAt(e),c=a.lineComment||l.lineComment;if(!c)return void((a.blockCommentStart||l.blockCommentStart)&&(a.fullLines=!0,s.blockComment(e,o,a)));var u=s.getLine(e.line);if(null!=u){var f=Math.min(0!=o.ch||o.line==e.line?o.line+1:o.line,s.lastLine()+1),h=null==a.padding?" ":a.padding,d=a.commentBlankLines||e.line==o.line;s.operation(function(){if(a.indent)for(var n=u.slice(0,t(u)),o=e.line;f>o;++o){var l=s.getLine(o),p=n.length;(d||r.test(l))&&(l.slice(0,p)!=n&&(p=t(l)),s.replaceRange(n+c+h,i(o,0),i(o,p)))}else for(var o=e.line;f>o;++o)(d||r.test(s.getLine(o)))&&s.replaceRange(c+h,i(o,0))})}}),e.defineExtension("blockComment",function(e,t,o){o||(o=n);var a=this,s=a.getModeAt(e),l=o.blockCommentStart||s.blockCommentStart,c=o.blockCommentEnd||s.blockCommentEnd;if(!l||!c)return void((o.lineComment||s.lineComment)&&0!=o.fullLines&&a.lineComment(e,t,o));var u=Math.min(t.line,a.lastLine());u!=e.line&&0==t.ch&&r.test(a.getLine(u))&&--u;var f=null==o.padding?" ":o.padding;e.line>u||a.operation(function(){if(0!=o.fullLines){var n=r.test(a.getLine(u));a.replaceRange(f+c,i(u)),a.replaceRange(l+f,i(e.line,0));var h=o.blockCommentLead||s.blockCommentLead;if(null!=h)for(var d=e.line+1;u>=d;++d)(d!=u||n)&&a.replaceRange(h+f,i(d,0))}else a.replaceRange(c,t),a.replaceRange(l,e)})}),e.defineExtension("uncomment",function(e,t,o){o||(o=n);var a,s=this,l=s.getModeAt(e),c=Math.min(t.line,s.lastLine()),u=Math.min(e.line,c),f=o.lineComment||l.lineComment,h=[],d=null==o.padding?" ":o.padding;e:if(f){for(var p=u;c>=p;++p){var m=s.getLine(p),g=m.indexOf(f);if(g>-1&&!/comment/.test(s.getTokenTypeAt(i(p,g+1)))&&(g=-1),-1==g&&(p!=c||p==u)&&r.test(m))break e;if(g>-1&&r.test(m.slice(0,g)))break e;h.push(m)}if(s.operation(function(){for(var e=u;c>=e;++e){var t=h[e-u],n=t.indexOf(f),r=n+f.length;0>n||(t.slice(r,r+d.length)==d&&(r+=d.length),a=!0,s.replaceRange("",i(e,n),i(e,r)))}}),a)return!0}var v=o.blockCommentStart||l.blockCommentStart,y=o.blockCommentEnd||l.blockCommentEnd;if(!v||!y)return!1;var b=o.blockCommentLead||l.blockCommentLead,w=s.getLine(u),k=c==u?w:s.getLine(c),x=w.indexOf(v),C=k.lastIndexOf(y);if(-1==C&&u!=c&&(k=s.getLine(--c),C=k.lastIndexOf(y)),-1==x||-1==C||!/comment/.test(s.getTokenTypeAt(i(u,x+1)))||!/comment/.test(s.getTokenTypeAt(i(c,C+1))))return!1;var S=w.lastIndexOf(v,e.ch),L=-1==S?-1:w.slice(0,e.ch).indexOf(y,S+v.length);if(-1!=S&&-1!=L&&L+y.length!=e.ch)return!1;L=k.indexOf(y,t.ch);var T=k.slice(t.ch).lastIndexOf(v,L-t.ch);return S=-1==L||-1==T?-1:t.ch+T,-1!=L&&-1!=S&&S!=t.ch?!1:(s.operation(function(){s.replaceRange("",i(c,C-(d&&k.slice(C-d.length,C)==d?d.length:0)),i(c,C+y.length));var e=x+v.length;if(d&&w.slice(e,e+d.length)==d&&(e+=d.length),s.replaceRange("",i(u,x),i(u,e)),b)for(var t=u+1;c>=t;++t){var n=s.getLine(t),o=n.indexOf(b);if(-1!=o&&!r.test(n.slice(0,o))){var a=o+b.length;d&&n.slice(a,a+d.length)==d&&(a+=d.length),s.replaceRange("",i(t,o),i(t,a))}}}),!0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("xml",function(t,n){function r(e,t){function n(n){return t.tokenize=n,n(e,t)}var r=e.next();if("<"==r)return e.eat("!")?e.eat("[")?e.match("CDATA[")?n(a("atom","]]>")):null:e.match("--")?n(a("comment","-->")):e.match("DOCTYPE",!0,!0)?(e.eatWhile(/[\w\._\-]/),n(s(1))):null:e.eat("?")?(e.eatWhile(/[\w\._\-]/),t.tokenize=a("meta","?>"),"meta"):(C=e.eat("/")?"closeTag":"openTag",t.tokenize=i,"tag bracket");if("&"==r){var o;return o=e.eat("#")?e.eat("x")?e.eatWhile(/[a-fA-F\d]/)&&e.eat(";"):e.eatWhile(/[\d]/)&&e.eat(";"):e.eatWhile(/[\w\.\-:]/)&&e.eat(";"),o?"atom":"error"}return e.eatWhile(/[^&<]/),null}function i(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=r,C=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return C="equals",null;if("<"==n){t.tokenize=r,t.state=f,t.tagName=t.tagStart=null;var i=t.tokenize(e,t);return i?i+" tag error":"tag error"}return/[\'\"]/.test(n)?(t.tokenize=o(n),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function o(e){var t=function(t,n){for(;!t.eol();)if(t.next()==e){n.tokenize=i;break}return"string"};return t.isInAttribute=!0,t}function a(e,t){return function(n,i){for(;!n.eol();){if(n.match(t)){i.tokenize=r;break}n.next()}return e}}function s(e){return function(t,n){for(var i;null!=(i=t.next());){if("<"==i)return n.tokenize=s(e+1),n.tokenize(t,n);if(">"==i){if(1==e){n.tokenize=r;break}return n.tokenize=s(e-1),n.tokenize(t,n)}}return"meta"}}function l(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(L.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function c(e){e.context&&(e.context=e.context.prev)}function u(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!L.contextGrabbers.hasOwnProperty(n)||!L.contextGrabbers[n].hasOwnProperty(t))return;c(e)}}function f(e,t,n){return"openTag"==e?(n.tagStart=t.column(),h):"closeTag"==e?d:f}function h(e,t,n){return"word"==e?(n.tagName=t.current(),S="tag",g):(S="error",h)}function d(e,t,n){if("word"==e){var r=t.current();return n.context&&n.context.tagName!=r&&L.implicitlyClosed.hasOwnProperty(n.context.tagName)&&c(n),n.context&&n.context.tagName==r?(S="tag",p):(S="tag error",m)}return S="error",m}function p(e,t,n){return"endTag"!=e?(S="error",p):(c(n),f)}function m(e,t,n){return S="error",p(e,t,n)}function g(e,t,n){if("word"==e)return S="attribute",v;if("endTag"==e||"selfcloseTag"==e){var r=n.tagName,i=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||L.autoSelfClosers.hasOwnProperty(r)?u(n,r):(u(n,r),n.context=new l(n,r,i==n.indented)),f}return S="error",g}function v(e,t,n){return"equals"==e?y:(L.allowMissing||(S="error"),g(e,t,n))}function y(e,t,n){return"string"==e?b:"word"==e&&L.allowUnquoted?(S="string",g):(S="error",g(e,t,n))}function b(e,t,n){return"string"==e?b:g(e,t,n)}var w=t.indentUnit,k=n.multilineTagIndentFactor||1,x=n.multilineTagIndentPastTag;null==x&&(x=!0);var C,S,L=n.htmlMode?{autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0}:{autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1},T=n.alignCDATA;return{startState:function(){return{tokenize:r,state:f,indented:0,tagName:null,tagStart:null,context:null}},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;C=null;var n=t.tokenize(e,t);return(n||C)&&"comment"!=n&&(S=null,t.state=t.state(C||n,e,t),S&&(n="error"==S?n+" error":S)),n},indent:function(t,n,o){var a=t.context;if(t.tokenize.isInAttribute)return t.tagStart==t.indented?t.stringStartCol+1:t.indented+w;if(a&&a.noIndent)return e.Pass;if(t.tokenize!=i&&t.tokenize!=r)return o?o.match(/^(\s*)/)[0].length:0;if(t.tagName)return x?t.tagStart+t.tagName.length+2:t.tagStart+w*k;if(T&&/<!\[CDATA\[/.test(n))return 0;var s=n&&/^<(\/)?([\w_:\.-]*)/.exec(n);if(s&&s[1])for(;a;){if(a.tagName==s[2]){a=a.prev;break}if(!L.implicitlyClosed.hasOwnProperty(a.tagName))break;a=a.prev}else if(s)for(;a;){var l=L.contextGrabbers[a.tagName];if(!l||!l.hasOwnProperty(s[2]))break;a=a.prev}for(;a&&!a.startOfLine;)a=a.prev;return a?a.indent+w:0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:n.htmlMode?"html":"xml",helperType:n.htmlMode?"html":"xml"}}),e.defineMIME("text/xml","xml"),e.defineMIME("application/xml","xml"),e.mimeModes.hasOwnProperty("text/html")||e.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("javascript",function(t,n){function r(e){for(var t,n=!1,r=!1;null!=(t=e.next());){if(!n){if("/"==t&&!r)return;"["==t?r=!0:r&&"]"==t&&(r=!1)}n=!n&&"\\"==t}}function i(e,t,n){return pt=e,mt=n,t}function o(e,t){var n=e.next();if('"'==n||"'"==n)return t.tokenize=a(n),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return i("number","number");if("."==n&&e.match(".."))return i("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return i(n);if("="==n&&e.eat(">"))return i("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),i("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),i("number","number");if("/"==n)return e.eat("*")?(t.tokenize=s,s(e,t)):e.eat("/")?(e.skipToEnd(),i("comment","comment")):"operator"==t.lastType||"keyword c"==t.lastType||"sof"==t.lastType||/^[\[{}\(,;:]$/.test(t.lastType)?(r(e),e.eatWhile(/[gimy]/),i("regexp","string-2")):(e.eatWhile(Ct),i("operator","operator",e.current()));if("`"==n)return t.tokenize=l,l(e,t);if("#"==n)return e.skipToEnd(),i("error","error");if(Ct.test(n))return e.eatWhile(Ct),i("operator","operator",e.current());if(kt.test(n)){e.eatWhile(kt);var o=e.current(),c=xt.propertyIsEnumerable(o)&&xt[o];return c&&"."!=t.lastType?i(c.type,c.style,o):i("variable","variable",o)}}function a(e){return function(t,n){var r,a=!1;if(yt&&"@"==t.peek()&&t.match(St))return n.tokenize=o,i("jsonld-keyword","meta");for(;null!=(r=t.next())&&(r!=e||a);)a=!a&&"\\"==r;return a||(n.tokenize=o),i("string","string")}}function s(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=o;break}r="*"==n}return i("comment","comment")}function l(e,t){for(var n,r=!1;null!=(n=e.next());){if(!r&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=o;break}r=!r&&"\\"==n}return i("quasi","string-2",e.current())}function c(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(0>n)){for(var r=0,i=!1,o=n-1;o>=0;--o){var a=e.string.charAt(o),s=Lt.indexOf(a);if(s>=0&&3>s){if(!r){++o;break}if(0==--r)break}else if(s>=3&&6>s)++r;else if(kt.test(a))i=!0;else if(i&&!r){++o;break}}i&&!r&&(t.fatArrowAt=o)}}function u(e,t,n,r,i,o){this.indented=e,this.column=t,this.type=n,this.prev=i,this.info=o,null!=r&&(this.align=r)}function f(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var r=e.context;r;r=r.prev)for(var n=r.vars;n;n=n.next)if(n.name==t)return!0}function h(e,t,n,r,i){var o=e.cc;for(Mt.state=e,Mt.stream=i,Mt.marked=null,Mt.cc=o,Mt.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var a=o.length?o.pop():bt?x:k;if(a(n,r)){for(;o.length&&o[o.length-1].lex;)o.pop()();return Mt.marked?Mt.marked:"variable"==n&&f(e,r)?"variable-2":t}}}function d(){for(var e=arguments.length-1;e>=0;e--)Mt.cc.push(arguments[e])}function p(){return d.apply(null,arguments),!0}function m(e){function t(t){for(var n=t;n;n=n.next)if(n.name==e)return!0;return!1}var r=Mt.state;if(r.context){if(Mt.marked="def",t(r.localVars))return;r.localVars={name:e,next:r.localVars}}else{if(t(r.globalVars))return;n.globalVars&&(r.globalVars={name:e,next:r.globalVars})}}function g(){Mt.state.context={prev:Mt.state.context,vars:Mt.state.localVars},Mt.state.localVars=At}function v(){Mt.state.localVars=Mt.state.context.vars,Mt.state.context=Mt.state.context.prev}function y(e,t){var n=function(){var n=Mt.state,r=n.indented;if("stat"==n.lexical.type)r=n.lexical.indented;else for(var i=n.lexical;i&&")"==i.type&&i.align;i=i.prev)r=i.indented;n.lexical=new u(r,Mt.stream.column(),e,null,n.lexical,t)};return n.lex=!0,n}function b(){var e=Mt.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function w(e){function t(n){return n==e?p():";"==e?d():p(t)}return t}function k(e,t){return"var"==e?p(y("vardef",t.length),q,w(";"),b):"keyword a"==e?p(y("form"),x,k,b):"keyword b"==e?p(y("form"),k,b):"{"==e?p(y("}"),P,b):";"==e?p():"if"==e?("else"==Mt.state.lexical.info&&Mt.state.cc[Mt.state.cc.length-1]==b&&Mt.state.cc.pop()(),p(y("form"),x,k,b,G)):"function"==e?p(et):"for"==e?p(y("form"),J,k,b):"variable"==e?p(y("stat"),F):"switch"==e?p(y("form"),x,y("}","switch"),w("{"),P,b,b):"case"==e?p(x,w(":")):"default"==e?p(w(":")):"catch"==e?p(y("form"),g,w("("),tt,w(")"),k,b,v):"module"==e?p(y("form"),g,at,v,b):"class"==e?p(y("form"),nt,b):"export"==e?p(y("form"),st,b):"import"==e?p(y("form"),lt,b):d(y("stat"),x,w(";"),b)}function x(e){return S(e,!1)}function C(e){return S(e,!0)}function S(e,t){if(Mt.state.fatArrowAt==Mt.stream.start){var n=t?_:O;if("("==e)return p(g,y(")"),B(z,")"),b,w("=>"),n,v);if("variable"==e)return d(g,z,w("=>"),n,v)}var r=t?A:M;return Tt.hasOwnProperty(e)?p(r):"function"==e?p(et,r):"keyword c"==e?p(t?T:L):"("==e?p(y(")"),L,dt,w(")"),b,r):"operator"==e||"spread"==e?p(t?C:x):"["==e?p(y("]"),ft,b,r):"{"==e?j(R,"}",null,r):"quasi"==e?d(N,r):p()}function L(e){return e.match(/[;\}\)\],]/)?d():d(x)}function T(e){return e.match(/[;\}\)\],]/)?d():d(C)}function M(e,t){return","==e?p(x):A(e,t,!1)}function A(e,t,n){var r=0==n?M:A,i=0==n?x:C;return"=>"==e?p(g,n?_:O,v):"operator"==e?/\+\+|--/.test(t)?p(r):"?"==t?p(x,w(":"),i):p(i):"quasi"==e?d(N,r):";"!=e?"("==e?j(C,")","call",r):"."==e?p(I,r):"["==e?p(y("]"),L,w("]"),b,r):void 0:void 0}function N(e,t){return"quasi"!=e?d():"${"!=t.slice(t.length-2)?p(N):p(x,E)}function E(e){return"}"==e?(Mt.marked="string-2",Mt.state.tokenize=l,p(N)):void 0}function O(e){return c(Mt.stream,Mt.state),d("{"==e?k:x)}function _(e){return c(Mt.stream,Mt.state),d("{"==e?k:C)}function F(e){return":"==e?p(b,k):d(M,w(";"),b)}function I(e){return"variable"==e?(Mt.marked="property",p()):void 0}function R(e,t){return"variable"==e||"keyword"==Mt.style?(Mt.marked="property",p("get"==t||"set"==t?D:$)):"number"==e||"string"==e?(Mt.marked=yt?"property":Mt.style+" property",p($)):"jsonld-keyword"==e?p($):"["==e?p(x,w("]"),$):void 0}function D(e){return"variable"!=e?d($):(Mt.marked="property",p(et))}function $(e){return":"==e?p(C):"("==e?d(et):void 0}function B(e,t){function n(r){if(","==r){var i=Mt.state.lexical;return"call"==i.info&&(i.pos=(i.pos||0)+1),p(e,n)}return r==t?p():p(w(t))}return function(r){return r==t?p():d(e,n)}}function j(e,t,n){for(var r=3;r<arguments.length;r++)Mt.cc.push(arguments[r]);return p(y(t,n),B(e,t),b)}function P(e){return"}"==e?p():d(k,P)}function H(e){return wt&&":"==e?p(W):void 0}function W(e){return"variable"==e?(Mt.marked="variable-3",p()):void 0}function q(){return d(z,H,V,K)}function z(e,t){return"variable"==e?(m(t),p()):"["==e?j(z,"]"):"{"==e?j(U,"}"):void 0}function U(e,t){return"variable"!=e||Mt.stream.match(/^\s*:/,!1)?("variable"==e&&(Mt.marked="property"),p(w(":"),z,V)):(m(t),p(V))}function V(e,t){return"="==t?p(C):void 0}function K(e){return","==e?p(q):void 0}function G(e,t){return"keyword b"==e&&"else"==t?p(y("form","else"),k,b):void 0}function J(e){return"("==e?p(y(")"),X,w(")"),b):void 0}function X(e){return"var"==e?p(q,w(";"),Q):";"==e?p(Q):"variable"==e?p(Y):d(x,w(";"),Q)}function Y(e,t){return"in"==t||"of"==t?(Mt.marked="keyword",p(x)):p(M,Q)}function Q(e,t){return";"==e?p(Z):"in"==t||"of"==t?(Mt.marked="keyword",p(x)):d(x,w(";"),Z)}function Z(e){")"!=e&&p(x)}function et(e,t){return"*"==t?(Mt.marked="keyword",p(et)):"variable"==e?(m(t),p(et)):"("==e?p(g,y(")"),B(tt,")"),b,k,v):void 0}function tt(e){return"spread"==e?p(tt):d(z,H)}function nt(e,t){return"variable"==e?(m(t),p(rt)):void 0}function rt(e,t){return"extends"==t?p(x,rt):"{"==e?p(y("}"),it,b):void 0}function it(e,t){return"variable"==e||"keyword"==Mt.style?(Mt.marked="property","get"==t||"set"==t?p(ot,et,it):p(et,it)):"*"==t?(Mt.marked="keyword",p(it)):";"==e?p(it):"}"==e?p():void 0}function ot(e){return"variable"!=e?d():(Mt.marked="property",p())}function at(e,t){return"string"==e?p(k):"variable"==e?(m(t),p(ut)):void 0}function st(e,t){return"*"==t?(Mt.marked="keyword",p(ut,w(";"))):"default"==t?(Mt.marked="keyword",p(x,w(";"))):d(k)}function lt(e){return"string"==e?p():d(ct,ut)}function ct(e,t){return"{"==e?j(ct,"}"):("variable"==e&&m(t),p())}function ut(e,t){return"from"==t?(Mt.marked="keyword",p(x)):void 0}function ft(e){return"]"==e?p():d(C,ht)}function ht(e){return"for"==e?d(dt,w("]")):","==e?p(B(C,"]")):d(B(C,"]"))
}function dt(e){return"for"==e?p(J,dt):"if"==e?p(x,dt):void 0}var pt,mt,gt=t.indentUnit,vt=n.statementIndent,yt=n.jsonld,bt=n.json||yt,wt=n.typescript,kt=n.wordCharacters||/[\w$]/,xt=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),r=e("keyword c"),i=e("operator"),o={type:"atom",style:"atom"},a={"if":e("if"),"while":t,"with":t,"else":n,"do":n,"try":n,"finally":n,"return":r,"break":r,"continue":r,"new":r,"delete":r,"throw":r,"debugger":r,"var":e("var"),"const":e("var"),let:e("var"),"function":e("function"),"catch":e("catch"),"for":e("for"),"switch":e("switch"),"case":e("case"),"default":e("default"),"in":i,"typeof":i,"instanceof":i,"true":o,"false":o,"null":o,undefined:o,NaN:o,Infinity:o,"this":e("this"),module:e("module"),"class":e("class"),"super":e("atom"),"yield":r,"export":e("export"),"import":e("import"),"extends":r};if(wt){var s={type:"variable",style:"variable-3"},l={"interface":e("interface"),"extends":e("extends"),constructor:e("constructor"),"public":e("public"),"private":e("private"),"protected":e("protected"),"static":e("static"),string:s,number:s,bool:s,any:s};for(var c in l)a[c]=l[c]}return a}(),Ct=/[+\-*&%=<>!?|~^]/,St=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/,Lt="([{}])",Tt={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,"this":!0,"jsonld-keyword":!0},Mt={state:null,column:null,marked:null,cc:null},At={name:"this",next:{name:"arguments"}};return b.lex=!0,{startState:function(e){var t={tokenize:o,lastType:"sof",cc:[],lexical:new u((e||0)-gt,0,"block",!1),localVars:n.localVars,context:n.localVars&&{vars:n.localVars},indented:0};return n.globalVars&&"object"==typeof n.globalVars&&(t.globalVars=n.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),c(e,t)),t.tokenize!=s&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==pt?n:(t.lastType="operator"!=pt||"++"!=mt&&"--"!=mt?pt:"incdec",h(t,n,pt,mt,e))},indent:function(t,r){if(t.tokenize==s)return e.Pass;if(t.tokenize!=o)return 0;var i=r&&r.charAt(0),a=t.lexical;if(!/^\s*else\b/.test(r))for(var l=t.cc.length-1;l>=0;--l){var c=t.cc[l];if(c==b)a=a.prev;else if(c!=G)break}"stat"==a.type&&"}"==i&&(a=a.prev),vt&&")"==a.type&&"stat"==a.prev.type&&(a=a.prev);var u=a.type,f=i==u;return"vardef"==u?a.indented+("operator"==t.lastType||","==t.lastType?a.info+1:0):"form"==u&&"{"==i?a.indented:"form"==u?a.indented+gt:"stat"==u?a.indented+("operator"==t.lastType||","==t.lastType?vt||gt:0):"switch"!=a.info||f||0==n.doubleIndentSwitch?a.align?a.column+(f?0:1):a.indented+(f?0:gt):a.indented+(/^(?:case|default)\b/.test(r)?gt:2*gt)},electricChars:":{}",blockCommentStart:bt?null:"/*",blockCommentEnd:bt?null:"*/",lineComment:bt?null:"//",fold:"brace",helperType:bt?"json":"javascript",jsonldMode:yt,jsonMode:bt}}),e.registerHelper("wordChars","javascript",/[\w$]/),e.defineMIME("text/javascript","javascript"),e.defineMIME("text/ecmascript","javascript"),e.defineMIME("application/javascript","javascript"),e.defineMIME("application/x-javascript","javascript"),e.defineMIME("application/ecmascript","javascript"),e.defineMIME("application/json",{name:"javascript",json:!0}),e.defineMIME("application/x-json",{name:"javascript",json:!0}),e.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),e.defineMIME("text/typescript",{name:"javascript",typescript:!0}),e.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}function n(e,t){for(var n,r=!1;null!=(n=e.next());){if(r&&"/"==n){t.tokenize=null;break}r="*"==n}return["comment","comment"]}function r(e,t){return e.skipTo("-->")?(e.match("-->"),t.tokenize=null):e.skipToEnd(),["comment","comment"]}e.defineMode("css",function(t,n){function r(e,t){return d=t,e}function i(e,t){var n=e.next();if(g[n]){var i=g[n](e,t);if(i!==!1)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),r("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?r(null,"compare"):'"'==n||"'"==n?(t.tokenize=o(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),r("atom","hash")):"!"==n?(e.match(/^\s*\w*/),r("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),r("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?r(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?r("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?r(null,n):"u"==n&&e.match("rl(")?(e.backUp(1),t.tokenize=a,r("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),r("property","word")):r(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),r("number","unit")):e.match(/^\w+-/)?r("meta","meta"):void 0}function o(e){return function(t,n){for(var i,o=!1;null!=(i=t.next());){if(i==e&&!o){")"==e&&t.backUp(1);break}o=!o&&"\\"==i}return(i==e||!o&&")"!=e)&&(n.tokenize=null),r("string","string")}}function a(e,t){return e.next(),t.tokenize=e.match(/\s*[\"\')]/,!1)?null:o(")"),r(null,"(")}function s(e,t,n){this.type=e,this.indent=t,this.prev=n}function l(e,t,n){return e.context=new s(n,t.indentation()+m,e.context),n}function c(e){return e.context=e.context.prev,e.context.type}function u(e,t,n){return L[n.context.type](e,t,n)}function f(e,t,n,r){for(var i=r||1;i>0;i--)n.context=n.context.prev;return u(e,t,n)}function h(e){var t=e.current().toLowerCase();p=x.hasOwnProperty(t)?"atom":k.hasOwnProperty(t)?"keyword":"variable"}n.propertyKeywords||(n=e.resolveMode("text/css"));var d,p,m=t.indentUnit,g=n.tokenHooks,v=n.mediaTypes||{},y=n.mediaFeatures||{},b=n.propertyKeywords||{},w=n.nonStandardPropertyKeywords||{},k=n.colorKeywords||{},x=n.valueKeywords||{},C=n.fontProperties||{},S=n.allowNested,L={};return L.top=function(e,t,n){if("{"==e)return l(n,t,"block");if("}"==e&&n.context.prev)return c(n);if("@media"==e)return l(n,t,"media");if("@font-face"==e)return"font_face_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return l(n,t,"at");if("hash"==e)p="builtin";else if("word"==e)p="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return l(n,t,"interpolation");if(":"==e)return"pseudo";if(S&&"("==e)return l(n,t,"parens")}return n.context.type},L.block=function(e,t,n){if("word"==e){var r=t.current().toLowerCase();return b.hasOwnProperty(r)?(p="property","maybeprop"):w.hasOwnProperty(r)?(p="string-2","maybeprop"):S?(p=t.match(/^\s*:/,!1)?"property":"tag","block"):(p+=" error","maybeprop")}return"meta"==e?"block":S||"hash"!=e&&"qualifier"!=e?L.top(e,t,n):(p="error","block")},L.maybeprop=function(e,t,n){return":"==e?l(n,t,"prop"):u(e,t,n)},L.prop=function(e,t,n){if(";"==e)return c(n);if("{"==e&&S)return l(n,t,"propBlock");if("}"==e||"{"==e)return f(e,t,n);if("("==e)return l(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t.current())){if("word"==e)h(t);else if("interpolation"==e)return l(n,t,"interpolation")}else p+=" error";return"prop"},L.propBlock=function(e,t,n){return"}"==e?c(n):"word"==e?(p="property","maybeprop"):n.context.type},L.parens=function(e,t,n){return"{"==e||"}"==e?f(e,t,n):")"==e?c(n):"("==e?l(n,t,"parens"):("word"==e&&h(t),"parens")},L.pseudo=function(e,t,n){return"word"==e?(p="variable-3",n.context.type):u(e,t,n)},L.media=function(e,t,n){if("("==e)return l(n,t,"media_parens");if("}"==e)return f(e,t,n);if("{"==e)return c(n)&&l(n,t,S?"block":"top");if("word"==e){var r=t.current().toLowerCase();p="only"==r||"not"==r||"and"==r?"keyword":v.hasOwnProperty(r)?"attribute":y.hasOwnProperty(r)?"property":"error"}return n.context.type},L.media_parens=function(e,t,n){return")"==e?c(n):"{"==e||"}"==e?f(e,t,n,2):L.media(e,t,n)},L.font_face_before=function(e,t,n){return"{"==e?l(n,t,"font_face"):u(e,t,n)},L.font_face=function(e,t,n){return"}"==e?c(n):"word"==e?(p=C.hasOwnProperty(t.current().toLowerCase())?"property":"error","maybeprop"):"font_face"},L.keyframes=function(e,t,n){return"word"==e?(p="variable","keyframes"):"{"==e?l(n,t,"top"):u(e,t,n)},L.at=function(e,t,n){return";"==e?c(n):"{"==e||"}"==e?f(e,t,n):("word"==e?p="tag":"hash"==e&&(p="builtin"),"at")},L.interpolation=function(e,t,n){return"}"==e?c(n):"{"==e||";"==e?f(e,t,n):("variable"!=e&&(p="error"),"interpolation")},{startState:function(e){return{tokenize:null,state:"top",context:new s("top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||i)(e,t);return n&&"object"==typeof n&&(d=n[1],n=n[0]),p=n,t.state=L[t.state](d,e,t),p},indent:function(e,t){var n=e.context,r=t&&t.charAt(0),i=n.indent;return"prop"!=n.type||"}"!=r&&")"!=r||(n=n.prev),!n.prev||("}"!=r||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"font_face"!=n.type)&&(")"!=r||"parens"!=n.type&&"media_parens"!=n.type)&&("{"!=r||"at"!=n.type&&"media"!=n.type)||(i=n.indent-m,n=n.prev),i},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],o=t(i),a=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid"],s=t(a),l=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-position","grid-auto-rows","grid-column","grid-column-end","grid-column-start","grid-row","grid-row-end","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],c=t(l),u=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],f=t(u),h=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],d=t(h),p=["above","absolute","activeborder","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","column","compact","condensed","contain","content","content-box","context-menu","continuous","copy","cover","crop","cross","crosshair","currentcolor","cursive","dashed","decimal","decimal-leading-zero","default","default-button","destination-atop","destination-in","destination-out","destination-over","devanagari","disc","discard","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ew-resize","expanded","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","footnotes","forwards","from","geometricPrecision","georgian","graytext","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-table","inset","inside","intrinsic","invert","italic","justify","kannada","katakana","katakana-iroha","keep-all","khmer","landscape","lao","large","larger","left","level","lighter","line-through","linear","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","malayalam","match","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","round","row-resize","rtl","run-in","running","s-resize","sans-serif","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","single","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","solid","somali","source-atop","source-in","source-out","source-over","space","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","x-large","x-small","xor","xx-large","xx-small"],m=t(p),g=["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"],v=t(g),y=i.concat(a).concat(l).concat(u).concat(h).concat(p);e.registerHelper("hintWords","css",y),e.defineMIME("text/css",{mediaTypes:o,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:f,colorKeywords:d,valueKeywords:m,fontProperties:v,tokenHooks:{"<":function(e,t){return e.match("!--")?(t.tokenize=r,r(e,t)):!1},"/":function(e,t){return e.eat("*")?(t.tokenize=n,n(e,t)):!1}},name:"css"}),e.defineMIME("text/x-scss",{mediaTypes:o,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:f,colorKeywords:d,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},":":function(e){return e.match(/\s*\{/)?[null,"{"]:!1},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return e.eat("{")?[null,"interpolation"]:!1}},name:"css",helperType:"scss"}),e.defineMIME("text/x-less",{mediaTypes:o,mediaFeatures:s,propertyKeywords:c,nonStandardPropertyKeywords:f,colorKeywords:d,valueKeywords:m,fontProperties:v,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=n,n(e,t)):["operator","operator"]},"@":function(e){return e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)?!1:(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("htmlmixed",function(t,n){function r(e,t){var n=t.htmlState.tagName;n&&(n=n.toLowerCase());var r=s.token(e,t.htmlState);if("script"==n&&/\btag\b/.test(r)&&">"==e.current()){var i=e.string.slice(Math.max(0,e.pos-100),e.pos).match(/\btype\s*=\s*("[^"]+"|'[^']+'|\S+)[^<]*$/i);i=i?i[1]:"",i&&/[\"\']/.test(i.charAt(0))&&(i=i.slice(1,i.length-1));for(var u=0;u<c.length;++u){var f=c[u];if("string"==typeof f.matches?i==f.matches:f.matches.test(i)){f.mode&&(t.token=o,t.localMode=f.mode,t.localState=f.mode.startState&&f.mode.startState(s.indent(t.htmlState,"")));break}}}else"style"==n&&/\btag\b/.test(r)&&">"==e.current()&&(t.token=a,t.localMode=l,t.localState=l.startState(s.indent(t.htmlState,"")));return r}function i(e,t,n){var r,i=e.current(),o=i.search(t);return o>-1?e.backUp(i.length-o):(r=i.match(/<\/?$/))&&(e.backUp(i.length),e.match(t,!1)||e.match(i)),n}function o(e,t){return e.match(/^<\/\s*script\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*script\s*>/,t.localMode.token(e,t.localState))}function a(e,t){return e.match(/^<\/\s*style\s*>/i,!1)?(t.token=r,t.localState=t.localMode=null,r(e,t)):i(e,/<\/\s*style\s*>/,l.token(e,t.localState))}var s=e.getMode(t,{name:"xml",htmlMode:!0,multilineTagIndentFactor:n.multilineTagIndentFactor,multilineTagIndentPastTag:n.multilineTagIndentPastTag}),l=e.getMode(t,"css"),c=[],u=n&&n.scriptTypes;if(c.push({matches:/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,mode:e.getMode(t,"javascript")}),u)for(var f=0;f<u.length;++f){var h=u[f];c.push({matches:h.matches,mode:h.mode&&e.getMode(t,h.mode)})}return c.push({matches:/./,mode:e.getMode(t,"text/plain")}),{startState:function(){var e=s.startState();return{token:r,localMode:null,localState:null,htmlState:e}},copyState:function(t){if(t.localState)var n=e.copyState(t.localMode,t.localState);return{token:t.token,localMode:t.localMode,localState:n,htmlState:e.copyState(s,t.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(t,n){return!t.localMode||/^\s*<\//.test(n)?s.indent(t.htmlState,n):t.localMode.indent?t.localMode.indent(t.localState,n):e.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||s}}}},"xml","javascript","css"),e.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("coffeescript",function(e){function t(e){return new RegExp("^(("+e.join(")|(")+"))\\b")}function n(e,t){if(e.sol()){null===t.scope.align&&(t.scope.align=!1);var n=t.scope.offset;if(e.eatSpace()){var o=e.indentation();return o>n&&"coffee"==t.scope.type?"indent":n>o?"dedent":null}n>0&&a(e,t)}if(e.eatSpace())return null;var s=e.peek();if(e.match("####"))return e.skipToEnd(),"comment";if(e.match("###"))return t.tokenize=i,t.tokenize(e,t);if("#"===s)return e.skipToEnd(),"comment";if(e.match(/^-?[0-9\.]/,!1)){var p=!1;if(e.match(/^-?\d*\.\d+(e[\+\-]?\d+)?/i)&&(p=!0),e.match(/^-?\d+\.\d*/)&&(p=!0),e.match(/^-?\.\d+/)&&(p=!0),p)return"."==e.peek()&&e.backUp(1),"number";var m=!1;if(e.match(/^-?0x[0-9a-f]+/i)&&(m=!0),e.match(/^-?[1-9]\d*(e[\+\-]?\d+)?/)&&(m=!0),e.match(/^-?0(?![\dx])/i)&&(m=!0),m)return"number"}if(e.match(v))return t.tokenize=r(e.current(),!1,"string"),t.tokenize(e,t);if(e.match(y)){if("/"!=e.current()||e.match(/^.*\//,!1))return t.tokenize=r(e.current(),!0,"string-2"),t.tokenize(e,t);e.backUp(1)}return e.match(c)||e.match(d)?"operator":e.match(u)?"punctuation":e.match(w)?"atom":e.match(g)?"keyword":e.match(f)?"variable":e.match(h)?"property":(e.next(),l)}function r(t,r,i){return function(o,a){for(;!o.eol();)if(o.eatWhile(/[^'"\/\\]/),o.eat("\\")){if(o.next(),r&&o.eol())return i}else{if(o.match(t))return a.tokenize=n,i;o.eat(/['"\/]/)}return r&&(e.mode.singleLineStringErrors?i=l:a.tokenize=n),i}}function i(e,t){for(;!e.eol();){if(e.eatWhile(/[^#]/),e.match("###")){t.tokenize=n;break}e.eatWhile("#")}return"comment"}function o(t,n,r){r=r||"coffee";for(var i=0,o=!1,a=null,s=n.scope;s;s=s.prev)if("coffee"===s.type){i=s.offset+e.indentUnit;break}"coffee"!==r?(o=null,a=t.column()+t.current().length):n.scope.align&&(n.scope.align=!1),n.scope={offset:i,type:r,prev:n.scope,align:o,alignOffset:a}}function a(e,t){if(t.scope.prev){if("coffee"===t.scope.type){for(var n=e.indentation(),r=!1,i=t.scope;i;i=i.prev)if(n===i.offset){r=!0;break}if(!r)return!0;for(;t.scope.prev&&t.scope.offset!==n;)t.scope=t.scope.prev;return!1}return t.scope=t.scope.prev,!1}}function s(e,t){var n=t.tokenize(e,t),r=e.current();if("."===r)return n=t.tokenize(e,t),r=e.current(),/^\.[\w$]+$/.test(r)?"variable":l;"return"===r&&(t.dedent+=1),("->"!==r&&"=>"!==r||t.lambda||e.peek())&&"indent"!==n||o(e,t);var i="[({".indexOf(r);if(-1!==i&&o(e,t,"])}".slice(i,i+1)),p.exec(r)&&o(e,t),"then"==r&&a(e,t),"dedent"===n&&a(e,t))return l;if(i="])}".indexOf(r),-1!==i){for(;"coffee"==t.scope.type&&t.scope.prev;)t.scope=t.scope.prev;t.scope.type==r&&(t.scope=t.scope.prev)}return t.dedent>0&&e.eol()&&"coffee"==t.scope.type&&(t.scope.prev&&(t.scope=t.scope.prev),t.dedent-=1),n}var l="error",c=/^(?:->|=>|\+[+=]?|-[\-=]?|\*[\*=]?|\/[\/=]?|[=!]=|<[><]?=?|>>?=?|%=?|&=?|\|=?|\^=?|\~|!|\?)/,u=/^(?:[()\[\]{},:`=;]|\.\.?\.?)/,f=/^[_A-Za-z$][_A-Za-z$0-9]*/,h=/^(@|this\.)[_A-Za-z$][_A-Za-z$0-9]*/,d=t(["and","or","not","is","isnt","in","instanceof","typeof"]),p=["for","while","loop","if","unless","else","switch","try","catch","finally","class"],m=["break","by","continue","debugger","delete","do","in","of","new","return","then","this","throw","when","until"],g=t(p.concat(m));p=t(p);var v=/^('{3}|\"{3}|['\"])/,y=/^(\/{3}|\/)/,b=["Infinity","NaN","undefined","null","true","false","on","off","yes","no"],w=t(b),k={startState:function(e){return{tokenize:n,scope:{offset:e||0,type:"coffee",prev:null,align:!1},lastToken:null,lambda:!1,dedent:0}},token:function(e,t){var n=null===t.scope.align&&t.scope;n&&e.sol()&&(n.align=!1);var r=s(e,t);return n&&r&&"comment"!=r&&(n.align=!0),t.lastToken={style:r,content:e.current()},e.eol()&&e.lambda&&(t.lambda=!1),r},indent:function(e,t){if(e.tokenize!=n)return 0;var r=e.scope,i=t&&"])}".indexOf(t.charAt(0))>-1;if(i)for(;"coffee"==r.type&&r.prev;)r=r.prev;var o=i&&r.type===t.charAt(0);return r.align?r.alignOffset-(o?1:0):(o?r.prev:r).offset},lineComment:"#",fold:"indent"};return k}),e.defineMIME("text/x-coffeescript","coffeescript")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,r,i){var o=e.getLineHandle(t.line),l=t.ch-1,c=l>=0&&s[o.text.charAt(l)]||s[o.text.charAt(++l)];if(!c)return null;var u=">"==c.charAt(1)?1:-1;if(r&&u>0!=(l==t.ch))return null;var f=e.getTokenTypeAt(a(t.line,l+1)),h=n(e,a(t.line,l+(u>0?1:0)),u,f||null,i);return null==h?null:{from:a(t.line,l),to:h&&h.pos,match:h&&h.ch==c.charAt(0),forward:u>0}
}function n(e,t,n,r,i){for(var o=i&&i.maxScanLineLength||1e4,l=i&&i.maxScanLines||1e3,c=[],u=i&&i.bracketRegex?i.bracketRegex:/[(){}[\]]/,f=n>0?Math.min(t.line+l,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-l),h=t.line;h!=f;h+=n){var d=e.getLine(h);if(d){var p=n>0?0:d.length-1,m=n>0?d.length:-1;if(!(d.length>o))for(h==t.line&&(p=t.ch-(0>n?1:0));p!=m;p+=n){var g=d.charAt(p);if(u.test(g)&&(void 0===r||e.getTokenTypeAt(a(h,p+1))==r)){var v=s[g];if(">"==v.charAt(1)==n>0)c.push(g);else{if(!c.length)return{pos:a(h,p),ch:g};c.pop()}}}}}return h-n==(n>0?e.lastLine():e.firstLine())?!1:null}function r(e,n,r){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,s=[],l=e.listSelections(),c=0;c<l.length;c++){var u=l[c].empty()&&t(e,l[c].head,!1,r);if(u&&e.getLine(u.from.line).length<=i){var f=u.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";s.push(e.markText(u.from,a(u.from.line,u.from.ch+1),{className:f})),u.to&&e.getLine(u.to.line).length<=i&&s.push(e.markText(u.to,a(u.to.line,u.to.ch+1),{className:f}))}}if(s.length){o&&e.state.focused&&e.display.input.focus();var h=function(){e.operation(function(){for(var e=0;e<s.length;e++)s[e].clear()})};if(!n)return h;setTimeout(h,800)}}function i(e){e.operation(function(){l&&(l(),l=null),l=r(e,!1,e.state.matchBrackets)})}var o=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),a=e.Pos,s={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"},l=null;e.defineOption("matchBrackets",!1,function(t,n,r){r&&r!=e.Init&&t.off("cursorActivity",i),n&&(t.state.matchBrackets="object"==typeof n?n:{},t.on("cursorActivity",i))}),e.defineExtension("matchBrackets",function(){r(this,!0)}),e.defineExtension("findMatchingBracket",function(e,n,r){return t(this,e,n,r)}),e.defineExtension("scanForBracket",function(e,t,r,i){return n(this,e,t,r,i)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(e){function t(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),s=[],l=0;l<n.length;l++){if(!n[l].empty())return e.Pass;var c=n[l].head,u=t.getTokenAt(c),f=e.innerMode(t.getMode(),u.state),h=f.state;if("xml"!=f.mode.name||!h.tagName)return e.Pass;var d=t.getOption("autoCloseTags"),p="html"==f.mode.configuration,m="object"==typeof d&&d.dontCloseTags||p&&o,g="object"==typeof d&&d.indentTags||p&&a,v=h.tagName;u.end>c.ch&&(v=v.slice(0,v.length-u.end+c.ch));var y=v.toLowerCase();if(!v||"string"==u.type&&(u.end!=c.ch||!/[\"\']/.test(u.string.charAt(u.string.length-1))||1==u.string.length)||"tag"==u.type&&"closeTag"==h.type||u.string.indexOf("/")==u.string.length-1||m&&r(m,y)>-1||i(t,v,c,h,!0))return e.Pass;var b=g&&r(g,y)>-1;s[l]={indent:b,text:">"+(b?"\n\n":"")+"</"+v+">",newPos:b?e.Pos(c.line+1,0):e.Pos(c.line,c.ch+1)}}for(var l=n.length-1;l>=0;l--){var w=s[l];t.replaceRange(w.text,n[l].head,n[l].anchor,"+insert");var k=t.listSelections().slice(0);k[l]={head:w.newPos,anchor:w.newPos},t.setSelections(k),w.indent&&(t.indentLine(w.newPos.line,null,!0),t.indentLine(w.newPos.line+1,null,!0))}}function n(t){if(t.getOption("disableInput"))return e.Pass;for(var n=t.listSelections(),r=[],o=0;o<n.length;o++){if(!n[o].empty())return e.Pass;var a=n[o].head,s=t.getTokenAt(a),l=e.innerMode(t.getMode(),s.state),c=l.state;if("string"==s.type||"<"!=s.string.charAt(0)||s.start!=a.ch-1)return e.Pass;if("xml"!=l.mode.name)if("htmlmixed"==t.getMode().name&&"javascript"==l.mode.name)r[o]="/script>";else{if("htmlmixed"!=t.getMode().name||"css"!=l.mode.name)return e.Pass;r[o]="/style>"}else{if(!c.context||!c.context.tagName||i(t,c.context.tagName,a,c))return e.Pass;r[o]="/"+c.context.tagName+">"}}t.replaceSelections(r),n=t.listSelections();for(var o=0;o<n.length;o++)(o==n.length-1||n[o].head.line<n[o+1].head.line)&&t.indentLine(n[o].head.line)}function r(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;r>n;++n)if(e[n]==t)return n;return-1}function i(t,n,r,i,o){if(!e.scanForClosingTag)return!1;var a=Math.min(t.lastLine()+1,r.line+500),s=e.scanForClosingTag(t,r,null,a);if(!s||s.tag!=n)return!1;for(var l=i.context,c=o?1:0;l&&l.tagName==n;l=l.prev)++c;r=s.to;for(var u=1;c>u;u++){var f=e.scanForClosingTag(t,r,null,a);if(!f||f.tag!=n)return!1;r=f.to}return!0}e.defineOption("autoCloseTags",!1,function(r,i,o){if(o!=e.Init&&o&&r.removeKeyMap("autoCloseTags"),i){var a={name:"autoCloseTags"};("object"!=typeof i||i.whenClosing)&&(a["'/'"]=function(e){return n(e)}),("object"!=typeof i||i.whenOpening)&&(a["'>'"]=function(e){return t(e)}),r.addKeyMap(a)}});var o=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],a=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"]}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(t,i,o,a){function s(e){var n=l(t,i);if(!n||n.to.line-n.from.line<c)return null;for(var r=t.findMarksAt(n.from),o=0;o<r.length;++o)if(r[o].__isFold&&"fold"!==a){if(!e)return null;n.cleared=!0,r[o].clear()}return n}if(o&&o.call){var l=o;o=null}else var l=r(t,o,"rangeFinder");"number"==typeof i&&(i=e.Pos(i,0));var c=r(t,o,"minFoldSize"),u=s(!0);if(r(t,o,"scanUp"))for(;!u&&i.line>t.firstLine();)i=e.Pos(i.line-1,0),u=s(!1);if(u&&!u.cleared&&"unfold"!==a){var f=n(t,o);e.on(f,"mousedown",function(t){h.clear(),e.e_preventDefault(t)});var h=t.markText(u.from,u.to,{replacedWith:f,clearOnEnter:!0,__isFold:!0});h.on("clear",function(n,r){e.signal(t,"unfold",t,n,r)}),e.signal(t,"fold",t,u.from,u.to)}}function n(e,t){var n=r(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);n=document.createElement("span"),n.appendChild(i),n.className="CodeMirror-foldmarker"}return n}function r(e,t,n){if(t&&void 0!==t[n])return t[n];var r=e.options.foldOptions;return r&&void 0!==r[n]?r[n]:i[n]}e.newFoldFunction=function(e,n){return function(r,i){t(r,i,{rangeFinder:e,widget:n})}},e.defineExtension("foldCode",function(e,n,r){t(this,e,n,r)}),e.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),e.commands.toggleFold=function(e){e.foldCode(e.getCursor())},e.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},e.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},e.commands.foldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"fold")})},e.commands.unfoldAll=function(t){t.operation(function(){for(var n=t.firstLine(),r=t.lastLine();r>=n;n++)t.foldCode(e.Pos(n,0),null,"unfold")})},e.registerHelper("fold","combine",function(){var e=Array.prototype.slice.call(arguments,0);return function(t,n){for(var r=0;r<e.length;++r){var i=e[r](t,n);if(i)return i}}}),e.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}});var i={rangeFinder:e.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1};e.defineOption("foldOptions",null)}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./foldcode")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./foldcode"],e):e(CodeMirror)}(function(e){"use strict";function t(e){this.options=e,this.from=this.to=0}function n(e){return e===!0&&(e={}),null==e.gutter&&(e.gutter="CodeMirror-foldgutter"),null==e.indicatorOpen&&(e.indicatorOpen="CodeMirror-foldgutter-open"),null==e.indicatorFolded&&(e.indicatorFolded="CodeMirror-foldgutter-folded"),e}function r(e,t){for(var n=e.findMarksAt(f(t)),r=0;r<n.length;++r)if(n[r].__isFold&&n[r].find().from.line==t)return!0}function i(e){if("string"==typeof e){var t=document.createElement("div");return t.className=e+" CodeMirror-guttermarker-subtle",t}return e.cloneNode(!0)}function o(t,n,o){var a=t.state.foldGutter.options,s=n;t.eachLine(n,o,function(n){var o=null;if(r(t,s))o=i(a.indicatorFolded);else{var l=f(s,0),c=a.rangeFinder||e.fold.auto,u=c&&c(t,l);u&&u.from.line+1<u.to.line&&(o=i(a.indicatorOpen))}t.setGutterMarker(n,a.gutter,o),++s})}function a(e){var t=e.getViewport(),n=e.state.foldGutter;n&&(e.operation(function(){o(e,t.from,t.to)}),n.from=t.from,n.to=t.to)}function s(e,t,n){var r=e.state.foldGutter.options;n==r.gutter&&e.foldCode(f(t,0),r.rangeFinder)}function l(e){var t=e.state.foldGutter,n=e.state.foldGutter.options;t.from=t.to=0,clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){a(e)},n.foldOnChangeTimeSpan||600)}function c(e){var t=e.state.foldGutter,n=e.state.foldGutter.options;clearTimeout(t.changeUpdate),t.changeUpdate=setTimeout(function(){var n=e.getViewport();t.from==t.to||n.from-t.to>20||t.from-n.to>20?a(e):e.operation(function(){n.from<t.from&&(o(e,n.from,t.from),t.from=n.from),n.to>t.to&&(o(e,t.to,n.to),t.to=n.to)})},n.updateViewportTimeSpan||400)}function u(e,t){var n=e.state.foldGutter,r=t.line;r>=n.from&&r<n.to&&o(e,r,r+1)}e.defineOption("foldGutter",!1,function(r,i,o){o&&o!=e.Init&&(r.clearGutter(r.state.foldGutter.options.gutter),r.state.foldGutter=null,r.off("gutterClick",s),r.off("change",l),r.off("viewportChange",c),r.off("fold",u),r.off("unfold",u),r.off("swapDoc",a)),i&&(r.state.foldGutter=new t(n(i)),a(r),r.on("gutterClick",s),r.on("change",l),r.on("viewportChange",c),r.on("fold",u),r.on("unfold",u),r.on("swapDoc",a))});var f=e.Pos}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","brace",function(t,n){function r(r){for(var i=n.ch,l=0;;){var c=0>=i?-1:s.lastIndexOf(r,i-1);if(-1!=c){if(1==l&&c<n.ch)break;if(o=t.getTokenTypeAt(e.Pos(a,c+1)),!/^(comment|string)/.test(o))return c+1;i=c-1}else{if(1==l)break;l=1,i=s.length}}}var i,o,a=n.line,s=t.getLine(a),l="{",c="}",i=r("{");if(null==i&&(l="[",c="]",i=r("[")),null!=i){var u,f,h=1,d=t.lastLine();e:for(var p=a;d>=p;++p)for(var m=t.getLine(p),g=p==a?i:0;;){var v=m.indexOf(l,g),y=m.indexOf(c,g);if(0>v&&(v=m.length),0>y&&(y=m.length),g=Math.min(v,y),g==m.length)break;if(t.getTokenTypeAt(e.Pos(p,g+1))==o)if(g==v)++h;else if(!--h){u=p,f=g;break e}++g}if(null!=u&&(a!=u||f!=i))return{from:e.Pos(a,i),to:e.Pos(u,f)}}}),e.registerHelper("fold","import",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));if(/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"keyword"!=r.type||"import"!=r.string)return null;for(var i=n,o=Math.min(t.lastLine(),n+10);o>=i;++i){var a=t.getLine(i),s=a.indexOf(";");if(-1!=s)return{startCh:r.end,end:e.Pos(i,s)}}}var i,n=n.line,o=r(n);if(!o||r(n-1)||(i=r(n-2))&&i.end.line==n-1)return null;for(var a=o.end;;){var s=r(a.line+1);if(null==s)break;a=s.end}return{from:t.clipPos(e.Pos(n,o.startCh+1)),to:a}}),e.registerHelper("fold","include",function(t,n){function r(n){if(n<t.firstLine()||n>t.lastLine())return null;var r=t.getTokenAt(e.Pos(n,1));return/\S/.test(r.string)||(r=t.getTokenAt(e.Pos(n,r.end+1))),"meta"==r.type&&"#include"==r.string.slice(0,8)?r.start+8:void 0}var n=n.line,i=r(n);if(null==i||null!=r(n-1))return null;for(var o=n;;){var a=r(o+1);if(null==a)break;++o}return{from:e.Pos(n,i+1),to:t.clipPos(e.Pos(o))}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return e.line-t.line||e.ch-t.ch}function n(e,t,n,r){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=r?r.from:e.firstLine(),this.max=r?r.to-1:e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(h(e.line,t));return n&&/\btag\b/.test(n)}function i(e){return e.line>=e.max?void 0:(e.ch=0,e.text=e.cm.getLine(++e.line),!0)}function o(e){return e.line<=e.min?void 0:(e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0)}function a(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(i(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),o=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,o?"selfClose":"regular"}e.ch=t+1}}}function s(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(o(e))continue;return}if(r(e,t+1)){m.lastIndex=t,e.ch=t;var n=m.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){m.lastIndex=e.ch;var t=m.exec(e.text);if(!t){if(i(e))continue;return}{if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(o(e))continue;return}{if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=n>-1&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}}function u(e,t){for(var n=[];;){var r,i=l(e),o=e.line,s=e.ch-(i?i[0].length:0);if(!i||!(r=a(e)))return;if("selfClose"!=r)if(i[1]){for(var c=n.length-1;c>=0;--c)if(n[c]==i[2]){n.length=c;break}if(0>c&&(!t||t==i[2]))return{tag:i[2],from:h(o,s),to:h(e.line,e.ch)}}else n.push(i[2])}}function f(e,t){for(var n=[];;){var r=c(e);if(!r)return;if("selfClose"!=r){var i=e.line,o=e.ch,a=s(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var l=n.length-1;l>=0;--l)if(n[l]==a[2]){n.length=l;break}if(0>l&&(!t||t==a[2]))return{tag:a[2],from:h(e.line,e.ch),to:h(i,o)}}}else s(e)}}var h=e.Pos,d="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",p=d+"-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",m=new RegExp("<(/?)(["+d+"]["+p+"]*)","g");e.registerHelper("fold","xml",function(e,t){for(var r=new n(e,t.line,0);;){var i,o=l(r);if(!o||r.line!=t.line||!(i=a(r)))return;if(!o[1]&&"selfClose"!=i){var t=h(r.line,r.ch),s=u(r,o[2]);return s&&{from:t,to:s.from}}}}),e.findMatchingTag=function(e,r,i){var o=new n(e,r.line,r.ch,i);if(-1!=o.text.indexOf(">")||-1!=o.text.indexOf("<")){var l=a(o),c=l&&h(o.line,o.ch),d=l&&s(o);if(l&&d&&!(t(o,r)>0)){var p={from:h(o.line,o.ch),to:c,tag:d[2]};return"selfClose"==l?{open:p,close:null,at:"open"}:d[1]?{open:f(o,d[2]),close:p,at:"close"}:(o=new n(e,c.line,c.ch,i),{open:p,close:u(o,d[2]),at:"open"})}}},e.findEnclosingTag=function(e,t,r){for(var i=new n(e,t.line,t.ch,r);;){var o=f(i);if(!o)break;var a=new n(e,t.line,t.ch,r),s=u(a,o.tag);if(s)return{open:o,close:s}}},e.scanForClosingTag=function(e,t,r,i){var o=new n(e,t.line,t.ch,i?{from:0,to:i}:null);return u(o,r)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.registerHelper("fold","indent",function(t,n){var r=t.getOption("tabSize"),i=t.getLine(n.line);if(/\S/.test(i)){for(var o=function(t){return e.countColumn(t,null,r)},a=o(i),s=null,l=n.line+1,c=t.lastLine();c>=l;++l){var u=t.getLine(l),f=o(u);if(f>a)s=l;else if(/\S/.test(u))break}return s?{from:e.Pos(n.line,i.length),to:e.Pos(s,t.getLine(s).length)}:void 0}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){function t(e,t,n){var r,i=e.getWrapperElement();return r=i.appendChild(document.createElement("div")),r.className=n?"CodeMirror-dialog CodeMirror-dialog-bottom":"CodeMirror-dialog CodeMirror-dialog-top","string"==typeof t?r.innerHTML=t:r.appendChild(t),r}function n(e,t){e.state.currentNotificationClose&&e.state.currentNotificationClose(),e.state.currentNotificationClose=t}e.defineExtension("openDialog",function(r,i,o){function a(e){if("string"==typeof e)f.value=e;else{if(c)return;c=!0,l.parentNode.removeChild(l),u.focus(),o.onClose&&o.onClose(l)}}o||(o={}),n(this,null);var s,l=t(this,r,o.bottom),c=!1,u=this,f=l.getElementsByTagName("input")[0];return f?(o.value&&(f.value=o.value),o.onInput&&e.on(f,"input",function(e){o.onInput(e,f.value,a)}),o.onKeyUp&&e.on(f,"keyup",function(e){o.onKeyUp(e,f.value,a)}),e.on(f,"keydown",function(t){o&&o.onKeyDown&&o.onKeyDown(t,f.value,a)||((27==t.keyCode||o.closeOnEnter!==!1&&13==t.keyCode)&&(f.blur(),e.e_stop(t),a()),13==t.keyCode&&i(f.value))}),o.closeOnBlur!==!1&&e.on(f,"blur",a),f.focus()):(s=l.getElementsByTagName("button")[0])&&(e.on(s,"click",function(){a(),u.focus()}),o.closeOnBlur!==!1&&e.on(s,"blur",a),s.focus()),a}),e.defineExtension("openConfirm",function(r,i,o){function a(){c||(c=!0,s.parentNode.removeChild(s),u.focus())}n(this,null);var s=t(this,r,o&&o.bottom),l=s.getElementsByTagName("button"),c=!1,u=this,f=1;l[0].focus();for(var h=0;h<l.length;++h){var d=l[h];!function(t){e.on(d,"click",function(n){e.e_preventDefault(n),a(),t&&t(u)})}(i[h]),e.on(d,"blur",function(){--f,setTimeout(function(){0>=f&&a()},200)}),e.on(d,"focus",function(){++f})}}),e.defineExtension("openNotification",function(r,i){function o(){l||(l=!0,clearTimeout(a),s.parentNode.removeChild(s))}n(this,o);var a,s=t(this,r,i&&i.bottom),l=!1,c=i&&"undefined"!=typeof i.duration?i.duration:5e3;return e.on(s,"click",function(t){e.e_preventDefault(t),o()}),c&&(a=setTimeout(o,c)),o})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t,i,o){if(this.atOccurrence=!1,this.doc=e,null==o&&"string"==typeof t&&(o=!1),i=i?e.clipPos(i):r(0,0),this.pos={from:i,to:i},"string"!=typeof t)t.global||(t=new RegExp(t.source,t.ignoreCase?"ig":"g")),this.matches=function(n,i){if(n){t.lastIndex=0;for(var o,a,s=e.getLine(i.line).slice(0,i.ch),l=0;;){t.lastIndex=l;var c=t.exec(s);if(!c)break;if(o=c,a=o.index,l=o.index+(o[0].length||1),l==s.length)break}var u=o&&o[0].length||0;u||(0==a&&0==s.length?o=void 0:a!=e.getLine(i.line).length&&u++)}else{t.lastIndex=i.ch;var s=e.getLine(i.line),o=t.exec(s),u=o&&o[0].length||0,a=o&&o.index;a+u==s.length||u||(u=1)}return o&&u?{from:r(i.line,a),to:r(i.line,a+u),match:o}:void 0};else{var a=t;o&&(t=t.toLowerCase());var s=o?function(e){return e.toLowerCase()}:function(e){return e},l=t.split("\n");if(1==l.length)this.matches=t.length?function(i,o){if(i){var l=e.getLine(o.line).slice(0,o.ch),c=s(l),u=c.lastIndexOf(t);if(u>-1)return u=n(l,c,u),{from:r(o.line,u),to:r(o.line,u+a.length)}}else{var l=e.getLine(o.line).slice(o.ch),c=s(l),u=c.indexOf(t);if(u>-1)return u=n(l,c,u)+o.ch,{from:r(o.line,u),to:r(o.line,u+a.length)}}}:function(){};else{var c=a.split("\n");this.matches=function(t,n){var i=l.length-1;if(t){if(n.line-(l.length-1)<e.firstLine())return;if(s(e.getLine(n.line).slice(0,c[i].length))!=l[l.length-1])return;for(var o=r(n.line,c[i].length),a=n.line-1,u=i-1;u>=1;--u,--a)if(l[u]!=s(e.getLine(a)))return;var f=e.getLine(a),h=f.length-c[0].length;if(s(f.slice(h))!=l[0])return;return{from:r(a,h),to:o}}if(!(n.line+(l.length-1)>e.lastLine())){var f=e.getLine(n.line),h=f.length-c[0].length;if(s(f.slice(h))==l[0]){for(var d=r(n.line,h),a=n.line+1,u=1;i>u;++u,++a)if(l[u]!=s(e.getLine(a)))return;if(s(e.getLine(a).slice(0,c[i].length))==l[i])return{from:d,to:r(a,c[i].length)}}}}}}}function n(e,t,n){if(e.length==t.length)return n;for(var r=Math.min(n,e.length);;){var i=e.slice(0,r).toLowerCase().length;if(n>i)++r;else{if(!(i>n))return r;--r}}}var r=e.Pos;t.prototype={findNext:function(){return this.find(!1)},findPrevious:function(){return this.find(!0)},find:function(e){function t(e){var t=r(e,0);return n.pos={from:t,to:t},n.atOccurrence=!1,!1}for(var n=this,i=this.doc.clipPos(e?this.pos.from:this.pos.to);;){if(this.pos=this.matches(e,i))return this.atOccurrence=!0,this.pos.match||!0;if(e){if(!i.line)return t(0);i=r(i.line-1,this.doc.getLine(i.line-1).length)}else{var o=this.doc.lineCount();if(i.line==o-1)return t(o);i=r(i.line+1,0)}}},from:function(){return this.atOccurrence?this.pos.from:void 0},to:function(){return this.atOccurrence?this.pos.to:void 0},replace:function(t){if(this.atOccurrence){var n=e.splitLines(t);this.doc.replaceRange(n,this.pos.from,this.pos.to),this.pos.to=r(this.pos.from.line+n.length-1,n[n.length-1].length+(1==n.length?this.pos.from.ch:0))}}},e.defineExtension("getSearchCursor",function(e,n,r){return new t(this.doc,e,n,r)}),e.defineDocExtension("getSearchCursor",function(e,n,r){return new t(this,e,n,r)}),e.defineExtension("selectMatches",function(t,n){for(var r,i=[],o=this.getSearchCursor(t,this.getCursor("from"),n);(r=o.findNext())&&!(e.cmpPos(o.to(),this.getCursor("to"))>0);)i.push({anchor:o.from(),head:o.to()});i.length&&this.setSelections(i,0)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("./searchcursor"),require("../dialog/dialog")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","./searchcursor","../dialog/dialog"],e):e(CodeMirror)}(function(e){"use strict";function t(e,t){return"string"==typeof e?e=new RegExp(e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),t?"gi":"g"):e.global||(e=new RegExp(e.source,e.ignoreCase?"gi":"g")),{token:function(t){e.lastIndex=t.pos;var n=e.exec(t.string);return n&&n.index==t.pos?(t.pos+=n[0].length,"searching"):void(n?t.pos=n.index:t.skipToEnd())}}}function n(){this.posFrom=this.posTo=this.query=null,this.overlay=null}function r(e){return e.state.search||(e.state.search=new n)}function i(e){return"string"==typeof e&&e==e.toLowerCase()}function o(e,t,n){return e.getSearchCursor(t,n,i(t))}function a(e,t,n,r,i){e.openDialog?e.openDialog(t,i,{value:r}):i(prompt(n,r))}function s(e,t,n,r){e.openConfirm?e.openConfirm(t,r):confirm(n)&&r[0]()}function l(e){var t=e.match(/^\/(.*)\/([a-z]*)$/);return t?(e=new RegExp(t[1],-1==t[2].indexOf("i")?"":"i"),e.test("")&&(e=/x^/)):""==e&&(e=/x^/),e}function c(e,n){var o=r(e);return o.query?u(e,n):void a(e,d,"Search for:",e.getSelection(),function(r){e.operation(function(){r&&!o.query&&(o.query=l(r),e.removeOverlay(o.overlay,i(o.query)),o.overlay=t(o.query,i(o.query)),e.addOverlay(o.overlay),o.posFrom=o.posTo=e.getCursor(),u(e,n))})})}function u(t,n){t.operation(function(){var i=r(t),a=o(t,i.query,n?i.posFrom:i.posTo);(a.find(n)||(a=o(t,i.query,n?e.Pos(t.lastLine()):e.Pos(t.firstLine(),0)),a.find(n)))&&(t.setSelection(a.from(),a.to()),t.scrollIntoView({from:a.from(),to:a.to()}),i.posFrom=a.from(),i.posTo=a.to())})}function f(e){e.operation(function(){var t=r(e);t.query&&(t.query=null,e.removeOverlay(t.overlay))})}function h(e,t){e.getOption("readOnly")||a(e,p,"Replace:",e.getSelection(),function(n){n&&(n=l(n),a(e,m,"Replace with:","",function(r){if(t)e.operation(function(){for(var t=o(e,n);t.findNext();)if("string"!=typeof n){var i=e.getRange(t.from(),t.to()).match(n);t.replace(r.replace(/\$(\d)/g,function(e,t){return i[t]}))}else t.replace(r)});else{f(e);var i=o(e,n,e.getCursor()),a=function(){var t,r=i.from();!(t=i.findNext())&&(i=o(e,n),!(t=i.findNext())||r&&i.from().line==r.line&&i.from().ch==r.ch)||(e.setSelection(i.from(),i.to()),e.scrollIntoView({from:i.from(),to:i.to()}),s(e,g,"Replace?",[function(){l(t)},a]))},l=function(e){i.replace("string"==typeof n?r:r.replace(/\$(\d)/g,function(t,n){return e[n]})),a()};a()}}))})}var d='Search: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',p='Replace: <input type="text" style="width: 10em" class="CodeMirror-search-field"/> <span style="color: #888" class="CodeMirror-search-hint">(Use /re/ syntax for regexp search)</span>',m='With: <input type="text" style="width: 10em" class="CodeMirror-search-field"/>',g="Replace? <button>Yes</button> <button>No</button> <button>Stop</button>";e.commands.find=function(e){f(e),c(e)},e.commands.findNext=c,e.commands.findPrev=function(e){c(e,!0)},e.commands.clearSearch=f,e.commands.replace=h,e.commands.replaceAll=function(e){h(e,!0)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){var t=e.getWrapperElement();e.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:t.style.width,height:t.style.height},t.style.width="",t.style.height="auto",t.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",e.refresh()}function n(e){var t=e.getWrapperElement();t.className=t.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var n=e.state.fullScreenRestore;t.style.width=n.width,t.style.height=n.height,window.scrollTo(n.scrollLeft,n.scrollTop),e.refresh()}e.defineOption("fullScreen",!1,function(r,i,o){o==e.Init&&(o=!1),!o!=!i&&(i?t(r):n(r))})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/dialog/dialog"),require("../addon/edit/matchbrackets.js")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/dialog/dialog","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";var t=[{keys:["<Left>"],type:"keyToKey",toKeys:["h"]},{keys:["<Right>"],type:"keyToKey",toKeys:["l"]},{keys:["<Up>"],type:"keyToKey",toKeys:["k"]},{keys:["<Down>"],type:"keyToKey",toKeys:["j"]},{keys:["<Space>"],type:"keyToKey",toKeys:["l"]},{keys:["<BS>"],type:"keyToKey",toKeys:["h"]},{keys:["<C-Space>"],type:"keyToKey",toKeys:["W"]},{keys:["<C-BS>"],type:"keyToKey",toKeys:["B"]},{keys:["<S-Space>"],type:"keyToKey",toKeys:["w"]},{keys:["<S-BS>"],type:"keyToKey",toKeys:["b"]},{keys:["<C-n>"],type:"keyToKey",toKeys:["j"]},{keys:["<C-p>"],type:"keyToKey",toKeys:["k"]},{keys:["<C-[>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["<C-c>"],type:"keyToKey",toKeys:["<Esc>"]},{keys:["s"],type:"keyToKey",toKeys:["c","l"],context:"normal"},{keys:["s"],type:"keyToKey",toKeys:["x","i"],context:"visual"},{keys:["S"],type:"keyToKey",toKeys:["c","c"],context:"normal"},{keys:["S"],type:"keyToKey",toKeys:["d","c","c"],context:"visual"},{keys:["<Home>"],type:"keyToKey",toKeys:["0"]},{keys:["<End>"],type:"keyToKey",toKeys:["$"]},{keys:["<PageUp>"],type:"keyToKey",toKeys:["<C-b>"]},{keys:["<PageDown>"],type:"keyToKey",toKeys:["<C-f>"]},{keys:["<CR>"],type:"keyToKey",toKeys:["j","^"],context:"normal"},{keys:["H"],type:"motion",motion:"moveToTopLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["M"],type:"motion",motion:"moveToMiddleLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["L"],type:"motion",motion:"moveToBottomLine",motionArgs:{linewise:!0,toJumplist:!0}},{keys:["h"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!1}},{keys:["l"],type:"motion",motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["j"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,linewise:!0}},{keys:["k"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,linewise:!0}},{keys:["g","j"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!0}},{keys:["g","k"],type:"motion",motion:"moveByDisplayLines",motionArgs:{forward:!1}},{keys:["w"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1}},{keys:["W"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!1,bigWord:!0}},{keys:["e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,inclusive:!0}},{keys:["E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!0,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["b"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1}},{keys:["B"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!1,bigWord:!0}},{keys:["g","e"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,inclusive:!0}},{keys:["g","E"],type:"motion",motion:"moveByWords",motionArgs:{forward:!1,wordEnd:!0,bigWord:!0,inclusive:!0}},{keys:["{"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!1,toJumplist:!0}},{keys:["}"],type:"motion",motion:"moveByParagraph",motionArgs:{forward:!0,toJumplist:!0}},{keys:["<C-f>"],type:"motion",motion:"moveByPage",motionArgs:{forward:!0}},{keys:["<C-b>"],type:"motion",motion:"moveByPage",motionArgs:{forward:!1}},{keys:["<C-d>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:!0,explicitRepeat:!0}},{keys:["<C-u>"],type:"motion",motion:"moveByScroll",motionArgs:{forward:!1,explicitRepeat:!0}},{keys:["g","g"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:["G"],type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!0,explicitRepeat:!0,linewise:!0,toJumplist:!0}},{keys:["0"],type:"motion",motion:"moveToStartOfLine"},{keys:["^"],type:"motion",motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["+"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0}},{keys:["-"],type:"motion",motion:"moveByLines",motionArgs:{forward:!1,toFirstChar:!0}},{keys:["_"],type:"motion",motion:"moveByLines",motionArgs:{forward:!0,toFirstChar:!0,repeatOffset:-1}},{keys:["$"],type:"motion",motion:"moveToEol",motionArgs:{inclusive:!0}},{keys:["%"],type:"motion",motion:"moveToMatchedSymbol",motionArgs:{inclusive:!0,toJumplist:!0}},{keys:["f","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["F","character"],type:"motion",motion:"moveToCharacter",motionArgs:{forward:!1}},{keys:["t","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!0,inclusive:!0}},{keys:["T","character"],type:"motion",motion:"moveTillCharacter",motionArgs:{forward:!1}},{keys:[";"],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!0}},{keys:[","],type:"motion",motion:"repeatLastCharacterSearch",motionArgs:{forward:!1}},{keys:["'","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0,linewise:!0}},{keys:["`","character"],type:"motion",motion:"goToMark",motionArgs:{toJumplist:!0}},{keys:["]","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!0}},{keys:["[","`"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!1}},{keys:["]","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!0,linewise:!0}},{keys:["[","'"],type:"motion",motion:"jumpToMark",motionArgs:{forward:!1,linewise:!0}},{keys:["]","p"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0,matchIndent:!0}},{keys:["[","p"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0,matchIndent:!0}},{keys:["]","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:!0,toJumplist:!0}},{keys:["[","character"],type:"motion",motion:"moveToSymbol",motionArgs:{forward:!1,toJumplist:!0}},{keys:["|"],type:"motion",motion:"moveToColumn",motionArgs:{}},{keys:["o"],type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{},context:"visual"},{keys:["O"],type:"motion",motion:"moveToOtherHighlightedEnd",motionArgs:{sameLine:!0},context:"visual"},{keys:["d"],type:"operator",operator:"delete"},{keys:["y"],type:"operator",operator:"yank"},{keys:["c"],type:"operator",operator:"change"},{keys:[">"],type:"operator",operator:"indent",operatorArgs:{indentRight:!0}},{keys:["<"],type:"operator",operator:"indent",operatorArgs:{indentRight:!1}},{keys:["g","~"],type:"operator",operator:"swapcase"},{keys:["n"],type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:!0}},{keys:["N"],type:"motion",motion:"findNext",motionArgs:{forward:!1,toJumplist:!0}},{keys:["x"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!0},operatorMotionArgs:{visualLine:!1}},{keys:["X"],type:"operatorMotion",operator:"delete",motion:"moveByCharacters",motionArgs:{forward:!1},operatorMotionArgs:{visualLine:!0}},{keys:["D"],type:"operatorMotion",operator:"delete",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["Y"],type:"operatorMotion",operator:"yank",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["C"],type:"operatorMotion",operator:"change",motion:"moveToEol",motionArgs:{inclusive:!0},operatorMotionArgs:{visualLine:!0}},{keys:["~"],type:"operatorMotion",operator:"swapcase",operatorArgs:{shouldMoveCursor:!0},motion:"moveByCharacters",motionArgs:{forward:!0}},{keys:["<C-i>"],type:"action",action:"jumpListWalk",actionArgs:{forward:!0}},{keys:["<C-o>"],type:"action",action:"jumpListWalk",actionArgs:{forward:!1}},{keys:["<C-e>"],type:"action",action:"scroll",actionArgs:{forward:!0,linewise:!0}},{keys:["<C-y>"],type:"action",action:"scroll",actionArgs:{forward:!1,linewise:!0}},{keys:["a"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"charAfter"}},{keys:["A"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"eol"}},{keys:["A"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"endOfSelectedArea"},context:"visual"},{keys:["i"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"inplace"}},{keys:["I"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{insertAt:"firstNonBlank"}},{keys:["o"],type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!0}},{keys:["O"],type:"action",action:"newLineAndEnterInsertMode",isEdit:!0,interlaceInsertRepeat:!0,actionArgs:{after:!1}},{keys:["v"],type:"action",action:"toggleVisualMode"},{keys:["V"],type:"action",action:"toggleVisualMode",actionArgs:{linewise:!0}},{keys:["<C-v>"],type:"action",action:"toggleVisualMode",actionArgs:{blockwise:!0}},{keys:["g","v"],type:"action",action:"reselectLastSelection"},{keys:["J"],type:"action",action:"joinLines",isEdit:!0},{keys:["p"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!0,isEdit:!0}},{keys:["P"],type:"action",action:"paste",isEdit:!0,actionArgs:{after:!1,isEdit:!0}},{keys:["r","character"],type:"action",action:"replace",isEdit:!0},{keys:["@","character"],type:"action",action:"replayMacro"},{keys:["q","character"],type:"action",action:"enterMacroRecordMode"},{keys:["R"],type:"action",action:"enterInsertMode",isEdit:!0,actionArgs:{replace:!0}},{keys:["u"],type:"action",action:"undo"},{keys:["u"],type:"action",action:"changeCase",actionArgs:{toLower:!0},context:"visual",isEdit:!0},{keys:["U"],type:"action",action:"changeCase",actionArgs:{toLower:!1},context:"visual",isEdit:!0},{keys:["<C-r>"],type:"action",action:"redo"},{keys:["m","character"],type:"action",action:"setMark"},{keys:['"',"character"],type:"action",action:"setRegister"},{keys:["z","z"],type:"action",action:"scrollToCursor",actionArgs:{position:"center"}},{keys:["z","."],type:"action",action:"scrollToCursor",actionArgs:{position:"center"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","t"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"}},{keys:["z","<CR>"],type:"action",action:"scrollToCursor",actionArgs:{position:"top"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["z","-"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"}},{keys:["z","b"],type:"action",action:"scrollToCursor",actionArgs:{position:"bottom"},motion:"moveToFirstNonWhiteSpaceCharacter"},{keys:["."],type:"action",action:"repeatLastEdit"},{keys:["<C-a>"],type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!0,backtrack:!1}},{keys:["<C-x>"],type:"action",action:"incrementNumberToken",isEdit:!0,actionArgs:{increase:!1,backtrack:!1}},{keys:["a","character"],type:"motion",motion:"textObjectManipulation"},{keys:["i","character"],type:"motion",motion:"textObjectManipulation",motionArgs:{textObjectInner:!0}},{keys:["/"],type:"search",searchArgs:{forward:!0,querySrc:"prompt",toJumplist:!0}},{keys:["?"],type:"search",searchArgs:{forward:!1,querySrc:"prompt",toJumplist:!0}},{keys:["*"],type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:["#"],type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",wholeWordOnly:!0,toJumplist:!0}},{keys:["g","*"],type:"search",searchArgs:{forward:!0,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:["g","#"],type:"search",searchArgs:{forward:!1,querySrc:"wordUnderCursor",toJumplist:!0}},{keys:[":"],type:"ex"}],n=e.Pos,r=function(){function i(e){var t=e.state.vim;
return t.onPasteFn||(t.onPasteFn=function(){t.insertMode||(e.setCursor(T(e.getCursor(),0,1)),on.enterInsertMode(e,{},t))}),t.onPasteFn}function o(e,t){for(var n=[],r=e;e+t>r;r++)n.push(String.fromCharCode(r));return n}function a(e,t){return t>=e.firstLine()&&t<=e.lastLine()}function s(e){return/^[a-z]$/.test(e)}function l(e){return-1!="()[]{}".indexOf(e)}function c(e){return Pt.test(e)}function u(e){return/^[A-Z]$/.test(e)}function f(e){return/^\s*$/.test(e)}function h(e,t){for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1}function d(e,t,n){if(void 0===t)throw Error("defaultValue is required");n||(n="string"),Xt[e]={type:n,defaultValue:t},p(e,t)}function p(e,t){var n=Xt[e];if(!n)throw Error("Unknown option: "+e);if("boolean"==n.type){if(t&&t!==!0)throw Error("Invalid argument: "+e+"="+t);t!==!1&&(t=!0)}n.value="boolean"==n.type?!!t:t}function m(e){var t=Xt[e];if(!t)throw Error("Unknown option: "+e);return t.value}function g(){this.latestRegister=void 0,this.isPlaying=!1,this.isRecording=!1,this.replaySearchQueries=[],this.onRecordingDone=void 0,this.lastInsertModeChanges=Qt()}function v(e){return e.state.vim||(e.state.vim={inputState:new b,lastEditInputState:void 0,lastEditActionCommand:void 0,lastHPos:-1,lastHSPos:-1,lastMotion:null,marks:{},fakeCursor:null,insertMode:!1,insertModeRepeat:void 0,visualMode:!1,visualLine:!1,visualBlock:!1,lastSelection:null,lastPastedText:null,awaitingEscapeSecondCharacter:!1}),e.state.vim}function y(){Zt={searchQuery:null,searchIsReversed:!1,lastSubstituteReplacePart:void 0,jumpList:Yt(),macroModeState:new g,lastChararacterSearch:{increment:0,forward:!0,selectedCharacter:""},registerController:new x({}),searchHistoryController:new C({}),exCommandHistoryController:new C({})};for(var e in Xt){var t=Xt[e];t.value=t.defaultValue}}function b(){this.prefixRepeat=[],this.motionRepeat=[],this.operator=null,this.operatorArgs=null,this.motion=null,this.motionArgs=null,this.keyBuffer=[],this.registerName=null}function w(t,n){t.state.vim.inputState=new b,e.signal(t,"vim-command-done",n)}function k(e,t,n){this.clear(),this.keyBuffer=[e||""],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!!t,this.blockwise=!!n}function x(e){this.registers=e,this.unnamedRegister=e['"']=new k,e["."]=new k,e[":"]=new k,e["/"]=new k}function C(){this.historyBuffer=[],this.iterator,this.initialPrefix=null}function S(e,t,r){var i=Math.min(Math.max(e.firstLine(),t.line),e.lastLine()),o=F(e,i)-1;o=r?o+1:o;var a=Math.min(Math.max(0,t.ch),o);return n(i,a)}function L(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function T(e,t,r){return n(e.line+t,e.ch+r)}function M(e,t){for(var n=0;n<e.length;n++)if(e[n]!=t[n]&&"character"!=t[n])return!1;return!0}function A(e,t,n){return function(){for(var r=0;n>r;r++)t(e)}}function N(e){return n(e.line,e.ch)}function E(e,t){return e.ch==t.ch&&e.line==t.line}function O(e,t){return e.line<t.line?!0:e.line==t.line&&e.ch<t.ch?!0:!1}function _(e,t,n){var r=O(e,t),i=O(t,n);return r&&i}function F(e,t){return e.getLine(t).length}function I(e){return e.split("").reverse().join("")}function R(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function D(e){return e.replace(/([.?*+$\[\]\/\\(){}|\-])/g,"\\$1")}function $(e,t,r){var i=F(e,t),o=new Array(r-i+1).join(" ");e.setCursor(n(t,i)),e.replaceRange(o,e.getCursor())}function B(e,t){var n,r,i,o,a=[],s=e.listSelections(),l=s[0].anchor,c=s[s.length-1].anchor,u=e.getCursor("head"),f=N(t);n=l.line,r=c.line,t.line<u.line?i="up":t.line>u.line?i="down":(t.ch!=u.ch&&(i=t.ch>u.ch?"right":"left"),o=e.getCursor("anchor"));var h=j(s,u);t=e.clipPos(t);var d=j(s,t)<0?!1:!0,p=!E(f,t),m=function(){p?u.ch>=o.ch&&o.ch++:u.ch==F(e,u.line)&&E(s[h].anchor,s[h].head)&&s.length>1&&("up"==i?(d||h>0)&&(n=l.line,r=t.line,o=s[h-1].anchor):(d||0==h)&&(r=c.line,n=t.line,o=s[h+1].anchor),t.ch>=o.ch&&o.ch--)};switch(i){case"up":n=d?l.line:t.line,r=d?t.line:c.line,o=c,m();break;case"down":n=d?t.line:l.line,r=d?c.line:t.line,o=l,m();break;case"left":t.ch<=o.ch&&u.ch>o.ch&&(o.ch++,t.ch--);break;case"right":o.ch<=t.ch&&u.ch<o.ch&&(o.ch--,t.ch++);break;default:n=o.line,r=t.line}for(;r>=n;){var g={line:n,ch:o.ch},v={line:n,ch:t.ch},y={anchor:g,head:v};a.push(y),E(v,t)&&(h=a.indexOf(y)),n++}return t.ch=a[0].head.ch,o.ch=a[0].anchor.ch,o.line=E(t,a[0].head)?a[a.length-1].anchor.line:a[0].anchor.line,e.setSelections(a,h),o}function j(e,t,n){for(var r=-1,i=0;i<e.length;i++){var o=E(e[i].anchor,t),a=E(e[i].head,t);r="head"==n?a?i:r:"anchor"==n?o?i:r:o||a?i:r}return r}function P(e,t){var r=t.lastSelection,i=function(){var t=e.listSelections(),n=t[0],r=t[t.length-1],i=O(n.anchor,n.head)?n.anchor:n.head,o=O(r.anchor,r.head)?r.head:r.anchor;return[i,o]},o=function(){var t=e.getCursor(),i=e.getCursor(),o=r.visualBlock;if(o){var a=o.width,s=o.height;i=n(t.line+s,t.ch+a);for(var l=[],c=t.line;c<i.line;c++){var u=n(c,t.ch),f=n(c,i.ch),h={anchor:u,head:f};l.push(h)}e.setSelections(l)}else{var d=r.curStartMark.find(),p=r.curEndMark.find(),m=p.line-d.line,g=p.ch-d.ch;i={line:i.line+m,ch:m?i.ch:g+i.ch},r.visualLine&&(t=n(t.line,0),i=n(i.line,F(e,i.line))),e.setSelection(t,i)}return[t,i]};return t.visualMode?i():o()}function H(e,t,n,r){n&&r||(n=t.marks["<"].find()||e.getCursor("anchor"),r=t.marks[">"].find()||e.getCursor("head")),t.lastPastedText&&(r=e.posFromIndex(e.indexFromPos(n)+t.lastPastedText.length),t.lastPastedText=null);var i=e.listSelections(),o=j(i,n,"head")>-1;if(t.visualBlock)var a=Math.abs(n.line-r.line)+1,s=Math.abs(n.ch-r.ch),l={height:a,width:s};t.lastSelection={curStartMark:e.setBookmark(o?r:n),curEndMark:e.setBookmark(o?n:r),visualMode:t.visualMode,visualLine:t.visualLine,visualBlock:l}}function W(t){t.off("mousedown",W);var n=t.state.vim,r=t.getCursor("anchor"),i=t.getCursor("head");n.visualBlock&&O(r,i)&&i.ch--,H(t,n),n.visualMode=!1,n.visualLine=!1,n.visualBlock=!1,E(r,i)||t.setCursor(S(t,i)),e.signal(t,"vim-mode-change",{mode:"normal"}),n.fakeCursor&&n.fakeCursor.clear()}function q(e,t,n){var r=e.getRange(t,n);if(/\n\s*$/.test(r)){var i=r.split("\n");i.pop();for(var o,o=i.pop();i.length>0&&o&&f(o);o=i.pop())n.line--,n.ch=0;o?(n.line--,n.ch=F(e,n.line)):n.ch=0}}function z(e,t,n){t.ch=0,n.ch=0,n.line++}function U(e){if(!e)return 0;var t=e.search(/\S/);return-1==t?e.length:t}function V(e,t,r,i,o){var a,s=e.getCursor(),l=e.getLine(s.line),c=s.ch,u=l.substring(c);if(a=u.search(o?/\w/:/\S/),-1==a)return null;c+=a,u=l.substring(c);var f,h=l.substring(0,c);f=i?/^\S+/:/\w/.test(l.charAt(c))?/^\w+/:/^[^\w\s]+/;var d=f.exec(u),p=c,m=c+d[0].length,g=I(h),v=f.exec(g);if(v&&(p-=v[0].length),t){var y=l.substring(m),b=y.match(/^\s*/)[0].length;if(b>0)m+=b;else{var w=g.length-p,k=g.substring(w),x=k.match(/^\s*/)[0].length;p-=x}}return{start:n(s.line,p),end:n(s.line,m)}}function K(e,t,n){E(t,n)||Zt.jumpList.add(e,t,n)}function G(e,t){Zt.lastChararacterSearch.increment=e,Zt.lastChararacterSearch.forward=t.forward,Zt.lastChararacterSearch.selectedCharacter=t.selectedCharacter}function J(e,t,r,i){var o=N(e.getCursor()),a=r?1:-1,s=r?e.lineCount():-1,l=o.ch,c=o.line,u=e.getLine(c),f={lineText:u,nextCh:u.charAt(l),lastCh:null,index:l,symb:i,reverseSymb:(r?{")":"(","}":"{"}:{"(":")","{":"}"})[i],forward:r,depth:0,curMoveThrough:!1},h=an[i];if(!h)return o;var d=sn[h].init,p=sn[h].isComplete;for(d&&d(f);c!==s&&t;){if(f.index+=a,f.nextCh=f.lineText.charAt(f.index),!f.nextCh){if(c+=a,f.lineText=e.getLine(c)||"",a>0)f.index=0;else{var m=f.lineText.length;f.index=m>0?m-1:0}f.nextCh=f.lineText.charAt(f.index)}p(f)&&(o.line=c,o.ch=f.index,t--)}return f.nextCh||f.curMoveThrough?n(c,f.index):o}function X(e,t,n,r,i){var o=t.line,s=t.ch,l=e.getLine(o),c=n?1:-1,u=r?Wt:Ht;if(i&&""==l){if(o+=c,l=e.getLine(o),!a(e,o))return null;s=n?0:l.length}for(;;){if(i&&""==l)return{from:0,to:0,line:o};for(var f=c>0?l.length:-1,h=f,d=f;s!=f;){for(var p=!1,m=0;m<u.length&&!p;++m)if(u[m].test(l.charAt(s))){for(h=s;s!=f&&u[m].test(l.charAt(s));)s+=c;if(d=s,p=h!=d,h==t.ch&&o==t.line&&d==h+c)continue;return{from:Math.min(h,d+1),to:Math.max(h,d),line:o}}p||(s+=c)}if(o+=c,!a(e,o))return null;l=e.getLine(o),s=c>0?0:l.length}throw new Error("The impossible happened.")}function Y(e,t,r,i,o){var a=e.getCursor(),s=N(a),l=[];(r&&!i||!r&&i)&&t++;for(var c=!(r&&i),u=0;t>u;u++){var f=X(e,a,r,o,c);if(!f){var h=F(e,e.lastLine());l.push(r?{line:e.lastLine(),from:h,to:h}:{line:0,from:0,to:0});break}l.push(f),a=n(f.line,r?f.to-1:f.from)}var d=l.length!=t,p=l[0],m=l.pop();return r&&!i?(d||p.from==s.ch&&p.line==s.line||(m=l.pop()),n(m.line,m.from)):r&&i?n(m.line,m.to-1):!r&&i?(d||p.to==s.ch&&p.line==s.line||(m=l.pop()),n(m.line,m.to)):n(m.line,m.from)}function Q(e,t,r,i){for(var o,a=e.getCursor(),s=a.ch,l=0;t>l;l++){var c=e.getLine(a.line);if(o=tt(s,c,i,r,!0),-1==o)return null;s=o}return n(e.getCursor().line,o)}function Z(e,t){var r=e.getCursor().line;return S(e,n(r,t-1))}function et(e,t,n,r){h(n,Gt)&&(t.marks[n]&&t.marks[n].clear(),t.marks[n]=e.setBookmark(r))}function tt(e,t,n,r,i){var o;return r?(o=t.indexOf(n,e+1),-1==o||i||(o-=1)):(o=t.lastIndexOf(n,e-1),-1==o||i||(o+=1)),o}function nt(e,t,r){var i,o,a=e.getCursor(),s={"(":/[()]/,")":/[()]/,"[":/[[\]]/,"]":/[[\]]/,"{":/[{}]/,"}":/[{}]/}[t],l={"(":"(",")":"(","[":"[","]":"[","{":"{","}":"{"}[t],c=e.getLine(a.line).charAt(a.ch),u=c===l?1:0;if(i=e.scanForBracket(n(a.line,a.ch+u),-1,null,{bracketRegex:s}),o=e.scanForBracket(n(a.line,a.ch+u),1,null,{bracketRegex:s}),!i||!o)return{start:a,end:a};if(i=i.pos,o=o.pos,i.line==o.line&&i.ch>o.ch||i.line>o.line){var f=i;i=o,o=f}return r?o.ch+=1:i.ch+=1,{start:i,end:o}}function rt(e,t,r){var i,o,a,s,l=N(e.getCursor()),c=e.getLine(l.line),u=c.split(""),f=u.indexOf(t);if(l.ch<f?l.ch=f:f<l.ch&&u[l.ch]==t&&(o=l.ch,--l.ch),u[l.ch]!=t||o)for(a=l.ch;a>-1&&!i;a--)u[a]==t&&(i=a+1);else i=l.ch+1;if(i&&!o)for(a=i,s=u.length;s>a&&!o;a++)u[a]==t&&(o=a);return i&&o?(r&&(--i,++o),{start:n(l.line,i),end:n(l.line,o)}):{start:l,end:l}}function it(){}function ot(e){var t=e.state.vim;return t.searchState_||(t.searchState_=new it)}function at(e,t,n,r,i){e.openDialog?e.openDialog(t,r,{bottom:!0,value:i.value,onKeyDown:i.onKeyDown,onKeyUp:i.onKeyUp}):r(prompt(n,""))}function st(e){var t=lt(e)||[];if(!t.length)return[];var n=[];if(0===t[0]){for(var r=0;r<t.length;r++)"number"==typeof t[r]&&n.push(e.substring(t[r]+1,t[r+1]));return n}}function lt(e){for(var t=!1,n=[],r=0;r<e.length;r++){var i=e.charAt(r);t||"/"!=i||n.push(r),t=!t&&"\\"==i}return n}function ct(e){for(var t="|(){",n="}",r=!1,i=[],o=-1;o<e.length;o++){var a=e.charAt(o)||"",s=e.charAt(o+1)||"",l=s&&-1!=t.indexOf(s);r?("\\"===a&&l||i.push(a),r=!1):"\\"===a?(r=!0,s&&-1!=n.indexOf(s)&&(l=!0),l&&"\\"!==s||i.push(a)):(i.push(a),l&&"\\"!==s&&i.push("\\"))}return i.join("")}function ut(e){for(var t=!1,n=[],r=-1;r<e.length;r++){var i=e.charAt(r)||"",o=e.charAt(r+1)||"";t?(n.push(i),t=!1):"\\"===i?(t=!0,c(o)||"$"===o?n.push("$"):"/"!==o&&"\\"!==o&&n.push("\\")):("$"===i&&n.push("$"),n.push(i),"/"===o&&n.push("\\"))}return n.join("")}function ft(t){for(var n=new e.StringStream(t),r=[];!n.eol();){for(;n.peek()&&"\\"!=n.peek();)r.push(n.next());r.push(n.match("\\/",!0)?"/":n.match("\\\\",!0)?"\\":n.next())}return r.join("")}function ht(e,t,n){var r=Zt.registerController.getRegister("/");if(r.setText(e),e instanceof RegExp)return e;var i,o,a=lt(e);if(a.length){i=e.substring(0,a[0]);var s=e.substring(a[0]);o=-1!=s.indexOf("i")}else i=e;if(!i)return null;m("pcre")||(i=ct(i)),n&&(t=/^[^A-Z]*$/.test(i));var l=new RegExp(i,t||o?"i":void 0);return l}function dt(e,t){e.openNotification?e.openNotification('<span style="color: red">'+t+"</span>",{bottom:!0,duration:5e3}):alert(t)}function pt(e,t){var n="";return e&&(n+='<span style="font-family: monospace">'+e+"</span>"),n+='<input type="text"/> <span style="color: #888">',t&&(n+='<span style="color: #888">',n+=t,n+="</span>"),n}function mt(e,t){var n=(t.prefix||"")+" "+(t.desc||""),r=pt(t.prefix,t.desc);at(e,r,n,t.onClose,t)}function gt(e,t){if(e instanceof RegExp&&t instanceof RegExp){for(var n=["global","multiline","ignoreCase","source"],r=0;r<n.length;r++){var i=n[r];if(e[i]!==t[i])return!1}return!0}return!1}function vt(e,t,n,r){if(t){var i=ot(e),o=ht(t,!!n,!!r);if(o)return bt(e,o),gt(o,i.getQuery())?o:(i.setQuery(o),o)}}function yt(e){if("^"==e.source.charAt(0))var t=!0;return{token:function(n){if(t&&!n.sol())return void n.skipToEnd();var r=n.match(e,!1);if(r)return 0==r[0].length?(n.next(),"searching"):n.sol()||(n.backUp(1),e.exec(n.next()+r[0]))?(n.match(e),"searching"):(n.next(),null);for(;!n.eol()&&(n.next(),!n.match(e,!1)););},query:e}}function bt(e,t){var n=ot(e).getOverlay();n&&t==n.query||(n&&e.removeOverlay(n),n=yt(t),e.addOverlay(n),ot(e).setOverlay(n))}function wt(e,t,r,i){return void 0===i&&(i=1),e.operation(function(){for(var o=e.getCursor(),a=e.getSearchCursor(r,o),s=0;i>s;s++){var l=a.find(t);if(0==s&&l&&E(a.from(),o)&&(l=a.find(t)),!l&&(a=e.getSearchCursor(r,t?n(e.lastLine()):n(e.firstLine(),0)),!a.find(t)))return}return a.from()})}function kt(e){e.removeOverlay(ot(e).getOverlay()),ot(e).setOverlay(null)}function xt(e,t,n){return"number"!=typeof e&&(e=e.line),t instanceof Array?h(e,t):n?e>=t&&n>=e:e==t}function Ct(e){var t=e.getScrollInfo(),n=6,r=10,i=e.coordsChar({left:0,top:n+t.top},"local"),o=t.clientHeight-r+t.top,a=e.coordsChar({left:0,top:o},"local");return{top:i.line,bottom:a.line}}function St(e){for(var t,n,r=[];e&&(n=/<\w+-.+?>|<\w+>|./.exec(e),null!==n);)t=n[0],e=e.substring(n.index+t.length),r.push(t);return r}function Lt(t,n,r,i,o,a,s,l,c){function u(){t.operation(function(){for(;!m;)f(),h();d()})}function f(){var e=t.getRange(a.from(),a.to()),n=e.replace(s,l);a.replace(n)}function h(){for(var e;e=a.findNext()&&xt(a.from(),i,o);)if(r||!g||a.from().line!=g.line)return t.scrollIntoView(a.from(),30),t.setSelection(a.from(),a.to()),g=a.from(),void(m=!1);m=!0}function d(e){if(e&&e(),t.focus(),g){t.setCursor(g);var n=t.state.vim;n.exMode=!1,n.lastHPos=n.lastHSPos=g.ch}c&&c()}function p(n,r,i){e.e_stop(n);var o=e.keyName(n);switch(o){case"Y":f(),h();break;case"N":h();break;case"A":var a=c;c=void 0,t.operation(u),c=a;break;case"L":f();case"Q":case"Esc":case"Ctrl-C":case"Ctrl-[":d(i)}m&&d(i)}t.state.vim.exMode=!0;var m=!1,g=a.from();return h(),m?void dt(t,"No matches for "+s.source):n?void mt(t,{prefix:"replace with <strong>"+l+"</strong> (y/n/a/q/l)",onKeyDown:p}):(u(),void(c&&c()))}function Tt(){function t(e,t){var n=e;u(n)&&"Ctrl"==t&&(n=n.toLowerCase()),t&&(n=t.charAt(0)+"-"+n);var r={Enter:"CR",Backspace:"BS",Delete:"Del"}[n];return n=r?r:n,n=n.length>1?"<"+n+">":n}function n(t){return function(n){e.signal(n,"vim-keypress",t),e.Vim.handleKey(n,t)}}function r(e,r){for(var o=0;o<e.length;o++){var a=e[o];r||1!=a.length||(a="'"+a+"'");var s=t(e[o],r),l=r?r+"-"+a:a;i[l]=n(s)}}var i={nofallthrough:!0,style:"fat-cursor"};return r(qt),r(zt),r(qt,"Ctrl"),r(Vt),r(Vt,"Ctrl"),r(Ut),r(Ut,"Ctrl"),r(Kt),r(Kt,"Ctrl"),i}function Mt(t){var n=t.state.vim,r=Zt.macroModeState,i=Zt.registerController.getRegister("."),o=r.isPlaying,a=r.lastInsertModeChanges,s=[];if(!o){for(var l=a.inVisualBlock?n.lastSelection.visualBlock.height:1,c=a.changes,s=[],u=0;u<c.length;)s.push(c[u]),c[u]instanceof Dt?u++:u+=l;a.changes=s,t.off("change",It),e.off(t.getInputField(),"keydown",$t)}!o&&n.insertModeRepeat>1&&(Bt(t,n,n.insertModeRepeat-1,!0),n.lastEditInputState.repeatOverride=n.insertModeRepeat),delete n.insertModeRepeat,n.insertMode=!1,t.setCursor(t.getCursor().line,t.getCursor().ch-1),t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.toggleOverwrite(!1),i.setText(a.changes.join("")),e.signal(t,"vim-mode-change",{mode:"normal"}),r.isRecording&&_t(r)}function At(t){return function(n){var r=m("insertModeEscKeys"),i=r&&r.length>1&&r.charAt(0);return m("enableInsertModeEscKeys")&&i===t?(n.replaceRange(t,n.getCursor(),n.getCursor(),"+input"),n.setOption("keyMap","await-second"),n.state.vim.awaitingEscapeSecondCharacter=!0,setTimeout(function(){n.state.vim.awaitingEscapeSecondCharacter&&(n.state.vim.awaitingEscapeSecondCharacter=!1,n.setOption("keyMap","vim-insert"))},m("insertModeEscKeysTimeout")),void 0):e.Pass}}function Nt(t){return function(n){var r=m("insertModeEscKeys"),i=r&&r.length>1&&r.charAt(1);if(!m("enableInsertModeEscKeys")||i!==t)return e.Pass;if(n.state.vim.insertMode){var o=Zt.macroModeState.lastInsertModeChanges;o&&o.changes.length&&o.changes.pop()}n.state.vim.awaitingEscapeSecondCharacter=!1,n.replaceRange("",{ch:n.getCursor().ch-1,line:n.getCursor().line},n.getCursor(),"+input"),Mt(n)}}function Et(t,n,r,i){var o=Zt.registerController.getRegister(i),a=o.keyBuffer,s=0;r.isPlaying=!0,r.replaySearchQueries=o.searchQueries.slice(0);for(var l=0;l<a.length;l++)for(var c,u,f=a[l];f;)if(c=/<\w+-.+?>|<\w+>|./.exec(f),u=c[0],f=f.substring(c.index+u.length),e.Vim.handleKey(t,u),n.insertMode){var h=o.insertModeChanges[s++].changes;Zt.macroModeState.lastInsertModeChanges.changes=h,jt(t,h,1),Mt(t)}r.isPlaying=!1}function Ot(e,t){if(!e.isPlaying){var n=e.latestRegister,r=Zt.registerController.getRegister(n);r&&r.pushText(t)}}function _t(e){if(!e.isPlaying){var t=e.latestRegister,n=Zt.registerController.getRegister(t);n&&n.pushInsertModeChanges(e.lastInsertModeChanges)}}function Ft(e,t){if(!e.isPlaying){var n=e.latestRegister,r=Zt.registerController.getRegister(n);r&&r.pushSearchQuery(t)}}function It(e,t){var n=Zt.macroModeState,r=n.lastInsertModeChanges;if(!n.isPlaying)for(;t;){if(r.expectCursorActivityForChange=!0,"+input"==t.origin||"paste"==t.origin||void 0===t.origin){var i=t.text.join("\n");r.changes.push(i)}t=t.next}}function Rt(e){var t=e.state.vim;if(t.insertMode){var r=Zt.macroModeState;if(r.isPlaying)return;var i=r.lastInsertModeChanges;i.expectCursorActivityForChange?i.expectCursorActivityForChange=!1:i.changes=[]}else"*mouse"==e.doc.history.lastSelOrigin&&(t.lastHPos=e.doc.getCursor().ch,e.somethingSelected()&&(t.visualMode=!0));if(t.visualMode){var o,a;o=a=e.getCursor("head");var s=e.getCursor("anchor"),l=n(a.line,o.ch+(O(s,a)?-1:1));if(O(l,o)){var c=o;o=l,l=c}t.fakeCursor&&t.fakeCursor.clear(),t.fakeCursor=e.markText(o,l,{className:"cm-animate-fat-cursor"})}}function Dt(e){this.keyName=e}function $t(t){function n(){return i.changes.push(new Dt(o)),!0}var r=Zt.macroModeState,i=r.lastInsertModeChanges,o=e.keyName(t);(-1!=o.indexOf("Delete")||-1!=o.indexOf("Backspace"))&&e.lookupKey(o,["vim-insert"],n)}function Bt(e,t,n,r){function i(){s?tn.processAction(e,t,t.lastEditActionCommand):tn.evalInput(e,t)}function o(n){if(a.lastInsertModeChanges.changes.length>0){n=t.lastEditActionCommand?n:1;var r=a.lastInsertModeChanges;jt(e,r.changes,n)}}var a=Zt.macroModeState;a.isPlaying=!0;var s=!!t.lastEditActionCommand,l=t.inputState;if(t.inputState=t.lastEditInputState,s&&t.lastEditActionCommand.interlaceInsertRepeat)for(var c=0;n>c;c++)i(),o(1);else r||i(),o(n);t.inputState=l,t.insertMode&&!r&&Mt(e),a.isPlaying=!1}function jt(t,r,i){function o(n){return"string"==typeof n?e.commands[n](t):n(t),!0}var a=t.getCursor(),s=Zt.macroModeState.lastInsertModeChanges.inVisualBlock;if(s){var l=t.state.vim,c=l.lastSelection.visualBlock,u=n(a.line+c.height-1,a.ch);t.setCursor(a),B(t,u),i=t.listSelections().length,t.setCursor(a)}for(var f=0;i>f;f++){for(var h=0;h<r.length;h++){var d=r[h];if(d instanceof Dt)e.lookupKey(d.keyName,["vim-insert"],o);else{var p=t.getCursor();t.replaceRange(d,p,p)}}s&&(a.line++,t.setCursor(a))}}e.defineOption("vimMode",!1,function(t,n){n?(t.setOption("keyMap","vim"),t.setOption("disableInput",!0),t.setOption("showCursorWhenSelecting",!1),e.signal(t,"vim-mode-change",{mode:"normal"}),t.on("cursorActivity",Rt),v(t),e.on(t.getInputField(),"paste",i(t))):t.state.vim&&(t.setOption("keyMap","default"),t.setOption("disableInput",!1),t.off("cursorActivity",Rt),e.off(t.getInputField(),"paste",i(t)),t.state.vim=null)});var Pt=/[\d]/,Ht=[/\w/,/[^\w\s]/],Wt=[/\S/],qt=o(65,26),zt=o(97,26),Ut=o(48,10),Vt="~`!@#$%^&*()_-+=[{}]\\|/?.,<>:;\"'".split(""),Kt=["Left","Right","Up","Down","Space","Backspace","Esc","Home","End","PageUp","PageDown","Enter"],Gt=[].concat(qt,zt,Ut,["<",">"]),Jt=[].concat(qt,zt,Ut,["-",'"',".",":","/"]),Xt={},Yt=function(){function e(e,t,s){function l(t){var i=++r%n,o=a[i];o&&o.clear(),a[i]=e.setBookmark(t)}var c=r%n,u=a[c];if(u){var f=u.find();f&&!E(f,t)&&l(t)}else l(t);l(s),i=r,o=r-n+1,0>o&&(o=0)}function t(e,t){r+=t,r>i?r=i:o>r&&(r=o);var s=a[(n+r)%n];if(s&&!s.find()){var l,c=t>0?1:-1,u=e.getCursor();do if(r+=c,s=a[(n+r)%n],s&&(l=s.find())&&!E(u,l))break;while(i>r&&r>o)}return s}var n=100,r=-1,i=0,o=0,a=new Array(n);return{cachedCursor:void 0,add:e,move:t}},Qt=function(e){return e?{changes:e.changes,expectCursorActivityForChange:e.expectCursorActivityForChange}:{changes:[],expectCursorActivityForChange:!1}};g.prototype={exitMacroRecordMode:function(){var e=Zt.macroModeState;e.onRecordingDone&&e.onRecordingDone(),e.onRecordingDone=void 0,e.isRecording=!1},enterMacroRecordMode:function(e,t){var n=Zt.registerController.getRegister(t);n&&(n.clear(),this.latestRegister=t,e.openDialog&&(this.onRecordingDone=e.openDialog("(recording)["+t+"]",null,{bottom:!0})),this.isRecording=!0)}};var Zt,en={buildKeyMap:function(){},getRegisterController:function(){return Zt.registerController},resetVimGlobalState_:y,getVimGlobalState_:function(){return Zt},maybeInitVimState_:v,InsertModeKey:Dt,map:function(e,t,n){fn.map(e,t,n)},setOption:p,getOption:m,defineOption:d,defineEx:function(e,t,n){if(0!==e.indexOf(t))throw new Error('(Vim.defineEx) "'+t+'" is not a prefix of "'+e+'", command not registered');un[e]=n,fn.commandMap_[t]={name:e,shortName:t,type:"api"}},handleKey:function(n,r){var i,o=v(n),a=Zt.macroModeState;if(a.isRecording&&"q"==r)return a.exitMacroRecordMode(),void w(n);if("<Esc>"==r)return w(n),void(o.visualMode&&W(n));if(o.visualMode||E(n.getCursor("head"),n.getCursor("anchor"))||(o.visualMode=!0,o.visualLine=!1,e.signal(n,"vim-mode-change",{mode:"visual"}),n.on("mousedown",W)),("0"!=r||"0"==r&&0===o.inputState.getRepeat())&&(i=tn.matchCommand(r,t,o)),!i)return c(r)&&o.inputState.pushRepeatDigit(r),void(a.isRecording&&Ot(a,r));if("keyToKey"==i.type)for(var s=0;s<i.toKeys.length;s++)this.handleKey(n,i.toKeys[s]);else a.isRecording&&Ot(a,r),tn.processCommand(n,o,i)},handleEx:function(e,t){fn.processCommand(e,t)}};b.prototype.pushRepeatDigit=function(e){this.operator?this.motionRepeat=this.motionRepeat.concat(e):this.prefixRepeat=this.prefixRepeat.concat(e)},b.prototype.getRepeat=function(){var e=0;return(this.prefixRepeat.length>0||this.motionRepeat.length>0)&&(e=1,this.prefixRepeat.length>0&&(e*=parseInt(this.prefixRepeat.join(""),10)),this.motionRepeat.length>0&&(e*=parseInt(this.motionRepeat.join(""),10))),e},k.prototype={setText:function(e,t,n){this.keyBuffer=[e||""],this.linewise=!!t,this.blockwise=!!n},pushText:function(e,t){t&&(this.linewise||this.keyBuffer.push("\n"),this.linewise=!0),this.keyBuffer.push(e)},pushInsertModeChanges:function(e){this.insertModeChanges.push(Qt(e))},pushSearchQuery:function(e){this.searchQueries.push(e)},clear:function(){this.keyBuffer=[],this.insertModeChanges=[],this.searchQueries=[],this.linewise=!1},toString:function(){return this.keyBuffer.join("")}},x.prototype={pushText:function(e,t,n,r,i){r&&"\n"==n.charAt(0)&&(n=n.slice(1)+"\n"),r&&"\n"!==n.charAt(n.length-1)&&(n+="\n");var o=this.isValidRegister(e)?this.getRegister(e):null;if(!o){switch(t){case"yank":this.registers[0]=new k(n,r,i);break;case"delete":case"change":-1==n.indexOf("\n")?this.registers["-"]=new k(n,r):(this.shiftNumericRegisters_(),this.registers[1]=new k(n,r))}return void this.unnamedRegister.setText(n,r,i)}var a=u(e);a?o.pushText(n,r):o.setText(n,r,i),this.unnamedRegister.setText(o.toString(),r)},getRegister:function(e){return this.isValidRegister(e)?(e=e.toLowerCase(),this.registers[e]||(this.registers[e]=new k),this.registers[e]):this.unnamedRegister},isValidRegister:function(e){return e&&h(e,Jt)},shiftNumericRegisters_:function(){for(var e=9;e>=2;e--)this.registers[e]=this.getRegister(""+(e-1))}},C.prototype={nextMatch:function(e,t){var n=this.historyBuffer,r=t?-1:1;null===this.initialPrefix&&(this.initialPrefix=e);for(var i=this.iterator+r;t?i>=0:i<n.length;i+=r)for(var o=n[i],a=0;a<=o.length;a++)if(this.initialPrefix==o.substring(0,a))return this.iterator=i,o;return i>=n.length?(this.iterator=n.length,this.initialPrefix):0>i?e:void 0},pushInput:function(e){var t=this.historyBuffer.indexOf(e);t>-1&&this.historyBuffer.splice(t,1),e.length&&this.historyBuffer.push(e)},reset:function(){this.initialPrefix=null,this.iterator=this.historyBuffer.length}};var tn={matchCommand:function(e,t,n){function r(t){return a.length<t.keys.length?(o.keyBuffer.push(e),null):("character"==t.keys[a.length-1]&&(o.selectedCharacter=i),o.keyBuffer=[],t)}for(var i,o=n.inputState,a=o.keyBuffer.concat(e),s=[],l=0;l<t.length;l++){var c=t[l];if(M(a,c.keys)){if(o.operator&&"action"==c.type)continue;if("character"==c.keys[a.length-1]&&(i=a[a.length-1],i.length>1))switch(i){case"<CR>":i="\n";break;case"<Space>":i=" ";break;default:continue}s.push(c)}}if(s.length){if(1==s.length)return r(s[0]);for(var u,f=n.visualMode?"visual":"normal",l=0;l<s.length;l++){var h=s[l];if(h.context==f){u=h;break}u||h.context||(u=h)}return r(u)}return o.keyBuffer=[],null},processCommand:function(e,t,n){switch(t.inputState.repeatOverride=n.repeatOverride,n.type){case"motion":this.processMotion(e,t,n);break;case"operator":this.processOperator(e,t,n);break;case"operatorMotion":this.processOperatorMotion(e,t,n);break;case"action":this.processAction(e,t,n);break;case"search":this.processSearch(e,t,n);break;case"ex":case"keyToEx":this.processEx(e,t,n)}},processMotion:function(e,t,n){t.inputState.motion=n.motion,t.inputState.motionArgs=L(n.motionArgs),this.evalInput(e,t)},processOperator:function(e,t,n){var r=t.inputState;if(r.operator){if(r.operator==n.operator)return r.motion="expandToLine",r.motionArgs={linewise:!0},void this.evalInput(e,t);w(e)}r.operator=n.operator,r.operatorArgs=L(n.operatorArgs),t.visualMode&&this.evalInput(e,t)},processOperatorMotion:function(e,t,n){var r=t.visualMode,i=L(n.operatorMotionArgs);i&&r&&i.visualLine&&(t.visualLine=!0),this.processOperator(e,t,n),r||this.processMotion(e,t,n)},processAction:function(e,t,n){var r=t.inputState,i=r.getRepeat(),o=!!i,a=L(n.actionArgs)||{};r.selectedCharacter&&(a.selectedCharacter=r.selectedCharacter),n.operator&&this.processOperator(e,t,n),n.motion&&this.processMotion(e,t,n),(n.motion||n.operator)&&this.evalInput(e,t),a.repeat=i||1,a.repeatIsExplicit=o,a.registerName=r.registerName,w(e),t.lastMotion=null,n.isEdit&&this.recordLastEdit(t,r,n),on[n.action](e,a,t)},processSearch:function(t,n,r){function i(e,i,o){Zt.searchHistoryController.pushInput(e),Zt.searchHistoryController.reset();try{vt(t,e,i,o)}catch(a){return void dt(t,"Invalid regex: "+e)}tn.processMotion(t,n,{type:"motion",motion:"findNext",motionArgs:{forward:!0,toJumplist:r.searchArgs.toJumplist}})}function o(e){t.scrollTo(h.left,h.top),i(e,!0,!0);var n=Zt.macroModeState;n.isRecording&&Ft(n,e)}function a(n,r,i){var o,a=e.keyName(n);"Up"==a||"Down"==a?(o="Up"==a?!0:!1,r=Zt.searchHistoryController.nextMatch(r,o)||"",i(r)):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&Zt.searchHistoryController.reset();var s;try{s=vt(t,r,!0,!0)}catch(n){}s?t.scrollIntoView(wt(t,!l,s),30):(kt(t),t.scrollTo(h.left,h.top))}function s(n,r,i){var o=e.keyName(n);("Esc"==o||"Ctrl-C"==o||"Ctrl-["==o)&&(Zt.searchHistoryController.pushInput(r),Zt.searchHistoryController.reset(),vt(t,f),kt(t),t.scrollTo(h.left,h.top),e.e_stop(n),i(),t.focus())}if(t.getSearchCursor){var l=r.searchArgs.forward,c=r.searchArgs.wholeWordOnly;ot(t).setReversed(!l);var u=l?"/":"?",f=ot(t).getQuery(),h=t.getScrollInfo();switch(r.searchArgs.querySrc){case"prompt":var d=Zt.macroModeState;if(d.isPlaying){var p=d.replaySearchQueries.shift();i(p,!0,!1)}else mt(t,{onClose:o,prefix:u,desc:ln,onKeyUp:a,onKeyDown:s});break;case"wordUnderCursor":var m=V(t,!1,!0,!1,!0),g=!0;if(m||(m=V(t,!1,!0,!1,!1),g=!1),!m)return;var p=t.getLine(m.start.line).substring(m.start.ch,m.end.ch);p=g&&c?"\\b"+p+"\\b":D(p),Zt.jumpList.cachedCursor=t.getCursor(),t.setCursor(m.start),i(p,!0,!1)}}},processEx:function(t,n,r){function i(e){Zt.exCommandHistoryController.pushInput(e),Zt.exCommandHistoryController.reset(),fn.processCommand(t,e)}function o(n,r,i){var o,a=e.keyName(n);("Esc"==a||"Ctrl-C"==a||"Ctrl-["==a)&&(Zt.exCommandHistoryController.pushInput(r),Zt.exCommandHistoryController.reset(),e.e_stop(n),i(),t.focus()),"Up"==a||"Down"==a?(o="Up"==a?!0:!1,r=Zt.exCommandHistoryController.nextMatch(r,o)||"",i(r)):"Left"!=a&&"Right"!=a&&"Ctrl"!=a&&"Alt"!=a&&"Shift"!=a&&Zt.exCommandHistoryController.reset()}"keyToEx"==r.type?fn.processCommand(t,r.exArgs.input):n.visualMode?mt(t,{onClose:i,prefix:":",value:"'<,'>",onKeyDown:o}):mt(t,{onClose:i,prefix:":",onKeyDown:o})},evalInput:function(e,t){var r,i,o=t.inputState,a=o.motion,s=o.motionArgs||{},l=o.operator,c=o.operatorArgs||{},u=o.registerName,f=N(e.getCursor("head")),h=N(e.getCursor("anchor")),d=N(f),p=N(d);if(l&&this.recordLastEdit(t,o),i=void 0!==o.repeatOverride?o.repeatOverride:o.getRepeat(),i>0&&s.explicitRepeat?s.repeatIsExplicit=!0:(s.noRepeat||!s.explicitRepeat&&0===i)&&(i=1,s.repeatIsExplicit=!1),o.selectedCharacter&&(s.selectedCharacter=c.selectedCharacter=o.selectedCharacter),s.repeat=i,w(e),a){var m=nn[a](e,s,t);if(t.lastMotion=nn[a],!m)return;if(s.toJumplist){var g=Zt.jumpList,v=g.cachedCursor;v?(K(e,v,m),delete g.cachedCursor):K(e,p,m)}if(m instanceof Array?(d=m[0],r=m[1]):r=m,r||(r=n(d.line,d.ch)),t.visualMode){var y=0;if(O(h,f)&&(E(h,r)||O(r,h))?(h.ch+=1,y=-1):O(f,h)&&(E(h,r)||O(h,r))&&(h.ch-=1,y=1),t.visualBlock||m instanceof Array||(r.ch+=y),1/0!=t.lastHPos&&(t.lastHPos=r.ch),f=r,h=m instanceof Array?d:h,t.visualLine)if(O(h,f)){h.ch=0;var b=e.lastLine();f.line>b&&(f.line=b),f.ch=F(e,f.line)}else f.ch=0,h.ch=F(e,h.line);else t.visualBlock&&(h=B(e,f));t.visualBlock||e.setSelection(h,f),et(e,t,"<",O(h,f)?h:f),et(e,t,">",O(h,f)?f:h)}else l||(r=S(e,r),e.setCursor(r.line,r.ch))}if(l){var k=!1;t.lastMotion=null;var x=t.lastSelection;if(c.repeat=i,t.visualMode&&(d=h,r=f,s.inclusive=!0,c.shouldMoveCursor=!1),r&&O(r,d)){var C=d;d=r,r=C,k=!0}else r||(r=N(d));if(s.inclusive&&!t.visualMode&&r.ch++,c.selOffset){if(r.line=d.line+c.selOffset.line,r.ch=c.selOffset.line?c.selOffset.ch:d.ch+c.selOffset.ch,x&&x.visualBlock){var L=x.visualBlock,T=L.width,M=L.height;r=n(d.line+M,d.ch+T);for(var A=[],_=d.line;_<r.line;_++){var I=n(_,d.ch),R=n(_,r.ch),D={anchor:I,head:R};A.push(D)}e.setSelections(A);var $=!0}}else if(t.visualMode){var j=n();j.line=r.line-d.line,j.ch=j.line?r.ch:r.ch-d.ch,c.selOffset=j}var P=s.linewise||t.visualMode&&t.visualLine||c.linewise;P?z(e,d,r):s.forward&&q(e,d,r),c.registerName=u,c.linewise=P,t.visualBlock||$||e.setSelection(d,r),rn[l](e,c,t,d,r,p),t.visualMode&&W(e)}},recordLastEdit:function(e,t,n){var r=Zt.macroModeState;r.isPlaying||(e.lastEditInputState=t,e.lastEditActionCommand=n,r.lastInsertModeChanges.changes=[],r.lastInsertModeChanges.expectCursorActivityForChange=!1)}},nn={moveToTopLine:function(e,t){var r=Ct(e).top+t.repeat-1;return n(r,U(e.getLine(r)))},moveToMiddleLine:function(e){var t=Ct(e),r=Math.floor(.5*(t.top+t.bottom));return n(r,U(e.getLine(r)))},moveToBottomLine:function(e,t){var r=Ct(e).bottom-t.repeat+1;return n(r,U(e.getLine(r)))},expandToLine:function(e,t){var r=e.getCursor();return n(r.line+t.repeat-1,1/0)},findNext:function(e,t){var n=ot(e),r=n.getQuery();if(r){var i=!t.forward;return i=n.isReversed()?!i:i,bt(e,r),wt(e,i,r,t.repeat)}},goToMark:function(e,t,n){var r=n.marks[t.selectedCharacter];if(r){var i=r.find();return t.linewise?{line:i.line,ch:U(e.getLine(i.line))}:i}return null},moveToOtherHighlightedEnd:function(e,t,r){var i=e.listSelections(),o=e.getCursor("head"),a=i[0].anchor,s=E(i[0].head,o)?i.length-1:0;return t.sameLine&&r.visualBlock?(a=n(o.line,i[s].anchor.ch),o=n(i[s].head.line,o.ch)):a=i[s].anchor,e.setCursor(o),[o,a]},jumpToMark:function(e,t,r){for(var i=e.getCursor(),o=0;o<t.repeat;o++){var a=i;for(var l in r.marks)if(s(l)){var c=r.marks[l].find(),u=t.forward?O(c,a):O(a,c);
if(!(u||t.linewise&&c.line==a.line)){var f=E(a,i),h=t.forward?_(a,c,i):_(i,c,a);(f||h)&&(i=c)}}}return t.linewise&&(i=n(i.line,U(e.getLine(i.line)))),i},moveByCharacters:function(e,t){var r=e.getCursor(),i=t.repeat,o=t.forward?r.ch+i:r.ch-i;return n(r.line,o)},moveByLines:function(e,t,r){var i=e.getCursor(),o=i.ch;switch(r.lastMotion){case this.moveByLines:case this.moveByDisplayLines:case this.moveByScroll:case this.moveToColumn:case this.moveToEol:o=r.lastHPos;break;default:r.lastHPos=o}var a=t.repeat+(t.repeatOffset||0),s=t.forward?i.line+a:i.line-a,l=e.firstLine(),c=e.lastLine();return l>s&&i.line==l||s>c&&i.line==c?void 0:(t.toFirstChar&&(o=U(e.getLine(s)),r.lastHPos=o),r.lastHSPos=e.charCoords(n(s,o),"div").left,n(s,o))},moveByDisplayLines:function(e,t,r){var i=e.getCursor();switch(r.lastMotion){case this.moveByDisplayLines:case this.moveByScroll:case this.moveByLines:case this.moveToColumn:case this.moveToEol:break;default:r.lastHSPos=e.charCoords(i,"div").left}var o=t.repeat,a=e.findPosV(i,t.forward?o:-o,"line",r.lastHSPos);if(a.hitSide)if(t.forward)var s=e.charCoords(a,"div"),l={top:s.top+8,left:r.lastHSPos},a=e.coordsChar(l,"div");else{var c=e.charCoords(n(e.firstLine(),0),"div");c.left=r.lastHSPos,a=e.coordsChar(c,"div")}return r.lastHPos=a.ch,a},moveByPage:function(e,t){var n=e.getCursor(),r=t.repeat;return e.findPosV(n,t.forward?r:-r,"page")},moveByParagraph:function(e,t){for(var r=e.getCursor().line,i=t.repeat,o=t.forward?1:-1,a=0;i>a&&!(!t.forward&&r===e.firstLine()||t.forward&&r==e.lastLine());a++)for(r+=o;r!==e.firstLine()&&r!=e.lastLine()&&e.getLine(r);)r+=o;return n(r,0)},moveByScroll:function(e,t,n){var r=e.getScrollInfo(),i=null,o=t.repeat;o||(o=r.clientHeight/(2*e.defaultTextHeight()));var a=e.charCoords(e.getCursor(),"local");t.repeat=o;var i=nn.moveByDisplayLines(e,t,n);if(!i)return null;var s=e.charCoords(i,"local");return e.scrollTo(null,r.top+s.top-a.top),i},moveByWords:function(e,t){return Y(e,t.repeat,!!t.forward,!!t.wordEnd,!!t.bigWord)},moveTillCharacter:function(e,t){var n=t.repeat,r=Q(e,n,t.forward,t.selectedCharacter),i=t.forward?-1:1;return G(i,t),r?(r.ch+=i,r):null},moveToCharacter:function(e,t){var n=t.repeat;return G(0,t),Q(e,n,t.forward,t.selectedCharacter)||e.getCursor()},moveToSymbol:function(e,t){var n=t.repeat;return J(e,n,t.forward,t.selectedCharacter)||e.getCursor()},moveToColumn:function(e,t,n){var r=t.repeat;return n.lastHPos=r-1,n.lastHSPos=e.charCoords(e.getCursor(),"div").left,Z(e,r)},moveToEol:function(e,t,r){var i=e.getCursor();r.lastHPos=1/0;var o=n(i.line+t.repeat-1,1/0),a=e.clipPos(o);return a.ch--,r.lastHSPos=e.charCoords(a,"div").left,o},moveToFirstNonWhiteSpaceCharacter:function(e){var t=e.getCursor();return n(t.line,U(e.getLine(t.line)))},moveToMatchedSymbol:function(e){var t,r=e.getCursor(),i=r.line,o=r.ch,a=e.getLine(i);do if(t=a.charAt(o++),t&&l(t)){var s=e.getTokenTypeAt(n(i,o));if("string"!==s&&"comment"!==s)break}while(t);if(t){var c=e.findMatchingBracket(n(i,o));return c.to}return r},moveToStartOfLine:function(e){var t=e.getCursor();return n(t.line,0)},moveToLineOrEdgeOfDocument:function(e,t){var r=t.forward?e.lastLine():e.firstLine();return t.repeatIsExplicit&&(r=t.repeat-e.getOption("firstLineNumber")),n(r,U(e.getLine(r)))},textObjectManipulation:function(e,t){var n={"(":")",")":"(","{":"}","}":"{","[":"]","]":"["},r={"'":!0,'"':!0},i=t.selectedCharacter;"b"==i?i="(":"B"==i&&(i="{");var o,a=!t.textObjectInner;if(n[i])o=nt(e,i,a);else if(r[i])o=rt(e,i,a);else if("W"===i)o=V(e,a,!0,!0);else{if("w"!==i)return null;o=V(e,a,!0,!1)}return[o.start,o.end]},repeatLastCharacterSearch:function(e,t){var n=Zt.lastChararacterSearch,r=t.repeat,i=t.forward===n.forward,o=(n.increment?1:0)*(i?-1:1);e.moveH(-o,"char"),t.inclusive=i?!0:!1;var a=Q(e,r,i,n.selectedCharacter);return a?(a.ch+=o,a):(e.moveH(o,"char"),e.getCursor())}},rn={change:function(e,t,r){var i=e.listSelections(),o=i[0],a=i[i.length-1],s=O(o.anchor,o.head)?o.anchor:o.head,l=O(a.anchor,a.head)?a.head:a.anchor,c=e.getSelection(),u=r.visualBlock;r.lastSelection&&!r.visualMode&&(u=r.lastSelection.visualBlock?!0:u);var h=Zt.macroModeState.lastInsertModeChanges;h.inVisualBlock=u;var d=new Array(i.length).join("1").split("1"),p=r.marks[">"]?r.marks[">"].find():e.getCursor("head");if(Zt.registerController.pushText(t.registerName,"change",c,t.linewise),t.linewise)if(u)for(var m=s.line;m<=l.line;){var g=F(e,m),v=n(m,g),y=n(m,s.ch);m++,e.replaceRange("",y,v)}else d="\n",l.line==s.line&&l.line==e.lastLine()&&(d=""),e.replaceRange(d,s,l),e.indentLine(s.line,"smart"),s.ch=null,e.setCursor(s);else{var c=e.getRange(s,l);if(!f(c)){var b=/\s+$/.exec(c);b&&(l=T(l,0,-b[0].length))}u?e.replaceSelections(d):(e.setCursor(s),e.replaceRange("",s,l))}r.marks[">"]=e.setBookmark(p),on.enterInsertMode(e,{},e.state.vim)},"delete":function(e,t,n){var r,i,o=e.listSelections(),a=o[0],s=o[o.length-1],l=O(a.anchor,a.head)?a.anchor:a.head,c=O(s.anchor,s.head)?s.head:s.anchor,u=n.visualBlock;n.visualMode?(r=n.marks[">"].find(),i=n.marks["<"].find()):n.lastSelection&&(r=n.lastSelection.curStartMark.find(),i=n.lastSelection.curEndMark.find(),u=n.lastSelection.visualBlock);var f=e.getSelection();Zt.registerController.pushText(t.registerName,"delete",f,t.linewise,u);var h=new Array(o.length).join("1").split("1");if(t.linewise&&c.line==e.lastLine()&&l.line==c.line){var d=N(c);l.line--,l.ch=F(e,l.line),c=d,e.replaceRange("",l,c)}else e.replaceSelections(h);if(r){var p=e.setBookmark(i),m=e.setBookmark(r);n.visualMode?(n.marks["<"]=p,n.marks[">"]=m):(n.lastSelection.curStartMark=p,n.lastSelection.curEndMark=m)}e.setCursor(t.linewise?nn.moveToFirstNonWhiteSpaceCharacter(e):l)},indent:function(e,t,n,r,i){var o=r.line,a=i.line,s=n.visualMode?t.repeat:1;t.linewise&&a--;for(var l=o;a>=l;l++)for(var c=0;s>c;c++)e.indentLine(l,t.indentRight);e.setCursor(r),e.setCursor(nn.moveToFirstNonWhiteSpaceCharacter(e))},swapcase:function(e,t){for(var n=e.getSelections(),r=e.listSelections(),i=[],o=0;o<n.length;o++){for(var a=n[o],s="",l=0;l<a.length;l++){var c=a.charAt(l);s+=u(c)?c.toLowerCase():c.toUpperCase()}i.push(s)}e.replaceSelections(i);var f=r[0].anchor,h=r[0].head;t.shouldMoveCursor||e.setCursor(O(f,h)?f:h)},yank:function(e,t,n,r,i,o){var a=e.getSelection();Zt.registerController.pushText(t.registerName,"yank",a,t.linewise,n.visualBlock),e.setCursor(o)}},on={jumpListWalk:function(e,t,n){if(!n.visualMode){var r=t.repeat,i=t.forward,o=Zt.jumpList,a=o.move(e,i?r:-r),s=a?a.find():void 0;s=s?s:e.getCursor(),e.setCursor(s)}},scroll:function(e,t,n){if(!n.visualMode){var r=t.repeat||1,i=e.defaultTextHeight(),o=e.getScrollInfo().top,a=i*r,s=t.forward?o+a:o-a,l=N(e.getCursor()),c=e.charCoords(l,"local");if(t.forward)s>c.top?(l.line+=(s-c.top)/i,l.line=Math.ceil(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.top)):e.scrollTo(null,s);else{var u=s+e.getScrollInfo().clientHeight;u<c.bottom?(l.line-=(c.bottom-u)/i,l.line=Math.floor(l.line),e.setCursor(l),c=e.charCoords(l,"local"),e.scrollTo(null,c.bottom-e.getScrollInfo().clientHeight)):e.scrollTo(null,s)}}},scrollToCursor:function(e,t){var r=e.getCursor().line,i=e.charCoords(n(r,0),"local"),o=e.getScrollInfo().clientHeight,a=i.top,s=i.bottom-a;switch(t.position){case"center":a=a-o/2+s;break;case"bottom":a=a-o+1.4*s;break;case"top":a+=.4*s}e.scrollTo(null,a)},replayMacro:function(e,t,n){var r=t.selectedCharacter,i=t.repeat,o=Zt.macroModeState;for("@"==r&&(r=o.latestRegister);i--;)Et(e,n,o,r)},enterMacroRecordMode:function(e,t){var n=Zt.macroModeState,r=t.selectedCharacter;n.enterMacroRecordMode(e,r)},enterInsertMode:function(t,r,i){if(!t.getOption("readOnly")){i.insertMode=!0,i.insertModeRepeat=r&&r.repeat||1;var o=r?r.insertAt:null;if(i.visualMode)var a=P(t,i),s=a[0],l=a[1];if("eol"==o){var c=t.getCursor();c=n(c.line,F(t,c.line)),t.setCursor(c)}else if("charAfter"==o)t.setCursor(T(t.getCursor(),0,1));else if("firstNonBlank"==o)i.visualMode&&!i.visualBlock?(l.line<s.line?t.setCursor(l):(s=n(s.line,0),t.setCursor(s)),t.setCursor(nn.moveToFirstNonWhiteSpaceCharacter(t))):i.visualBlock?(l=n(l.line,s.ch),t.setCursor(s),B(t,l)):t.setCursor(nn.moveToFirstNonWhiteSpaceCharacter(t));else if("endOfSelectedArea"==o)i.visualBlock?(s=n(s.line,l.ch),t.setCursor(s),B(t,l)):l.line<s.line&&(l=n(s.line,0),t.setCursor(l));else if("inplace"==o&&i.visualMode)return;t.setOption("keyMap","vim-insert"),t.setOption("disableInput",!1),r&&r.replace?(t.toggleOverwrite(!0),t.setOption("keyMap","vim-replace"),e.signal(t,"vim-mode-change",{mode:"replace"})):(t.setOption("keyMap","vim-insert"),e.signal(t,"vim-mode-change",{mode:"insert"})),Zt.macroModeState.isPlaying||(t.on("change",It),e.on(t.getInputField(),"keydown",$t)),i.visualMode&&W(t)}},toggleVisualMode:function(t,r,i){var o,a=r.repeat,s=t.getCursor(),l=t.listSelections();i.visualMode?(s=t.getCursor("anchor"),o=t.getCursor("head"),i.visualLine?(r.blockwise?(i.visualBlock=!0,B(t,o),e.signal(t,"vim-mode-change",{mode:"visual",subMode:"blockwise"})):r.linewise?W(t):e.signal(t,"vim-mode-change",{mode:"visual"}),i.visualLine=!1):i.visualBlock?(r.linewise?(i.visualLine=!0,s=n(l[0].anchor.line,0),o=n(l[l.length-1].anchor.line,F(t,l[l.length-1].anchor.line)),t.setSelection(s,o),e.signal(t,"vim-mode-change",{mode:"visual",subMode:"linewise"})):r.blockwise?W(t):(s=o!=l[0].head?l[0].anchor:l[l.length-1].anchor,t.setSelection(s,o),e.signal(t,"vim-mode-change",{mode:"visual"})),i.visualBlock=!1):r.linewise?(i.visualLine=!0,s.ch=O(s,o)?0:F(t,s.line),o.ch=O(s,o)?F(t,o.line):0,t.setSelection(s,o),e.signal(t,"vim-mode-change",{mode:"visual",subMode:"linewise"})):r.blockwise?(i.visualBlock=!0,B(t,o),e.signal(t,"vim-mode-change",{mode:"visual",subMode:"blockwise"})):W(t)):(t.on("mousedown",W),i.visualMode=!0,i.visualLine=!!r.linewise,i.visualBlock=!!r.blockwise,i.visualLine?(s.ch=0,o=S(t,n(s.line+a-1,F(t,s.line)),!0)):o=S(t,n(s.line,s.ch+a),!0),t.setSelection(s,o),e.signal(t,"vim-mode-change",{mode:"visual",subMode:i.visualLine?"linewise":""})),et(t,i,"<",O(s,o)?s:o),et(t,i,">",O(s,o)?o:s)},reselectLastSelection:function(t,n,r){var i=r.marks["<"].find(),o=r.marks[">"].find(),a=r.lastSelection;if(a){var s=a.curStartMark.find(),l=a.curEndMark.find(),c=a.visualBlock;H(t,r,i,o),c?(t.setCursor(s),s=B(t,l)):(t.setSelection(s,l),s=t.getCursor("anchor"),l=t.getCursor("head")),r.visualMode&&(et(t,r,"<",O(s,l)?s:l),et(t,r,">",O(s,l)?l:s)),r.visualMode=!0,a.visualLine?(r.visualLine=!0,r.visualBlock=!1):a.visualBlock?(r.visualLine=!1,r.visualBlock=!0):r.visualBlock=r.visualLine=!1,e.signal(t,"vim-mode-change",{mode:"visual",subMode:r.visualLine?"linewise":""})}},joinLines:function(e,t,r){var i,o;if(r.visualMode)i=e.getCursor("anchor"),o=e.getCursor("head"),o.ch=F(e,o.line)-1;else{var a=Math.max(t.repeat,2);i=e.getCursor(),o=S(e,n(i.line+a-1,1/0))}var s=0;e.operation(function(){for(var t=i.line;t<o.line;t++){s=F(e,i.line);var r=n(i.line+1,F(e,i.line+1)),a=e.getRange(i,r);a=a.replace(/\n\s*/g," "),e.replaceRange(a,i,r)}var l=n(i.line,s);e.setCursor(l)})},newLineAndEnterInsertMode:function(t,r,i){i.insertMode=!0;var o=N(t.getCursor());if(o.line!==t.firstLine()||r.after){o.line=r.after?o.line:o.line-1,o.ch=F(t,o.line),t.setCursor(o);var a=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;a(t)}else t.replaceRange("\n",n(t.firstLine(),0)),t.setCursor(t.firstLine(),0);this.enterInsertMode(t,{repeat:r.repeat},i)},paste:function(e,t,r){var i=N(e.getCursor()),o=Zt.registerController.getRegister(t.registerName),a=o.toString();if(a){if(t.matchIndent){var s=function(t){var n=t.split("	").length-1,r=t.split(" ").length-1;return n*e.options.tabSize+1*r},l=e.getLine(e.getCursor().line),c=s(l.match(/^\s*/)[0]),u=a.replace(/\n$/,""),f=a!==u,h=s(a.match(/^\s*/)[0]),a=u.replace(/^\s*/gm,function(t){var n=c+(s(t)-h);if(0>n)return"";if(e.options.indentWithTabs){var r=Math.floor(n/e.options.tabSize);return Array(r+1).join("	")}return Array(n+1).join(" ")});a+=f?"\n":""}if(t.repeat>1)var a=Array(t.repeat+1).join(a);var d=o.linewise,p=o.blockwise;if(d)r.visualMode?a=r.visualLine?a.slice(0,-1):"\n"+a.slice(0,a.length-1)+"\n":t.after?(a="\n"+a.slice(0,a.length-1),i.ch=F(e,i.line)):i.ch=0;else{if(p){a=a.split("\n");for(var m=0;m<a.length;m++)a[m]=""==a[m]?" ":a[m]}i.ch+=t.after?1:0}var g,v;if(r.visualMode){r.lastPastedText=a;var y,b=P(e,r),w=b[0],k=b[1],x=e.getSelection(),C=e.listSelections(),S=new Array(C.length).join("1").split("1");r.lastSelection&&(y=r.lastSelection.curEndMark.find()),Zt.registerController.unnamedRegister.setText(x),p?(e.replaceSelections(S),k=n(w.line+a.length-1,w.ch),e.setCursor(w),B(e,k),e.replaceSelections(a),g=w):r.visualBlock?(e.replaceSelections(S),e.setCursor(w),e.replaceRange(a,w,w),g=w):(e.replaceRange(a,w,k),g=e.posFromIndex(e.indexFromPos(w)+a.length-1)),y&&(r.lastSelection.curEndMark=e.setBookmark(y)),d&&(g.ch=0)}else if(p){e.setCursor(i);for(var m=0;m<a.length;m++){var L=i.line+m;L>e.lastLine()&&e.replaceRange("\n",n(L,0));var T=F(e,L);T<i.ch&&$(e,L,i.ch)}e.setCursor(i),B(e,n(i.line+a.length-1,i.ch)),e.replaceSelections(a),g=i}else e.replaceRange(a,i),d&&t.after?g=n(i.line+1,U(e.getLine(i.line+1))):d&&!t.after?g=n(i.line,U(e.getLine(i.line))):!d&&t.after?(v=e.indexFromPos(i),g=e.posFromIndex(v+a.length-1)):(v=e.indexFromPos(i),g=e.posFromIndex(v+a.length));e.setCursor(g),r.visualMode&&W(e)}},undo:function(t,n){t.operation(function(){A(t,e.commands.undo,n.repeat)(),t.setCursor(t.getCursor("anchor"))})},redo:function(t,n){A(t,e.commands.redo,n.repeat)()},setRegister:function(e,t,n){n.inputState.registerName=t.selectedCharacter},setMark:function(e,t,n){var r=t.selectedCharacter;et(e,n,r,e.getCursor())},replace:function(t,r,i){var o,a,s=r.selectedCharacter,l=t.getCursor(),c=t.listSelections();if(i.visualMode)l=t.getCursor("start"),a=t.getCursor("end");else{var u=t.getLine(l.line);o=l.ch+r.repeat,o>u.length&&(o=u.length),a=n(l.line,o)}if("\n"==s)i.visualMode||t.replaceRange("",l,a),(e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent)(t);else{var f=t.getRange(l,a);if(f=f.replace(/[^\n]/g,s),i.visualBlock){var h=new Array(t.options.tabSize+1).join(" ");f=t.getSelection(),f=f.replace(/\t/g,h).replace(/[^\n]/g,s).split("\n"),t.replaceSelections(f)}else t.replaceRange(f,l,a);i.visualMode?(l=O(c[0].anchor,c[0].head)?c[0].anchor:c[0].head,t.setCursor(l),W(t)):t.setCursor(T(a,0,-1))}},incrementNumberToken:function(e,t){for(var r,i,o,a,s,l=e.getCursor(),c=e.getLine(l.line),u=/-?\d+/g;null!==(r=u.exec(c))&&(s=r[0],i=r.index,o=i+s.length,!(l.ch<o)););if((t.backtrack||!(o<=l.ch))&&s){var f=t.increase?1:-1,h=parseInt(s)+f*t.repeat,d=n(l.line,i),p=n(l.line,o);a=h.toString(),e.replaceRange(a,d,p),e.setCursor(n(l.line,i+a.length-1))}},repeatLastEdit:function(e,t,n){var r=n.lastEditInputState;if(r){var i=t.repeat;i&&t.repeatIsExplicit?n.lastEditInputState.repeatOverride=i:i=n.lastEditInputState.repeatOverride||i,Bt(e,n,i,!1)}},changeCase:function(e,t,n){var r,i,o=P(e,n)[0],a=e.getSelection();n.lastSelection&&(r=n.lastSelection.curEndMark.find(),i=n.lastSelection.visualBlock);var s=t.toLower;a=s?a.toLowerCase():a.toUpperCase(),e.replaceSelections(n.visualBlock||i?a.split("\n"):[a]),r&&(n.lastSelection.curEndMark=e.setBookmark(r)),e.setCursor(o),n.visualMode&&W(e)}},an={"(":"bracket",")":"bracket","{":"bracket","}":"bracket","[":"section","]":"section","*":"comment","/":"comment",m:"method",M:"method","#":"preprocess"},sn={bracket:{isComplete:function(e){if(e.nextCh===e.symb){if(e.depth++,e.depth>=1)return!0}else e.nextCh===e.reverseSymb&&e.depth--;return!1}},section:{init:function(e){e.curMoveThrough=!0,e.symb=(e.forward?"]":"[")===e.symb?"{":"}"},isComplete:function(e){return 0===e.index&&e.nextCh===e.symb}},comment:{isComplete:function(e){var t="*"===e.lastCh&&"/"===e.nextCh;return e.lastCh=e.nextCh,t}},method:{init:function(e){e.symb="m"===e.symb?"{":"}",e.reverseSymb="{"===e.symb?"}":"{"},isComplete:function(e){return e.nextCh===e.symb?!0:!1}},preprocess:{init:function(e){e.index=0},isComplete:function(e){if("#"===e.nextCh){var t=e.lineText.match(/#(\w+)/)[1];if("endif"===t){if(e.forward&&0===e.depth)return!0;e.depth++}else if("if"===t){if(!e.forward&&0===e.depth)return!0;e.depth--}if("else"===t&&0===e.depth)return!0}return!1}}};d("pcre",!0,"boolean"),it.prototype={getQuery:function(){return Zt.query},setQuery:function(e){Zt.query=e},getOverlay:function(){return this.searchOverlay},setOverlay:function(e){this.searchOverlay=e},isReversed:function(){return Zt.isReversed},setReversed:function(e){Zt.isReversed=e}};var ln="(Javascript regexp)",cn=[{name:"map"},{name:"nmap",shortName:"nm"},{name:"vmap",shortName:"vm"},{name:"unmap"},{name:"write",shortName:"w"},{name:"undo",shortName:"u"},{name:"redo",shortName:"red"},{name:"set",shortName:"set"},{name:"sort",shortName:"sor"},{name:"substitute",shortName:"s",possiblyAsync:!0},{name:"nohlsearch",shortName:"noh"},{name:"delmarks",shortName:"delm"},{name:"registers",shortName:"reg",excludeFromCommandHistory:!0},{name:"global",shortName:"g"}];r.ExCommandDispatcher=function(){this.buildCommandMap_()},r.ExCommandDispatcher.prototype={processCommand:function(t,n,r){var i=t.state.vim,o=Zt.registerController.getRegister(":"),a=o.toString();i.visualMode&&W(t);var s=new e.StringStream(n);o.setText(n);var l=r||{};l.input=n;try{this.parseInput_(t,s,l)}catch(c){throw dt(t,c),c}var u,f;if(l.commandName){if(u=this.matchCommand_(l.commandName)){if(f=u.name,u.excludeFromCommandHistory&&o.setText(a),this.parseCommandArgs_(s,l,u),"exToKey"==u.type){for(var h=0;h<u.toKeys.length;h++)e.Vim.handleKey(t,u.toKeys[h]);return}if("exToEx"==u.type)return void this.processCommand(t,u.toInput)}}else void 0!==l.line&&(f="move");if(!f)return void dt(t,'Not an editor command ":'+n+'"');try{un[f](t,l),u&&u.possiblyAsync||!l.callback||l.callback()}catch(c){throw dt(t,c),c}},parseInput_:function(e,t,n){t.eatWhile(":"),t.eat("%")?(n.line=e.firstLine(),n.lineEnd=e.lastLine()):(n.line=this.parseLineSpec_(e,t),void 0!==n.line&&t.eat(",")&&(n.lineEnd=this.parseLineSpec_(e,t)));var r=t.match(/^(\w+)/);return n.commandName=r?r[1]:t.match(/.*/)[0],n},parseLineSpec_:function(e,t){var n=t.match(/^(\d+)/);if(n)return parseInt(n[1],10)-1;switch(t.next()){case".":return e.getCursor().line;case"$":return e.lastLine();case"'":var r=e.state.vim.marks[t.next()];if(r&&r.find())return r.find().line;throw new Error("Mark not set");default:return void t.backUp(1)}},parseCommandArgs_:function(e,t,n){if(!e.eol()){t.argString=e.match(/.*/)[0];var r=n.argDelimiter||/\s+/,i=R(t.argString).split(r);i.length&&i[0]&&(t.args=i)}},matchCommand_:function(e){for(var t=e.length;t>0;t--){var n=e.substring(0,t);if(this.commandMap_[n]){var r=this.commandMap_[n];if(0===r.name.indexOf(e))return r}}return null},buildCommandMap_:function(){this.commandMap_={};for(var e=0;e<cn.length;e++){var t=cn[e],n=t.shortName||t.name;this.commandMap_[n]=t}},map:function(e,n,r){if(":"!=e&&":"==e.charAt(0)){if(r)throw Error("Mode not supported for ex mappings");var i=e.substring(1);this.commandMap_[i]=":"!=n&&":"==n.charAt(0)?{name:i,type:"exToEx",toInput:n.substring(1),user:!0}:{name:i,type:"exToKey",toKeys:St(n),user:!0}}else if(":"!=n&&":"==n.charAt(0)){var o={keys:St(e),type:"keyToEx",exArgs:{input:n.substring(1)},user:!0};r&&(o.context=r),t.unshift(o)}else{var o={keys:St(e),type:"keyToKey",toKeys:St(n),user:!0};r&&(o.context=r),t.unshift(o)}},unmap:function(e,n){var r=function(e,t){if(e===t)return!0;if(null==e||null==t)return!0;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0};if(":"!=e&&":"==e.charAt(0)){if(n)throw Error("Mode not supported for ex mappings");var i=e.substring(1);if(this.commandMap_[i]&&this.commandMap_[i].user)return void delete this.commandMap_[i]}else for(var o=St(e),a=0;a<t.length;a++)if(r(o,t[a].keys)&&t[a].context===n&&t[a].user)return void t.splice(a,1);throw Error("No such mapping.")}};var un={map:function(e,t,n){var r=t.args;return!r||r.length<2?void(e&&dt(e,"Invalid mapping: "+t.input)):void fn.map(r[0],r[1],n)},nmap:function(e,t){this.map(e,t,"normal")},vmap:function(e,t){this.map(e,t,"visual")},unmap:function(e,t,n){var r=t.args;return!r||r.length<1?void(e&&dt(e,"No such mapping: "+t.input)):void fn.unmap(r[0],n)},move:function(e,t){tn.processCommand(e,e.state.vim,{type:"motion",motion:"moveToLineOrEdgeOfDocument",motionArgs:{forward:!1,explicitRepeat:!0,linewise:!0},repeatOverride:t.line+1})},set:function(e,t){var n=t.args;if(!n||n.length<1)return void(e&&dt(e,"Invalid mapping: "+t.input));var r=n[0].split("="),i=r[0],o=r[1],a=!1;if("?"==i.charAt(i.length-1)){if(o)throw Error("Trailing characters: "+t.argString);i=i.substring(0,i.length-1),a=!0}void 0===o&&"no"==i.substring(0,2)&&(i=i.substring(2),o=!1);var s=Xt[i]&&"boolean"==Xt[i].type;if(s&&void 0==o&&(o=!0),!s&&!o||a){var l=m(i);l===!0||l===!1?dt(e," "+(l?"":"no")+i):dt(e,"  "+i+"="+l)}else p(i,o)},registers:function(e,t){var n=t.args,r=Zt.registerController.registers,i="----------Registers----------<br><br>";if(n){var o;n=n.join("");for(var a=0;a<n.length;a++)if(o=n.charAt(a),Zt.registerController.isValidRegister(o)){var s=r[o]||new k;i+='"'+o+"    "+s.toString()+"<br>"}}else for(var o in r){var l=r[o].toString();l.length&&(i+='"'+o+"    "+l+"<br>")}dt(e,i)},sort:function(t,r){function i(){if(r.argString){var t=new e.StringStream(r.argString);if(t.eat("!")&&(a=!0),t.eol())return;if(!t.eatSpace())return"Invalid arguments";var n=t.match(/[a-z]+/);if(n){n=n[0],s=-1!=n.indexOf("i"),l=-1!=n.indexOf("u");var i=-1!=n.indexOf("d")&&1,o=-1!=n.indexOf("x")&&1,u=-1!=n.indexOf("o")&&1;if(i+o+u>1)return"Invalid arguments";c=i&&"decimal"||o&&"hex"||u&&"octal"}t.eatSpace()&&t.match(/\/.*\//)}}function o(e,t){if(a){var n;n=e,e=t,t=n}s&&(e=e.toLowerCase(),t=t.toLowerCase());var r=c&&g.exec(e),i=c&&g.exec(t);return r?(r=parseInt((r[1]+r[2]).toLowerCase(),v),i=parseInt((i[1]+i[2]).toLowerCase(),v),r-i):t>e?-1:1}var a,s,l,c,u=i();if(u)return void dt(t,u+": "+r.argString);var f=r.line||t.firstLine(),h=r.lineEnd||r.line||t.lastLine();if(f!=h){var d=n(f,0),p=n(h,F(t,h)),m=t.getRange(d,p).split("\n"),g="decimal"==c?/(-?)([\d]+)/:"hex"==c?/(-?)(?:0x)?([0-9a-f]+)/i:"octal"==c?/([0-7]+)/:null,v="decimal"==c?10:"hex"==c?16:"octal"==c?8:null,y=[],b=[];if(c)for(var w=0;w<m.length;w++)g.exec(m[w])?y.push(m[w]):b.push(m[w]);else b=m;if(y.sort(o),b.sort(o),m=a?y.concat(b):b.concat(y),l){var k,x=m;m=[];for(var w=0;w<x.length;w++)x[w]!=k&&m.push(x[w]),k=x[w]}t.replaceRange(m.join("\n"),d,p)}},global:function(e,t){var n=t.argString;if(!n)return void dt(e,"Regular Expression missing from global");var r,i=void 0!==t.line?t.line:e.firstLine(),o=t.lineEnd||t.line||e.lastLine(),a=st(n),s=n;if(a.length&&(s=a[0],r=a.slice(1,a.length).join("/")),s)try{vt(e,s,!0,!0)}catch(l){return void dt(e,"Invalid regex: "+s)}for(var c=ot(e).getQuery(),u=[],f="",h=i;o>=h;h++){var d=c.test(e.getLine(h));d&&(u.push(h+1),f+=e.getLine(h)+"<br>")}if(!r)return void dt(e,f);var p=0,m=function(){if(p<u.length){var t=u[p]+r;fn.processCommand(e,t,{callback:m})}p++};m()},substitute:function(e,t){if(!e.getSearchCursor)throw new Error("Search feature not available. Requires searchcursor.js or any other getSearchCursor implementation.");var r,i,o,a,s=t.argString,l=s?st(s):[],c="",u=!1,f=!1;if(l.length)r=l[0],c=l[1],void 0!==c&&(c=m("pcre")?ft(c):ut(c),Zt.lastSubstituteReplacePart=c),i=l[2]?l[2].split(" "):[];else if(s&&s.length)return void dt(e,"Substitutions should be of the form :s/pattern/replace/");if(i&&(o=i[0],a=parseInt(i[1]),o&&(-1!=o.indexOf("c")&&(u=!0,o.replace("c","")),-1!=o.indexOf("g")&&(f=!0,o.replace("g","")),r=r+"/"+o)),r)try{vt(e,r,!0,!0)}catch(h){return void dt(e,"Invalid regex: "+r)}if(c=c||Zt.lastSubstituteReplacePart,void 0===c)return void dt(e,"No previous substitute regular expression");var d=ot(e),p=d.getQuery(),g=void 0!==t.line?t.line:e.getCursor().line,v=t.lineEnd||g;a&&(g=v,v=g+a-1);var y=S(e,n(g,0)),b=e.getSearchCursor(p,y);Lt(e,u,f,g,v,b,p,c,t.callback)},redo:e.commands.redo,undo:e.commands.undo,write:function(t){e.commands.save?e.commands.save(t):t.save()},nohlsearch:function(e){kt(e)},delmarks:function(t,n){if(!n.argString||!R(n.argString))return void dt(t,"Argument required");for(var r=t.state.vim,i=new e.StringStream(R(n.argString));!i.eol();){i.eatSpace();var o=i.pos;if(!i.match(/[a-zA-Z]/,!1))return void dt(t,"Invalid argument: "+n.argString.substring(o));var a=i.next();if(i.match("-",!0)){if(!i.match(/[a-zA-Z]/,!1))return void dt(t,"Invalid argument: "+n.argString.substring(o));var l=a,c=i.next();if(!(s(l)&&s(c)||u(l)&&u(c)))return void dt(t,"Invalid argument: "+l+"-");var f=l.charCodeAt(0),h=c.charCodeAt(0);if(f>=h)return void dt(t,"Invalid argument: "+n.argString.substring(o));for(var d=0;h-f>=d;d++){var p=String.fromCharCode(f+d);delete r.marks[p]}}else delete r.marks[a]}}},fn=new r.ExCommandDispatcher;return e.keyMap.vim=Tt(),d("enableInsertModeEscKeys",!1,"boolean"),d("insertModeEscKeys","kj","string"),d("insertModeEscKeysTimeout",200,"number"),e.keyMap["vim-insert"]={Esc:Mt,"Ctrl-[":Mt,"Ctrl-C":Mt,"Ctrl-N":"autocomplete","Ctrl-P":"autocomplete",Enter:function(t){var n=e.commands.newlineAndIndentContinueComment||e.commands.newlineAndIndent;n(t)},"'i'":At("i"),"'j'":At("j"),"'k'":At("k"),fallthrough:["default"]},e.keyMap["await-second"]={"'i'":Nt("i"),"'j'":Nt("j"),"'k'":Nt("k"),fallthrough:["vim-insert"]},e.keyMap["vim-replace"]={Backspace:"goCharLeft",fallthrough:["vim-insert"]},y(),en};e.Vim=r()}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../lib/codemirror"),require("../addon/search/searchcursor"),require("../addon/edit/matchbrackets")):"function"==typeof define&&define.amd?define(["../lib/codemirror","../addon/search/searchcursor","../addon/edit/matchbrackets"],e):e(CodeMirror)}(function(e){"use strict";function t(t,n,r){if(0>r&&0==n.ch)return t.clipPos(h(n.line-1));var i=t.getLine(n.line);if(r>0&&n.ch>=i.length)return t.clipPos(h(n.line+1,0));for(var o,a="start",s=n.ch,l=0>r?0:i.length,c=0;s!=l;s+=r,c++){var u=i.charAt(0>r?s-1:s),f="_"!=u&&e.isWordChar(u)?"w":"o";if("w"==f&&u.toUpperCase()==u&&(f="W"),"start"==a)"o"!=f&&(a="in",o=f);else if("in"==a&&o!=f){if("w"==o&&"W"==f&&0>r&&s--,"W"==o&&"w"==f&&r>0){o="w";continue}break}}return h(n.line,s)}function n(e,n){e.extendSelectionsBy(function(r){return e.display.shift||e.doc.extend||r.empty()?t(e.doc,r.head,n):0>n?r.from():r.to()})}function r(e,t){e.operation(function(){for(var n=e.listSelections().length,r=[],i=-1,o=0;n>o;o++){var a=e.listSelections()[o].head;if(!(a.line<=i)){var s=h(a.line+(t?0:1),0);e.replaceRange("\n",s,null,"+insertLine"),e.indentLine(s.line,null,!0),r.push({head:s,anchor:s}),i=a.line+1}}e.setSelections(r)})}function i(t,n){for(var r=n.ch,i=r,o=t.getLine(n.line);r&&e.isWordChar(o.charAt(r-1));)--r;for(;i<o.length&&e.isWordChar(o.charAt(i));)++i;return{from:h(n.line,r),to:h(n.line,i),word:o.slice(r,i)}}function o(e){var t=e.getCursor(),n=e.scanForBracket(t,-1);if(n)for(;;){var r=e.scanForBracket(t,1);if(!r)return;if(r.ch==m.charAt(m.indexOf(n.ch)+1))return e.setSelection(h(n.pos.line,n.pos.ch+1),r.pos,!1),!0;t=h(r.pos.line,r.pos.ch+1)}}function a(e,t){for(var n,r=e.listSelections(),i=[],o=0;o<r.length;o++){var a=r[o];if(!a.empty()){for(var s=a.from().line,l=a.to().line;o<r.length-1&&r[o+1].from().line==l;)l=a[++o].to().line;i.push(s,l)}}i.length?n=!0:i.push(e.firstLine(),e.lastLine()),e.operation(function(){for(var r=[],o=0;o<i.length;o+=2){var a=i[o],s=i[o+1],l=h(a,0),c=h(s),u=e.getRange(l,c,!1);t?u.sort():u.sort(function(e,t){var n=e.toUpperCase(),r=t.toUpperCase();return n!=r&&(e=n,t=r),t>e?-1:e==t?0:1}),e.replaceRange(u,l,c),n&&r.push({anchor:l,head:c})}n&&e.setSelections(r,0)})}function s(t,n){t.operation(function(){for(var r=t.listSelections(),o=[],a=[],s=0;s<r.length;s++){var l=r[s];l.empty()?(o.push(s),a.push("")):a.push(n(t.getRange(l.from(),l.to())))}t.replaceSelections(a,"around","case");for(var c,s=o.length-1;s>=0;s--){var l=r[o[s]];if(!(c&&e.cmpPos(l.head,c)>0)){var u=i(t,l.head);c=u.from,t.replaceRange(n(u.word),u.from,u.to)}}})}function l(t){var n=t.getCursor("from"),r=t.getCursor("to");if(0==e.cmpPos(n,r)){var o=i(t,n);if(!o.word)return;n=o.from,r=o.to}return{from:n,to:r,query:t.getRange(n,r),word:o}}function c(e,t){var n=l(e);if(n){var r=n.query,i=e.getSearchCursor(r,t?n.to:n.from);(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):(i=e.getSearchCursor(r,t?h(e.firstLine(),0):e.clipPos(h(e.lastLine()))),(t?i.findNext():i.findPrevious())?e.setSelection(i.from(),i.to()):n.word&&e.setSelection(n.from,n.to))}}var u=e.keyMap.sublime={fallthrough:"default"},f=e.commands,h=e.Pos,d=e.keyMap["default"]==e.keyMap.macDefault,p=d?"Cmd-":"Ctrl-";f[u["Alt-Left"]="goSubwordLeft"]=function(e){n(e,-1)},f[u["Alt-Right"]="goSubwordRight"]=function(e){n(e,1)},f[u[p+"Up"]="scrollLineUp"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top+t.clientHeight,"local");e.getCursor().line>=n&&e.execCommand("goLineUp")}e.scrollTo(null,t.top-e.defaultTextHeight())},f[u[p+"Down"]="scrollLineDown"]=function(e){var t=e.getScrollInfo();if(!e.somethingSelected()){var n=e.lineAtHeight(t.top,"local")+1;e.getCursor().line<=n&&e.execCommand("goLineDown")}e.scrollTo(null,t.top+e.defaultTextHeight())},f[u["Shift-"+p+"L"]="splitSelectionByLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++)for(var i=t[r].from(),o=t[r].to(),a=i.line;a<=o.line;++a)o.line>i.line&&a==o.line&&0==o.ch||n.push({anchor:a==i.line?i:h(a,0),head:a==o.line?o:h(a)});e.setSelections(n,0)},u["Shift-Tab"]="indentLess",f[u.Esc="singleSelectionTop"]=function(e){var t=e.listSelections()[0];e.setSelection(t.anchor,t.head,{scroll:!1})},f[u[p+"L"]="selectLine"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){var i=t[r];n.push({anchor:h(i.from().line,0),head:h(i.to().line+1,0)})}e.setSelections(n)},u["Shift-"+p+"K"]="deleteLine",f[u[p+"Enter"]="insertLineAfter"]=function(e){r(e,!1)},f[u["Shift-"+p+"Enter"]="insertLineBefore"]=function(e){r(e,!0)},f[u[p+"D"]="selectNextOccurrence"]=function(t){var n=t.getCursor("from"),r=t.getCursor("to"),o=t.state.sublimeFindFullWord==t.doc.sel;if(0==e.cmpPos(n,r)){var a=i(t,n);if(!a.word)return;t.setSelection(a.from,a.to),o=!0}else{var s=t.getRange(n,r),l=o?new RegExp("\\b"+s+"\\b"):s,c=t.getSearchCursor(l,r);c.findNext()?t.addSelection(c.from(),c.to()):(c=t.getSearchCursor(l,h(t.firstLine(),0)),c.findNext()&&t.addSelection(c.from(),c.to()))}o&&(t.state.sublimeFindFullWord=t.doc.sel)};var m="(){}[]";f[u["Shift-"+p+"Space"]="selectScope"]=function(e){o(e)||e.execCommand("selectAll")},f[u["Shift-"+p+"M"]="selectBetweenBrackets"]=function(t){return o(t)?void 0:e.Pass},f[u[p+"M"]="goToBracket"]=function(t){t.extendSelectionsBy(function(n){var r=t.scanForBracket(n.head,1);if(r&&0!=e.cmpPos(r.pos,n.head))return r.pos;var i=t.scanForBracket(n.head,-1);return i&&h(i.pos.line,i.pos.ch+1)||n.head})};var g=d?"Cmd-Ctrl-":"Shift-Ctrl-";f[u[g+"Up"]="swapLineUp"]=function(e){for(var t=e.listSelections(),n=[],r=e.firstLine()-1,i=[],o=0;o<t.length;o++){var a=t[o],s=a.from().line-1,l=a.to().line;i.push({anchor:h(a.anchor.line-1,a.anchor.ch),head:h(a.head.line-1,a.head.ch)}),0!=a.to().ch||a.empty()||--l,s>r?n.push(s,l):n.length&&(n[n.length-1]=l),r=l}e.operation(function(){for(var t=0;t<n.length;t+=2){var r=n[t],o=n[t+1],a=e.getLine(r);e.replaceRange("",h(r,0),h(r+1,0),"+swapLine"),o>e.lastLine()?e.replaceRange("\n"+a,h(e.lastLine()),null,"+swapLine"):e.replaceRange(a+"\n",h(o,0),null,"+swapLine")}e.setSelections(i),e.scrollIntoView()})},f[u[g+"Down"]="swapLineDown"]=function(e){for(var t=e.listSelections(),n=[],r=e.lastLine()+1,i=t.length-1;i>=0;i--){var o=t[i],a=o.to().line+1,s=o.from().line;0!=o.to().ch||o.empty()||a--,r>a?n.push(a,s):n.length&&(n[n.length-1]=s),r=s}e.operation(function(){for(var t=n.length-2;t>=0;t-=2){var r=n[t],i=n[t+1],o=e.getLine(r);r==e.lastLine()?e.replaceRange("",h(r-1),h(r),"+swapLine"):e.replaceRange("",h(r,0),h(r+1,0),"+swapLine"),e.replaceRange(o+"\n",h(i,0),null,"+swapLine")}e.scrollIntoView()})},u[p+"/"]="toggleComment",f[u[p+"J"]="joinLines"]=function(e){for(var t=e.listSelections(),n=[],r=0;r<t.length;r++){for(var i=t[r],o=i.from(),a=o.line,s=i.to().line;r<t.length-1&&t[r+1].from().line==s;)s=t[++r].to().line;
n.push({start:a,end:s,anchor:!i.empty()&&o})}e.operation(function(){for(var t=0,r=[],i=0;i<n.length;i++){for(var o,a=n[i],s=a.anchor&&h(a.anchor.line-t,a.anchor.ch),l=a.start;l<=a.end;l++){var c=l-t;l==a.end&&(o=h(c,e.getLine(c).length+1)),c<e.lastLine()&&(e.replaceRange(" ",h(c),h(c+1,/^\s*/.exec(e.getLine(c+1))[0].length)),++t)}r.push({anchor:s||o,head:o})}e.setSelections(r,0)})},f[u["Shift-"+p+"D"]="duplicateLine"]=function(e){e.operation(function(){for(var t=e.listSelections().length,n=0;t>n;n++){var r=e.listSelections()[n];r.empty()?e.replaceRange(e.getLine(r.head.line)+"\n",h(r.head.line,0)):e.replaceRange(e.getRange(r.from(),r.to()),r.from())}e.scrollIntoView()})},u[p+"T"]="transposeChars",f[u.F9="sortLines"]=function(e){a(e,!0)},f[u[p+"F9"]="sortLinesInsensitive"]=function(e){a(e,!1)},f[u.F2="nextBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){var n=t.shift(),r=n.find();if(r)return t.push(n),e.setSelection(r.from,r.to)}},f[u["Shift-F2"]="prevBookmark"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(;t.length;){t.unshift(t.pop());var n=t[t.length-1].find();if(n)return e.setSelection(n.from,n.to);t.pop()}},f[u[p+"F2"]="toggleBookmark"]=function(e){for(var t=e.listSelections(),n=e.state.sublimeBookmarks||(e.state.sublimeBookmarks=[]),r=0;r<t.length;r++){for(var i=t[r].from(),o=t[r].to(),a=e.findMarks(i,o),s=0;s<a.length;s++)if(a[s].sublimeBookmark){a[s].clear();for(var l=0;l<n.length;l++)n[l]==a[s]&&n.splice(l--,1);break}s==a.length&&n.push(e.markText(i,o,{sublimeBookmark:!0,clearWhenEmpty:!1}))}},f[u["Shift-"+p+"F2"]="clearBookmarks"]=function(e){var t=e.state.sublimeBookmarks;if(t)for(var n=0;n<t.length;n++)t[n].clear();t.length=0},f[u["Alt-F2"]="selectBookmarks"]=function(e){var t=e.state.sublimeBookmarks,n=[];if(t)for(var r=0;r<t.length;r++){var i=t[r].find();i?n.push({anchor:i.from,head:i.to}):t.splice(r--,0)}n.length&&e.setSelections(n,0)},u["Alt-Q"]="wrapLines";var v=e.keyMap["sublime-Ctrl-K"]={auto:"sublime",nofallthrough:!0};u[p+"K"]=function(e){e.setOption("keyMap","sublime-Ctrl-K")},v[p+"Backspace"]="delLineLeft",f[v[p+"K"]="delLineRight"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=t.length-1;n>=0;n--)e.replaceRange("",t[n].anchor,h(t[n].to().line),"+delete");e.scrollIntoView()})},f[v[p+"U"]="upcaseAtCursor"]=function(e){s(e,function(e){return e.toUpperCase()})},f[v[p+"L"]="downcaseAtCursor"]=function(e){s(e,function(e){return e.toLowerCase()})},f[v[p+"Space"]="setSublimeMark"]=function(e){e.state.sublimeMark&&e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor())},f[v[p+"A"]="selectToSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&e.setSelection(e.getCursor(),t)},f[v[p+"W"]="deleteToSublimeMark"]=function(t){var n=t.state.sublimeMark&&t.state.sublimeMark.find();if(n){var r=t.getCursor(),i=n;if(e.cmpPos(r,i)>0){var o=i;i=r,r=o}t.state.sublimeKilled=t.getRange(r,i),t.replaceRange("",r,i)}},f[v[p+"X"]="swapWithSublimeMark"]=function(e){var t=e.state.sublimeMark&&e.state.sublimeMark.find();t&&(e.state.sublimeMark.clear(),e.state.sublimeMark=e.setBookmark(e.getCursor()),e.setCursor(t))},f[v[p+"Y"]="sublimeYank"]=function(e){null!=e.state.sublimeKilled&&e.replaceSelection(e.state.sublimeKilled,null,"paste")},v[p+"G"]="clearBookmarks",f[v[p+"C"]="showInCenter"]=function(e){var t=e.cursorCoords(null,"local");e.scrollTo(null,(t.top+t.bottom)/2-e.getScrollInfo().clientHeight/2)},f[u["Shift-Alt-Up"]="selectLinesUpward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line>e.firstLine()&&e.addSelection(h(r.head.line-1,r.head.ch))}})},f[u["Shift-Alt-Down"]="selectLinesDownward"]=function(e){e.operation(function(){for(var t=e.listSelections(),n=0;n<t.length;n++){var r=t[n];r.head.line<e.lastLine()&&e.addSelection(h(r.head.line+1,r.head.ch))}})},f[u[p+"F3"]="findUnder"]=function(e){c(e,!0)},f[u["Shift-"+p+"F3"]="findUnderPrevious"]=function(e){c(e,!1)},f[u["Alt-F3"]="findAllUnder"]=function(e){var t=l(e);if(t){for(var n=e.getSearchCursor(t.query),r=[],i=-1;n.findNext();)r.push({anchor:n.from(),head:n.to()}),n.from().line<=t.from.line&&n.from().ch<=t.from.ch&&i++;e.setSelections(r,i)}},u["Shift-"+p+"["]="fold",u["Shift-"+p+"]"]="unfold",v[p+"0"]=v[p+"j"]="unfoldAll",u[p+"I"]="findIncremental",u["Shift-"+p+"I"]="findIncrementalReverse",u[p+"H"]="replace",u.F3="findNext",u["Shift-F3"]="findPrev"}),function(root){var CoffeeScript=function(){function require(e){return require[e]}return require["./helpers"]=function(){var e={},t={exports:e};return function(){var t,n,r,i,o,a,s;e.starts=function(e,t,n){return t===e.substr(n,t.length)},e.ends=function(e,t,n){var r;return r=t.length,t===e.substr(e.length-r-(n||0),r)},e.repeat=o=function(e,t){var n;for(n="";t>0;)1&t&&(n+=e),t>>>=1,e+=e;return n},e.compact=function(e){var t,n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],t&&i.push(t);return i},e.count=function(e,t){var n,r;if(n=r=0,!t.length)return 1/0;for(;r=1+e.indexOf(t,r);)n++;return n},e.merge=function(e,t){return n(n({},e),t)},n=e.extend=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},e.flatten=r=function(e){var t,n,i,o;for(n=[],i=0,o=e.length;o>i;i++)t=e[i],t instanceof Array?n=n.concat(r(t)):n.push(t);return n},e.del=function(e,t){var n;return n=e[t],delete e[t],n},e.last=i=function(e,t){return e[e.length-(t||0)-1]},e.some=null!=(s=Array.prototype.some)?s:function(e){var t,n,r;for(n=0,r=this.length;r>n;n++)if(t=this[n],e(t))return!0;return!1},e.invertLiterate=function(e){var t,n,r;return r=!0,n=function(){var n,i,o,a;for(o=e.split("\n"),a=[],n=0,i=o.length;i>n;n++)t=o[n],a.push(r&&/^([ ]{4}|[ ]{0,3}\t)/.test(t)?t:(r=/^\s*$/.test(t))?t:"# "+t);return a}(),n.join("\n")},t=function(e,t){return t?{first_line:e.first_line,first_column:e.first_column,last_line:t.last_line,last_column:t.last_column}:e},e.addLocationDataFn=function(e,n){return function(r){return"object"==typeof r&&r.updateLocationDataIfMissing&&r.updateLocationDataIfMissing(t(e,n)),r}},e.locationDataToString=function(e){var t;return"2"in e&&"first_line"in e[2]?t=e[2]:"first_line"in e&&(t=e),t?""+(t.first_line+1)+":"+(t.first_column+1)+"-"+(""+(t.last_line+1)+":"+(t.last_column+1)):"No location data"},e.baseFileName=function(e,t,n){var r,i;return null==t&&(t=!1),null==n&&(n=!1),i=n?/\\|\//:/\//,r=e.split(i),e=r[r.length-1],t&&e.indexOf(".")>=0?(r=e.split("."),r.pop(),"coffee"===r[r.length-1]&&r.length>1&&r.pop(),r.join(".")):e},e.isCoffee=function(e){return/\.((lit)?coffee|coffee\.md)$/.test(e)},e.isLiterate=function(e){return/\.(litcoffee|coffee\.md)$/.test(e)},e.throwSyntaxError=function(e,t){var n;throw n=new SyntaxError(e),n.location=t,n.toString=a,n.stack=""+n,n},e.updateSyntaxError=function(e,t,n){return e.toString===a&&(e.code||(e.code=t),e.filename||(e.filename=n),e.stack=""+e),e},a=function(){var e,t,n,r,i,a,s,l,c,u,f,h,d;return this.code&&this.location?(h=this.location,s=h.first_line,a=h.first_column,c=h.last_line,l=h.last_column,null==c&&(c=s),null==l&&(l=a),i=this.filename||"[stdin]",e=this.code.split("\n")[s],f=a,r=s===c?l+1:e.length,u=e.slice(0,f).replace(/[^\s]/g," ")+o("^",r-f),"undefined"!=typeof process&&null!==process&&(n=process.stdout.isTTY&&!process.env.NODE_DISABLE_COLORS),(null!=(d=this.colorful)?d:n)&&(t=function(e){return"[1;31m"+e+"[0m"},e=e.slice(0,f)+t(e.slice(f,r))+e.slice(r),u=t(u)),""+i+":"+(s+1)+":"+(a+1)+": error: "+this.message+"\n"+e+"\n"+u):Error.prototype.toString.call(this)},e.nameWhitespaceCharacter=function(e){switch(e){case" ":return"space";case"\n":return"newline";case"\r":return"carriage return";case"	":return"tab";default:return e}}}.call(this),t.exports}(),require["./rewriter"]=function(){var e={},t={exports:e};return function(){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},k=[].slice;for(p=function(e,t,n){var r;return r=[e,t],r.generated=!0,n&&(r.origin=n),r},e.Rewriter=function(){function e(){}return e.prototype.rewrite=function(e){return this.tokens=e,this.removeLeadingNewlines(),this.closeOpenCalls(),this.closeOpenIndexes(),this.normalizeLines(),this.tagPostfixConditionals(),this.addImplicitBracesAndParens(),this.addLocationDataToGeneratedTokens(),this.tokens},e.prototype.scanTokens=function(e){var t,n,r;for(r=this.tokens,t=0;n=r[t];)t+=e.call(this,n,t,r);return!0},e.prototype.detectEnd=function(e,t,n){var r,a,s,l,c;for(s=this.tokens,r=0;a=s[e];){if(0===r&&t.call(this,a,e))return n.call(this,a,e);if(!a||0>r)return n.call(this,a,e-1);l=a[0],w.call(o,l)>=0?r+=1:(c=a[0],w.call(i,c)>=0&&(r-=1)),e+=1}return e-1},e.prototype.removeLeadingNewlines=function(){var e,t,n,r,i;for(i=this.tokens,e=n=0,r=i.length;r>n&&(t=i[e][0],"TERMINATOR"===t);e=++n);return e?this.tokens.splice(0,e):void 0},e.prototype.closeOpenCalls=function(){var e,t;return t=function(e,t){var n;return")"===(n=e[0])||"CALL_END"===n||"OUTDENT"===e[0]&&")"===this.tag(t-1)},e=function(e,t){return this.tokens["OUTDENT"===e[0]?t-1:t][0]="CALL_END"},this.scanTokens(function(n,r){return"CALL_START"===n[0]&&this.detectEnd(r+1,t,e),1})},e.prototype.closeOpenIndexes=function(){var e,t;return t=function(e){var t;return"]"===(t=e[0])||"INDEX_END"===t},e=function(e){return e[0]="INDEX_END"},this.scanTokens(function(n,r){return"INDEX_START"===n[0]&&this.detectEnd(r+1,t,e),1})},e.prototype.matchTags=function(){var e,t,n,r,i,o,a;for(t=arguments[0],r=arguments.length>=2?k.call(arguments,1):[],e=0,n=i=0,o=r.length;o>=0?o>i:i>o;n=o>=0?++i:--i){for(;"HERECOMMENT"===this.tag(t+n+e);)e+=2;if(null!=r[n]&&("string"==typeof r[n]&&(r[n]=[r[n]]),a=this.tag(t+n+e),0>w.call(r[n],a)))return!1}return!0},e.prototype.looksObjectish=function(e){return this.matchTags(e,"@",null,":")||this.matchTags(e,null,":")},e.prototype.findTagsBackwards=function(e,t){var n,r,a,s,l,c,u;for(n=[];e>=0&&(n.length||(s=this.tag(e),0>w.call(t,s)&&(l=this.tag(e),0>w.call(o,l)||this.tokens[e].generated)&&(c=this.tag(e),0>w.call(f,c))));)r=this.tag(e),w.call(i,r)>=0&&n.push(this.tag(e)),a=this.tag(e),w.call(o,a)>=0&&n.length&&n.pop(),e-=1;return u=this.tag(e),w.call(t,u)>=0},e.prototype.addImplicitBracesAndParens=function(){var e;return e=[],this.scanTokens(function(t,r,u){var h,d,m,g,v,y,b,k,x,C,S,L,T,M,A,N,E,O,_,F,I,R,D,$,B,j,P,H;if(R=t[0],S=(L=r>0?u[r-1]:[])[0],x=(u.length-1>r?u[r+1]:[])[0],E=function(){return e[e.length-1]},O=r,m=function(e){return r-O+e},g=function(){var e,t;return null!=(e=E())&&null!=(t=e[2])?t.ours:void 0},v=function(){var e;return g()&&"("===(null!=(e=E())?e[0]:void 0)},b=function(){var e;return g()&&"{"===(null!=(e=E())?e[0]:void 0)},y=function(){var e;return g&&"CONTROL"===(null!=(e=E())?e[0]:void 0)},_=function(t){var n;return n=null!=t?t:r,e.push(["(",n,{ours:!0}]),u.splice(n,0,p("CALL_START","(")),null==t?r+=1:void 0},h=function(){return e.pop(),u.splice(r,0,p("CALL_END",")")),r+=1},F=function(n,i){var o;return null==i&&(i=!0),o=null!=n?n:r,e.push(["{",o,{sameLine:!0,startsLine:i,ours:!0}]),u.splice(o,0,p("{",p(new String("{")),t)),null==n?r+=1:void 0},d=function(n){return n=null!=n?n:r,e.pop(),u.splice(n,0,p("}","}",t)),r+=1},v()&&("IF"===R||"TRY"===R||"FINALLY"===R||"CATCH"===R||"CLASS"===R||"SWITCH"===R))return e.push(["CONTROL",r,{ours:!0}]),m(1);if("INDENT"===R&&g()){if("=>"!==S&&"->"!==S&&"["!==S&&"("!==S&&","!==S&&"{"!==S&&"TRY"!==S&&"ELSE"!==S&&"="!==S)for(;v();)h();return y()&&e.pop(),e.push([R,r]),m(1)}if(w.call(o,R)>=0)return e.push([R,r]),m(1);if(w.call(i,R)>=0){for(;g();)v()?h():b()?d():e.pop();e.pop()}if((w.call(l,R)>=0&&t.spaced&&!t.stringEnd||"?"===R&&r>0&&!u[r-1].spaced)&&(w.call(a,x)>=0||w.call(c,x)>=0&&!(null!=(D=u[r+1])?D.spaced:void 0)&&!(null!=($=u[r+1])?$.newLine:void 0)))return"?"===R&&(R=t[0]="FUNC_EXIST"),_(r+1),m(2);if(w.call(l,R)>=0&&this.matchTags(r+1,"INDENT",null,":")&&!this.findTagsBackwards(r,["CLASS","EXTENDS","IF","CATCH","SWITCH","LEADING_WHEN","FOR","WHILE","UNTIL"]))return _(r+1),e.push(["INDENT",r+2]),m(3);if(":"===R){for(T="@"===this.tag(r-2)?r-2:r-1;"HERECOMMENT"===this.tag(T-2);)T-=2;return this.insideForDeclaration="FOR"===x,I=0===T||(B=this.tag(T-1),w.call(f,B)>=0)||u[T-1].newLine,E()&&(j=E(),N=j[0],A=j[1],("{"===N||"INDENT"===N&&"{"===this.tag(A-1))&&(I||","===this.tag(T-1)||"{"===this.tag(T-1)))?m(1):(F(T,!!I),m(2))}if(b()&&w.call(f,R)>=0&&(E()[2].sameLine=!1),k="OUTDENT"===S||L.newLine,w.call(s,R)>=0||w.call(n,R)>=0&&k)for(;g();)if(P=E(),N=P[0],A=P[1],H=P[2],M=H.sameLine,I=H.startsLine,v()&&","!==S)h();else if(b()&&!this.insideForDeclaration&&M&&"TERMINATOR"!==R&&":"!==S&&d());else{if(!b()||"TERMINATOR"!==R||","===S||I&&this.looksObjectish(r+1))break;d()}if(!(","!==R||this.looksObjectish(r+1)||!b()||this.insideForDeclaration||"TERMINATOR"===x&&this.looksObjectish(r+2)))for(C="OUTDENT"===x?1:0;b();)d(r+C);return m(1)})},e.prototype.addLocationDataToGeneratedTokens=function(){return this.scanTokens(function(e,t,n){var r,i,o,a,s,l;return e[2]?1:e.generated||e.explicit?("{"===e[0]&&(o=null!=(s=n[t+1])?s[2]:void 0)?(i=o.first_line,r=o.first_column):(a=null!=(l=n[t-1])?l[2]:void 0)?(i=a.last_line,r=a.last_column):i=r=0,e[2]={first_line:i,first_column:r,last_line:i,last_column:r},1):1})},e.prototype.normalizeLines=function(){var e,t,i,o,a;return a=i=o=null,t=function(e,t){var i,o,s,l;return";"!==e[1]&&(i=e[0],w.call(h,i)>=0)&&!("TERMINATOR"===e[0]&&(o=this.tag(t+1),w.call(r,o)>=0))&&!("ELSE"===e[0]&&"THEN"!==a)&&!!("CATCH"!==(s=e[0])&&"FINALLY"!==s||"->"!==a&&"=>"!==a)||(l=e[0],w.call(n,l)>=0&&this.tokens[t-1].newLine)},e=function(e,t){return this.tokens.splice(","===this.tag(t-1)?t-1:t,0,o)},this.scanTokens(function(n,s,l){var c,u,f,h,p,m;if(u=n[0],"TERMINATOR"===u){if("ELSE"===this.tag(s+1)&&"OUTDENT"!==this.tag(s-1))return l.splice.apply(l,[s,1].concat(k.call(this.indentation()))),1;if(h=this.tag(s+1),w.call(r,h)>=0)return l.splice(s,1),0}if("CATCH"===u)for(c=f=1;2>=f;c=++f)if("OUTDENT"===(p=this.tag(s+c))||"TERMINATOR"===p||"FINALLY"===p)return l.splice.apply(l,[s+c,0].concat(k.call(this.indentation()))),2+c;return w.call(d,u)>=0&&"INDENT"!==this.tag(s+1)&&("ELSE"!==u||"IF"!==this.tag(s+1))?(a=u,m=this.indentation(l[s]),i=m[0],o=m[1],"THEN"===a&&(i.fromThen=!0),l.splice(s+1,0,i),this.detectEnd(s+2,t,e),"THEN"===u&&l.splice(s,1),1):1})},e.prototype.tagPostfixConditionals=function(){var e,t,n;return n=null,t=function(e,t){var n,r;return r=e[0],n=this.tokens[t-1][0],"TERMINATOR"===r||"INDENT"===r&&0>w.call(d,n)},e=function(e){return"INDENT"!==e[0]||e.generated&&!e.fromThen?n[0]="POST_"+n[0]:void 0},this.scanTokens(function(r,i){return"IF"!==r[0]?1:(n=r,this.detectEnd(i+1,t,e),1)})},e.prototype.indentation=function(e){var t,n;return t=["INDENT",2],n=["OUTDENT",2],e?(t.generated=n.generated=!0,t.origin=n.origin=e):t.explicit=n.explicit=!0,[t,n]},e.prototype.generate=p,e.prototype.tag=function(e){var t;return null!=(t=this.tokens[e])?t[0]:void 0},e}(),t=[["(",")"],["[","]"],["{","}"],["INDENT","OUTDENT"],["CALL_START","CALL_END"],["PARAM_START","PARAM_END"],["INDEX_START","INDEX_END"]],e.INVERSES=u={},o=[],i=[],v=0,y=t.length;y>v;v++)b=t[v],m=b[0],g=b[1],o.push(u[g]=m),i.push(u[m]=g);r=["CATCH","THEN","ELSE","FINALLY"].concat(i),l=["IDENTIFIER","SUPER",")","CALL_END","]","INDEX_END","@","THIS"],a=["IDENTIFIER","NUMBER","STRING","JS","REGEX","NEW","PARAM_START","CLASS","IF","TRY","SWITCH","THIS","BOOL","NULL","UNDEFINED","UNARY","UNARY_MATH","SUPER","THROW","@","->","=>","[","(","{","--","++"],c=["+","-"],s=["POST_IF","FOR","WHILE","UNTIL","WHEN","BY","LOOP","TERMINATOR"],d=["ELSE","->","=>","TRY","FINALLY","THEN"],h=["TERMINATOR","CATCH","FINALLY","ELSE","OUTDENT","LEADING_WHEN"],f=["TERMINATOR","INDENT","OUTDENT"],n=[".","?.","::","?::"]}.call(this),t.exports}(),require["./lexer"]=function(){var e={},t={exports:e};return function(){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w,k,x,C,S,L,T,M,A,N,E,O,_,F,I,R,D,$,B,j,P,H,W,q,z,U,V,K,G,J,X,Y,Q,Z,et,tt,nt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};et=require("./rewriter"),$=et.Rewriter,b=et.INVERSES,tt=require("./helpers"),V=tt.count,Q=tt.starts,U=tt.compact,J=tt.last,Y=tt.repeat,K=tt.invertLiterate,X=tt.locationDataToString,Z=tt.throwSyntaxError,e.Lexer=T=function(){function e(){}return e.prototype.tokenize=function(e,t){var n,r,i,o;for(null==t&&(t={}),this.literate=t.literate,this.indent=0,this.baseIndent=0,this.indebt=0,this.outdebt=0,this.indents=[],this.ends=[],this.tokens=[],this.chunkLine=t.line||0,this.chunkColumn=t.column||0,e=this.clean(e),r=0;this.chunk=e.slice(r);)n=this.identifierToken()||this.commentToken()||this.whitespaceToken()||this.lineToken()||this.heredocToken()||this.stringToken()||this.numberToken()||this.regexToken()||this.jsToken()||this.literalToken(),o=this.getLineAndColumnFromChunk(n),this.chunkLine=o[0],this.chunkColumn=o[1],r+=n;return this.closeIndentation(),(i=this.ends.pop())&&this.error("missing "+i),t.rewrite===!1?this.tokens:(new $).rewrite(this.tokens)},e.prototype.clean=function(e){return e.charCodeAt(0)===t&&(e=e.slice(1)),e=e.replace(/\r/g,"").replace(H,""),z.test(e)&&(e="\n"+e,this.chunkLine--),this.literate&&(e=K(e)),e},e.prototype.identifierToken=function(){var e,t,n,r,i,l,c,u,f,h,d,p,m,v;return(c=g.exec(this.chunk))?(l=c[0],r=c[1],e=c[2],i=r.length,u=void 0,"own"===r&&"FOR"===this.tag()?(this.token("OWN",r),r.length):(n=e||(f=J(this.tokens))&&("."===(p=f[0])||"?."===p||"::"===p||"?::"===p||!f.spaced&&"@"===f[0]),h="IDENTIFIER",!n&&(nt.call(x,r)>=0||nt.call(s,r)>=0)&&(h=r.toUpperCase(),"WHEN"===h&&(m=this.tag(),nt.call(C,m)>=0)?h="LEADING_WHEN":"FOR"===h?this.seenFor=!0:"UNLESS"===h?h="IF":nt.call(W,h)>=0?h="UNARY":nt.call(R,h)>=0&&("INSTANCEOF"!==h&&this.seenFor?(h="FOR"+h,this.seenFor=!1):(h="RELATION","!"===this.value()&&(u=this.tokens.pop(),r="!"+r)))),nt.call(k,r)>=0&&(n?(h="IDENTIFIER",r=new String(r),r.reserved=!0):nt.call(D,r)>=0&&this.error('reserved word "'+r+'"')),n||(nt.call(o,r)>=0&&(r=a[r]),h=function(){switch(r){case"!":return"UNARY";case"==":case"!=":return"COMPARE";case"&&":case"||":return"LOGIC";case"true":case"false":return"BOOL";case"break":case"continue":return"STATEMENT";default:return h}}()),d=this.token(h,r,0,i),u&&(v=[u[2].first_line,u[2].first_column],d[2].first_line=v[0],d[2].first_column=v[1]),e&&(t=l.lastIndexOf(":"),this.token(":",":",t,e.length)),l.length)):0},e.prototype.numberToken=function(){var e,t,n,r,i;return(n=_.exec(this.chunk))?(r=n[0],/^0[BOX]/.test(r)?this.error("radix prefix '"+r+"' must be lowercase"):/E/.test(r)&&!/^0x/.test(r)?this.error("exponential notation '"+r+"' must be indicated with a lowercase 'e'"):/^0\d*[89]/.test(r)?this.error("decimal literal '"+r+"' must not be prefixed with '0'"):/^0\d+/.test(r)&&this.error("octal literal '"+r+"' must be prefixed with '0o'"),t=r.length,(i=/^0o([0-7]+)/.exec(r))&&(r="0x"+parseInt(i[1],8).toString(16)),(e=/^0b([01]+)/.exec(r))&&(r="0x"+parseInt(e[1],2).toString(16)),this.token("NUMBER",r,0,t),t):0},e.prototype.stringToken=function(){var e,t,n,r,i,o,a,s;switch(o=this.chunk.charAt(0)){case"'":a=(j.exec(this.chunk)||[])[0];break;case'"':a=this.balancedString(this.chunk,'"')}if(!a)return 0;if(e=a.slice(1,-1),s=this.removeNewlines(e),'"'===o&&a.indexOf("#{",1)>0){for(n=i=0,t=e.length;"\n"===e.charAt(i++)&&t>i;)n++;this.interpolateString(s,{strOffset:1+n,lexedLength:a.length})}else this.token("STRING",o+this.escapeLines(s)+o,0,a.length);return(r=/^(?:\\.|[^\\])*\\(?:0[0-7]|[1-7])/.test(a))&&this.error("octal escape sequences "+a+" are not allowed"),a.length},e.prototype.heredocToken=function(){var e,t,n,r,i;return(n=f.exec(this.chunk))?(t=n[0],r=t.charAt(0),e=this.sanitizeHeredoc(n[2],{quote:r,indent:null}),'"'===r&&e.indexOf("#{")>=0?(i="\n"===n[2].charAt(0)?4:3,this.interpolateString(e,{heredoc:!0,strOffset:i,lexedLength:t.length})):this.token("STRING",this.makeString(e,r,!0),0,t.length),t.length):0},e.prototype.commentToken=function(){var e,t,n;return(n=this.chunk.match(l))?(e=n[0],t=n[1],t&&this.token("HERECOMMENT",this.sanitizeHeredoc(t,{herecomment:!0,indent:Y(" ",this.indent)}),0,e.length),e.length):0},e.prototype.jsToken=function(){var e,t;return"`"===this.chunk.charAt(0)&&(e=w.exec(this.chunk))?(this.token("JS",(t=e[0]).slice(1,-1),0,t.length),t.length):0},e.prototype.regexToken=function(){var e,t,n,r,i,o,a;return"/"!==this.chunk.charAt(0)?0:(t=this.heregexToken())?t:(r=J(this.tokens),r&&(o=r[0],nt.call(r.spaced?E:O,o)>=0)?0:(n=I.exec(this.chunk))?(a=n,n=a[0],i=a[1],e=a[2],"//"===i?0:("/*"===i.slice(0,2)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX",""+i+e,0,n.length),n.length)):0)},e.prototype.heregexToken=function(){var e,t,n,r,i,o,a,s,l,c,u,f,h,d,g,v,y;if(!(i=p.exec(this.chunk)))return 0;if(r=i[0],e=i[1],t=i[2],0>e.indexOf("#{"))return s=this.escapeLines(e.replace(m,"$1$2").replace(/\//g,"\\/"),!0),s.match(/^\*/)&&this.error("regular expressions cannot begin with `*`"),this.token("REGEX","/"+(s||"(?:)")+"/"+t,0,r.length),r.length;for(this.token("IDENTIFIER","RegExp",0,0),this.token("CALL_START","(",0,0),u=[],g=this.interpolateString(e,{regex:!0,strOffset:3}),h=0,d=g.length;d>h;h++){if(c=g[h],l=c[0],f=c[1],"TOKENS"===l)u.push.apply(u,f);else if("NEOSTRING"===l){if(!(f=f.replace(m,"$1$2")))continue;f=f.replace(/\\/g,"\\\\"),c[0]="STRING",c[1]=this.makeString(f,'"',!0),u.push(c)}else this.error("Unexpected "+l);a=J(this.tokens),o=["+","+"],o[2]=a[2],u.push(o)}return u.pop(),"STRING"!==(null!=(v=u[0])?v[0]:void 0)&&(this.token("STRING",'""',0,0),this.token("+","+",0,0)),(y=this.tokens).push.apply(y,u),t&&(n=r.lastIndexOf(t),this.token(",",",",n,0),this.token("STRING",'"'+t+'"',n,t.length)),this.token(")",")",r.length-1,0),r.length},e.prototype.lineToken=function(){var e,t,n,r,i;if(!(n=N.exec(this.chunk)))return 0;if(t=n[0],this.seenFor=!1,i=t.length-1-t.lastIndexOf("\n"),r=this.unfinished(),i-this.indebt===this.indent)return r?this.suppressNewlines():this.newlineToken(0),t.length;if(i>this.indent){if(r)return this.indebt=i-this.indent,this.suppressNewlines(),t.length;if(!this.tokens.length)return this.baseIndent=this.indent=i,t.length;e=i-this.indent+this.outdebt,this.token("INDENT",e,t.length-i,i),this.indents.push(e),this.ends.push("OUTDENT"),this.outdebt=this.indebt=0,this.indent=i}else this.baseIndent>i?this.error("missing indentation",t.length):(this.indebt=0,this.outdentToken(this.indent-i,r,t.length));return t.length},e.prototype.outdentToken=function(e,t,n){var r,i,o,a;for(r=this.indent-e;e>0;)o=this.indents[this.indents.length-1],o?o===this.outdebt?(e-=this.outdebt,this.outdebt=0):this.outdebt>o?(this.outdebt-=o,e-=o):(i=this.indents.pop()+this.outdebt,n&&(a=this.chunk[n],nt.call(v,a)>=0)&&(r-=i-e,e=i),this.outdebt=0,this.pair("OUTDENT"),this.token("OUTDENT",e,0,n),e-=i):e=0;for(i&&(this.outdebt-=e);";"===this.value();)this.tokens.pop();return"TERMINATOR"===this.tag()||t||this.token("TERMINATOR","\n",n,0),this.indent=r,this},e.prototype.whitespaceToken=function(){var e,t,n;return(e=z.exec(this.chunk))||(t="\n"===this.chunk.charAt(0))?(n=J(this.tokens),n&&(n[e?"spaced":"newLine"]=!0),e?e[0].length:0):0},e.prototype.newlineToken=function(e){for(;";"===this.value();)this.tokens.pop();return"TERMINATOR"!==this.tag()&&this.token("TERMINATOR","\n",e,0),this},e.prototype.suppressNewlines=function(){return"\\"===this.value()&&this.tokens.pop(),this},e.prototype.literalToken=function(){var e,t,n,o,a,s,l,f;if((e=F.exec(this.chunk))?(o=e[0],i.test(o)&&this.tagParameters()):o=this.chunk.charAt(0),n=o,t=J(this.tokens),"="===o&&t&&(!t[1].reserved&&(a=t[1],nt.call(k,a)>=0)&&this.error('reserved word "'+this.value()+"\" can't be assigned"),"||"===(s=t[1])||"&&"===s))return t[0]="COMPOUND_ASSIGN",t[1]+="=",o.length;if(";"===o)this.seenFor=!1,n="TERMINATOR";else if(nt.call(M,o)>=0)n="MATH";else if(nt.call(c,o)>=0)n="COMPARE";else if(nt.call(u,o)>=0)n="COMPOUND_ASSIGN";else if(nt.call(W,o)>=0)n="UNARY";else if(nt.call(q,o)>=0)n="UNARY_MATH";else if(nt.call(B,o)>=0)n="SHIFT";else if(nt.call(L,o)>=0||"?"===o&&(null!=t?t.spaced:void 0))n="LOGIC";else if(t&&!t.spaced)if("("===o&&(l=t[0],nt.call(r,l)>=0))"?"===t[0]&&(t[0]="FUNC_EXIST"),n="CALL_START";else if("["===o&&(f=t[0],nt.call(y,f)>=0))switch(n="INDEX_START",t[0]){case"?":t[0]="INDEX_SOAK"}switch(o){case"(":case"{":case"[":this.ends.push(b[o]);break;case")":case"}":case"]":this.pair(o)}return this.token(n,o),o.length},e.prototype.sanitizeHeredoc=function(e,t){var n,r,i,o,a;if(i=t.indent,r=t.herecomment){if(h.test(e)&&this.error('block comment cannot contain "*/", starting'),0>e.indexOf("\n"))return e}else for(;o=d.exec(e);)n=o[1],(null===i||(a=n.length)>0&&i.length>a)&&(i=n);return i&&(e=e.replace(RegExp("\\n"+i,"g"),"\n")),r||(e=e.replace(/^\n/,"")),e},e.prototype.tagParameters=function(){var e,t,n,r;if(")"!==this.tag())return this;for(t=[],r=this.tokens,e=r.length,r[--e][0]="PARAM_END";n=r[--e];)switch(n[0]){case")":t.push(n);break;case"(":case"CALL_START":if(!t.length)return"("===n[0]?(n[0]="PARAM_START",this):this;t.pop()}return this},e.prototype.closeIndentation=function(){return this.outdentToken(this.indent)},e.prototype.balancedString=function(e,t){var n,r,i,o,a,s,l,c;for(n=0,s=[t],r=l=1,c=e.length;c>=1?c>l:l>c;r=c>=1?++l:--l)if(n)--n;else{switch(i=e.charAt(r)){case"\\":++n;continue;case t:if(s.pop(),!s.length)return e.slice(0,+r+1||9e9);t=s[s.length-1];continue}"}"!==t||'"'!==i&&"'"!==i?"}"===t&&"/"===i&&(o=p.exec(e.slice(r))||I.exec(e.slice(r)))?n+=o[0].length-1:"}"===t&&"{"===i?s.push(t="}"):'"'===t&&"#"===a&&"{"===i&&s.push(t="}"):s.push(t=i),a=i}return this.error("missing "+s.pop()+", starting")},e.prototype.interpolateString=function(t,n){var r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w,k,x,C,S,L,T,M,A,N,E,O;for(null==n&&(n={}),a=n.heredoc,w=n.regex,g=n.offsetInChunk,x=n.strOffset,h=n.lexedLength,g||(g=0),x||(x=0),h||(h=t.length),L=[],v=0,s=-1;f=t.charAt(s+=1);)"\\"!==f?"#"===f&&"{"===t.charAt(s+1)&&(o=this.balancedString(t.slice(s+1),"}"))&&(s>v&&L.push(this.makeToken("NEOSTRING",t.slice(v,s),x+v)),i||(i=this.makeToken("","string interpolation",g+s+1,2)),l=o.slice(1,-1),l.length&&(N=this.getLineAndColumnFromChunk(x+s+2),d=N[0],r=N[1],m=(new e).tokenize(l,{line:d,column:r,rewrite:!1}),b=m.pop(),"TERMINATOR"===(null!=(E=m[0])?E[0]:void 0)&&(b=m.shift()),(u=m.length)&&(u>1&&(m.unshift(this.makeToken("(","(",x+s+1,0)),m.push(this.makeToken(")",")",x+s+1+l.length,0))),L.push(["TOKENS",m]))),s+=o.length,v=s+1):s+=1;if(s>v&&t.length>v&&L.push(this.makeToken("NEOSTRING",t.slice(v),x+v)),w)return L;if(!L.length)return this.token("STRING",'""',g,h);for("NEOSTRING"!==L[0][0]&&L.unshift(this.makeToken("NEOSTRING","",g)),(c=L.length>1)&&this.token("(","(",g,0,i),s=M=0,A=L.length;A>M;s=++M)S=L[s],C=S[0],T=S[1],s&&(s&&(y=this.token("+","+")),p="TOKENS"===C?T[0]:S,y[2]={first_line:p[2].first_line,first_column:p[2].first_column,last_line:p[2].first_line,last_column:p[2].first_column}),"TOKENS"===C?(O=this.tokens).push.apply(O,T):"NEOSTRING"===C?(S[0]="STRING",S[1]=this.makeString(T,'"',a),this.tokens.push(S)):this.error("Unexpected "+C);return c&&(k=this.makeToken(")",")",g+h,0),k.stringEnd=!0,this.tokens.push(k)),L},e.prototype.pair=function(e){var t;return e!==(t=J(this.ends))?("OUTDENT"!==t&&this.error("unmatched "+e),this.outdentToken(J(this.indents),!0),this.pair(e)):this.ends.pop()},e.prototype.getLineAndColumnFromChunk=function(e){var t,n,r,i;return 0===e?[this.chunkLine,this.chunkColumn]:(i=e>=this.chunk.length?this.chunk:this.chunk.slice(0,+(e-1)+1||9e9),n=V(i,"\n"),t=this.chunkColumn,n>0?(r=i.split("\n"),t=J(r).length):t+=i.length,[this.chunkLine+n,t])},e.prototype.makeToken=function(e,t,n,r){var i,o,a,s,l;return null==n&&(n=0),null==r&&(r=t.length),o={},s=this.getLineAndColumnFromChunk(n),o.first_line=s[0],o.first_column=s[1],i=Math.max(0,r-1),l=this.getLineAndColumnFromChunk(n+i),o.last_line=l[0],o.last_column=l[1],a=[e,t,o]},e.prototype.token=function(e,t,n,r,i){var o;return o=this.makeToken(e,t,n,r),i&&(o.origin=i),this.tokens.push(o),o},e.prototype.tag=function(e,t){var n;return(n=J(this.tokens,e))&&(t?n[0]=t:n[0])},e.prototype.value=function(e,t){var n;return(n=J(this.tokens,e))&&(t?n[1]=t:n[1])},e.prototype.unfinished=function(){var e;return S.test(this.chunk)||"\\"===(e=this.tag())||"."===e||"?."===e||"?::"===e||"UNARY"===e||"MATH"===e||"UNARY_MATH"===e||"+"===e||"-"===e||"**"===e||"SHIFT"===e||"RELATION"===e||"COMPARE"===e||"LOGIC"===e||"THROW"===e||"EXTENDS"===e},e.prototype.removeNewlines=function(e){return e.replace(/^\s*\n\s*/,"").replace(/([^\\]|\\\\)\s*\n\s*$/,"$1")},e.prototype.escapeLines=function(e,t){return e=e.replace(/\\[^\S\n]*(\n|\\)\s*/g,function(e,t){return"\n"===t?"":e}),t?e.replace(A,"\\n"):e.replace(/\s*\n\s*/g," ")},e.prototype.makeString=function(e,t,n){return e?(e=e.replace(RegExp("\\\\("+t+"|\\\\)","g"),function(e,n){return n===t?n:e}),e=e.replace(RegExp(""+t,"g"),"\\$&"),t+this.escapeLines(e,n)+t):t+t},e.prototype.error=function(e,t){var n,r,i;return null==t&&(t=0),i=this.getLineAndColumnFromChunk(t),r=i[0],n=i[1],Z(e,{first_line:r,first_column:n})},e}(),x=["true","false","null","this","new","delete","typeof","in","instanceof","return","throw","break","continue","debugger","if","else","switch","for","while","do","try","catch","finally","class","extends","super"],s=["undefined","then","unless","until","loop","of","by","when"],a={and:"&&",or:"||",is:"==",isnt:"!=",not:"!",yes:"true",no:"false",on:"true",off:"false"},o=function(){var e;e=[];for(G in a)e.push(G);return e}(),s=s.concat(o),D=["case","default","function","var","void","with","const","let","enum","export","import","native","__hasProp","__extends","__slice","__bind","__indexOf","implements","interface","package","private","protected","public","static","yield"],P=["arguments","eval"],k=x.concat(D).concat(P),e.RESERVED=D.concat(x).concat(s).concat(P),e.STRICT_PROSCRIBED=P,t=65279,g=/^([$A-Za-z_\x7f-\uffff][$\w\x7f-\uffff]*)([^\n\S]*:(?!:))?/,_=/^0b[01]+|^0o[0-7]+|^0x[\da-f]+|^\d*\.?\d+(?:e[+-]?\d+)?/i,f=/^("""|''')((?:\\[\s\S]|[^\\])*?)(?:\n[^\n\S]*)?\1/,F=/^(?:[-=]>|[-+*\/%<>&|^!?=]=|>>>=?|([-+:])\1|([&|<>*\/%])\2=?|\?(\.|::)|\.{2,3})/,z=/^[^\n\S]+/,l=/^###([^#][\s\S]*?)(?:###[^\n\S]*|###$)|^(?:\s*#(?!##[^#]).*)+/,i=/^[-=]>/,N=/^(?:\n[^\n\S]*)+/,j=/^'[^\\']*(?:\\[\s\S][^\\']*)*'/,w=/^`[^\\`]*(?:\\.[^\\`]*)*`/,I=/^(\/(?![\s=])[^[\/\n\\]*(?:(?:\\[\s\S]|\[[^\]\n\\]*(?:\\[\s\S][^\]\n\\]*)*])[^[\/\n\\]*)*\/)([imgy]{0,4})(?!\w)/,p=/^\/{3}((?:\\?[\s\S])+?)\/{3}([imgy]{0,4})(?!\w)/,m=/((?:\\\\)+)|\\(\s|\/)|\s+(?:#.*)?/g,A=/\n/g,d=/\n+([^\n\S]*)/g,h=/\*\//,S=/^\s*(?:,|\??\.(?![.\d])|::)/,H=/\s+$/,u=["-=","+=","/=","*=","%=","||=","&&=","?=","<<=",">>=",">>>=","&=","^=","|=","**=","//=","%%="],W=["NEW","TYPEOF","DELETE","DO"],q=["!","~"],L=["&&","||","&","|","^"],B=["<<",">>",">>>"],c=["==","!=","<",">","<=",">="],M=["*","/","%","//","%%"],R=["IN","OF","INSTANCEOF"],n=["TRUE","FALSE"],E=["NUMBER","REGEX","BOOL","NULL","UNDEFINED","++","--"],O=E.concat(")","}","THIS","IDENTIFIER","STRING","]"),r=["IDENTIFIER","STRING","REGEX",")","]","}","?","::","@","THIS","SUPER"],y=r.concat("NUMBER","BOOL","NULL","UNDEFINED"),C=["INDENT","OUTDENT","TERMINATOR"],v=[")","}","]"]}.call(this),t.exports}(),require["./parser"]=function(){var e={},t={exports:e},n=function(){function e(){this.yy={}}var t={trace:function(){},yy:{},symbols_:{error:2,Root:3,Body:4,Line:5,TERMINATOR:6,Expression:7,Statement:8,Return:9,Comment:10,STATEMENT:11,Value:12,Invocation:13,Code:14,Operation:15,Assign:16,If:17,Try:18,While:19,For:20,Switch:21,Class:22,Throw:23,Block:24,INDENT:25,OUTDENT:26,Identifier:27,IDENTIFIER:28,AlphaNumeric:29,NUMBER:30,STRING:31,Literal:32,JS:33,REGEX:34,DEBUGGER:35,UNDEFINED:36,NULL:37,BOOL:38,Assignable:39,"=":40,AssignObj:41,ObjAssignable:42,":":43,ThisProperty:44,RETURN:45,HERECOMMENT:46,PARAM_START:47,ParamList:48,PARAM_END:49,FuncGlyph:50,"->":51,"=>":52,OptComma:53,",":54,Param:55,ParamVar:56,"...":57,Array:58,Object:59,Splat:60,SimpleAssignable:61,Accessor:62,Parenthetical:63,Range:64,This:65,".":66,"?.":67,"::":68,"?::":69,Index:70,INDEX_START:71,IndexValue:72,INDEX_END:73,INDEX_SOAK:74,Slice:75,"{":76,AssignList:77,"}":78,CLASS:79,EXTENDS:80,OptFuncExist:81,Arguments:82,SUPER:83,FUNC_EXIST:84,CALL_START:85,CALL_END:86,ArgList:87,THIS:88,"@":89,"[":90,"]":91,RangeDots:92,"..":93,Arg:94,SimpleArgs:95,TRY:96,Catch:97,FINALLY:98,CATCH:99,THROW:100,"(":101,")":102,WhileSource:103,WHILE:104,WHEN:105,UNTIL:106,Loop:107,LOOP:108,ForBody:109,FOR:110,ForStart:111,ForSource:112,ForVariables:113,OWN:114,ForValue:115,FORIN:116,FOROF:117,BY:118,SWITCH:119,Whens:120,ELSE:121,When:122,LEADING_WHEN:123,IfBlock:124,IF:125,POST_IF:126,UNARY:127,UNARY_MATH:128,"-":129,"+":130,"--":131,"++":132,"?":133,MATH:134,"**":135,SHIFT:136,COMPARE:137,LOGIC:138,RELATION:139,COMPOUND_ASSIGN:140,$accept:0,$end:1},terminals_:{2:"error",6:"TERMINATOR",11:"STATEMENT",25:"INDENT",26:"OUTDENT",28:"IDENTIFIER",30:"NUMBER",31:"STRING",33:"JS",34:"REGEX",35:"DEBUGGER",36:"UNDEFINED",37:"NULL",38:"BOOL",40:"=",43:":",45:"RETURN",46:"HERECOMMENT",47:"PARAM_START",49:"PARAM_END",51:"->",52:"=>",54:",",57:"...",66:".",67:"?.",68:"::",69:"?::",71:"INDEX_START",73:"INDEX_END",74:"INDEX_SOAK",76:"{",78:"}",79:"CLASS",80:"EXTENDS",83:"SUPER",84:"FUNC_EXIST",85:"CALL_START",86:"CALL_END",88:"THIS",89:"@",90:"[",91:"]",93:"..",96:"TRY",98:"FINALLY",99:"CATCH",100:"THROW",101:"(",102:")",104:"WHILE",105:"WHEN",106:"UNTIL",108:"LOOP",110:"FOR",114:"OWN",116:"FORIN",117:"FOROF",118:"BY",119:"SWITCH",121:"ELSE",123:"LEADING_WHEN",125:"IF",126:"POST_IF",127:"UNARY",128:"UNARY_MATH",129:"-",130:"+",131:"--",132:"++",133:"?",134:"MATH",135:"**",136:"SHIFT",137:"COMPARE",138:"LOGIC",139:"RELATION",140:"COMPOUND_ASSIGN"},productions_:[0,[3,0],[3,1],[4,1],[4,3],[4,2],[5,1],[5,1],[8,1],[8,1],[8,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[24,2],[24,3],[27,1],[29,1],[29,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[32,1],[16,3],[16,4],[16,5],[41,1],[41,3],[41,5],[41,1],[42,1],[42,1],[42,1],[9,2],[9,1],[10,1],[14,5],[14,2],[50,1],[50,1],[53,0],[53,1],[48,0],[48,1],[48,3],[48,4],[48,6],[55,1],[55,2],[55,3],[55,1],[56,1],[56,1],[56,1],[56,1],[60,2],[61,1],[61,2],[61,2],[61,1],[39,1],[39,1],[39,1],[12,1],[12,1],[12,1],[12,1],[12,1],[62,2],[62,2],[62,2],[62,2],[62,1],[62,1],[70,3],[70,2],[72,1],[72,1],[59,4],[77,0],[77,1],[77,3],[77,4],[77,6],[22,1],[22,2],[22,3],[22,4],[22,2],[22,3],[22,4],[22,5],[13,3],[13,3],[13,1],[13,2],[81,0],[81,1],[82,2],[82,4],[65,1],[65,1],[44,2],[58,2],[58,4],[92,1],[92,1],[64,5],[75,3],[75,2],[75,2],[75,1],[87,1],[87,3],[87,4],[87,4],[87,6],[94,1],[94,1],[94,1],[95,1],[95,3],[18,2],[18,3],[18,4],[18,5],[97,3],[97,3],[97,2],[23,2],[63,3],[63,5],[103,2],[103,4],[103,2],[103,4],[19,2],[19,2],[19,2],[19,1],[107,2],[107,2],[20,2],[20,2],[20,2],[109,2],[109,2],[111,2],[111,3],[115,1],[115,1],[115,1],[115,1],[113,1],[113,3],[112,2],[112,2],[112,4],[112,4],[112,4],[112,6],[112,6],[21,5],[21,7],[21,4],[21,6],[120,1],[120,2],[122,3],[122,4],[124,3],[124,5],[17,1],[17,3],[17,3],[17,3],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,2],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,3],[15,5],[15,4],[15,3]],performAction:function(e,t,n,r,i,o,a){var s=o.length-1;
switch(i){case 1:return this.$=r.addLocationDataFn(a[s],a[s])(new r.Block);case 2:return this.$=o[s];case 3:this.$=r.addLocationDataFn(a[s],a[s])(r.Block.wrap([o[s]]));break;case 4:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-2].push(o[s]));break;case 5:this.$=o[s-1];break;case 6:this.$=o[s];break;case 7:this.$=o[s];break;case 8:this.$=o[s];break;case 9:this.$=o[s];break;case 10:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 11:this.$=o[s];break;case 12:this.$=o[s];break;case 13:this.$=o[s];break;case 14:this.$=o[s];break;case 15:this.$=o[s];break;case 16:this.$=o[s];break;case 17:this.$=o[s];break;case 18:this.$=o[s];break;case 19:this.$=o[s];break;case 20:this.$=o[s];break;case 21:this.$=o[s];break;case 22:this.$=o[s];break;case 23:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Block);break;case 24:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-1]);break;case 25:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 26:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 27:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 28:this.$=o[s];break;case 29:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 30:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 31:this.$=r.addLocationDataFn(a[s],a[s])(new r.Literal(o[s]));break;case 32:this.$=r.addLocationDataFn(a[s],a[s])(new r.Undefined);break;case 33:this.$=r.addLocationDataFn(a[s],a[s])(new r.Null);break;case 34:this.$=r.addLocationDataFn(a[s],a[s])(new r.Bool(o[s]));break;case 35:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Assign(o[s-2],o[s]));break;case 36:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Assign(o[s-3],o[s]));break;case 37:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Assign(o[s-4],o[s-1]));break;case 38:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 39:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Assign(r.addLocationDataFn(a[s-2])(new r.Value(o[s-2])),o[s],"object"));break;case 40:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Assign(r.addLocationDataFn(a[s-4])(new r.Value(o[s-4])),o[s-1],"object"));break;case 41:this.$=o[s];break;case 42:this.$=o[s];break;case 43:this.$=o[s];break;case 44:this.$=o[s];break;case 45:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Return(o[s]));break;case 46:this.$=r.addLocationDataFn(a[s],a[s])(new r.Return);break;case 47:this.$=r.addLocationDataFn(a[s],a[s])(new r.Comment(o[s]));break;case 48:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Code(o[s-3],o[s],o[s-1]));break;case 49:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Code([],o[s],o[s-1]));break;case 50:this.$=r.addLocationDataFn(a[s],a[s])("func");break;case 51:this.$=r.addLocationDataFn(a[s],a[s])("boundfunc");break;case 52:this.$=o[s];break;case 53:this.$=o[s];break;case 54:this.$=r.addLocationDataFn(a[s],a[s])([]);break;case 55:this.$=r.addLocationDataFn(a[s],a[s])([o[s]]);break;case 56:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-2].concat(o[s]));break;case 57:this.$=r.addLocationDataFn(a[s-3],a[s])(o[s-3].concat(o[s]));break;case 58:this.$=r.addLocationDataFn(a[s-5],a[s])(o[s-5].concat(o[s-2]));break;case 59:this.$=r.addLocationDataFn(a[s],a[s])(new r.Param(o[s]));break;case 60:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Param(o[s-1],null,!0));break;case 61:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Param(o[s-2],o[s]));break;case 62:this.$=r.addLocationDataFn(a[s],a[s])(new r.Expansion);break;case 63:this.$=o[s];break;case 64:this.$=o[s];break;case 65:this.$=o[s];break;case 66:this.$=o[s];break;case 67:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Splat(o[s-1]));break;case 68:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 69:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s-1].add(o[s]));break;case 70:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Value(o[s-1],[].concat(o[s])));break;case 71:this.$=o[s];break;case 72:this.$=o[s];break;case 73:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 74:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 75:this.$=o[s];break;case 76:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 77:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 78:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 79:this.$=o[s];break;case 80:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Access(o[s]));break;case 81:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Access(o[s],"soak"));break;case 82:this.$=r.addLocationDataFn(a[s-1],a[s])([r.addLocationDataFn(a[s-1])(new r.Access(new r.Literal("prototype"))),r.addLocationDataFn(a[s])(new r.Access(o[s]))]);break;case 83:this.$=r.addLocationDataFn(a[s-1],a[s])([r.addLocationDataFn(a[s-1])(new r.Access(new r.Literal("prototype"),"soak")),r.addLocationDataFn(a[s])(new r.Access(o[s]))]);break;case 84:this.$=r.addLocationDataFn(a[s],a[s])(new r.Access(new r.Literal("prototype")));break;case 85:this.$=o[s];break;case 86:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-1]);break;case 87:this.$=r.addLocationDataFn(a[s-1],a[s])(r.extend(o[s],{soak:!0}));break;case 88:this.$=r.addLocationDataFn(a[s],a[s])(new r.Index(o[s]));break;case 89:this.$=r.addLocationDataFn(a[s],a[s])(new r.Slice(o[s]));break;case 90:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Obj(o[s-2],o[s-3].generated));break;case 91:this.$=r.addLocationDataFn(a[s],a[s])([]);break;case 92:this.$=r.addLocationDataFn(a[s],a[s])([o[s]]);break;case 93:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-2].concat(o[s]));break;case 94:this.$=r.addLocationDataFn(a[s-3],a[s])(o[s-3].concat(o[s]));break;case 95:this.$=r.addLocationDataFn(a[s-5],a[s])(o[s-5].concat(o[s-2]));break;case 96:this.$=r.addLocationDataFn(a[s],a[s])(new r.Class);break;case 97:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Class(null,null,o[s]));break;case 98:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Class(null,o[s]));break;case 99:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Class(null,o[s-1],o[s]));break;case 100:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Class(o[s]));break;case 101:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Class(o[s-1],null,o[s]));break;case 102:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Class(o[s-2],o[s]));break;case 103:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Class(o[s-3],o[s-1],o[s]));break;case 104:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Call(o[s-2],o[s],o[s-1]));break;case 105:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Call(o[s-2],o[s],o[s-1]));break;case 106:this.$=r.addLocationDataFn(a[s],a[s])(new r.Call("super",[new r.Splat(new r.Literal("arguments"))]));break;case 107:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Call("super",o[s]));break;case 108:this.$=r.addLocationDataFn(a[s],a[s])(!1);break;case 109:this.$=r.addLocationDataFn(a[s],a[s])(!0);break;case 110:this.$=r.addLocationDataFn(a[s-1],a[s])([]);break;case 111:this.$=r.addLocationDataFn(a[s-3],a[s])(o[s-2]);break;case 112:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(new r.Literal("this")));break;case 113:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(new r.Literal("this")));break;case 114:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Value(r.addLocationDataFn(a[s-1])(new r.Literal("this")),[r.addLocationDataFn(a[s])(new r.Access(o[s]))],"this"));break;case 115:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Arr([]));break;case 116:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Arr(o[s-2]));break;case 117:this.$=r.addLocationDataFn(a[s],a[s])("inclusive");break;case 118:this.$=r.addLocationDataFn(a[s],a[s])("exclusive");break;case 119:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Range(o[s-3],o[s-1],o[s-2]));break;case 120:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Range(o[s-2],o[s],o[s-1]));break;case 121:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Range(o[s-1],null,o[s]));break;case 122:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Range(null,o[s],o[s-1]));break;case 123:this.$=r.addLocationDataFn(a[s],a[s])(new r.Range(null,null,o[s]));break;case 124:this.$=r.addLocationDataFn(a[s],a[s])([o[s]]);break;case 125:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-2].concat(o[s]));break;case 126:this.$=r.addLocationDataFn(a[s-3],a[s])(o[s-3].concat(o[s]));break;case 127:this.$=r.addLocationDataFn(a[s-3],a[s])(o[s-2]);break;case 128:this.$=r.addLocationDataFn(a[s-5],a[s])(o[s-5].concat(o[s-2]));break;case 129:this.$=o[s];break;case 130:this.$=o[s];break;case 131:this.$=r.addLocationDataFn(a[s],a[s])(new r.Expansion);break;case 132:this.$=o[s];break;case 133:this.$=r.addLocationDataFn(a[s-2],a[s])([].concat(o[s-2],o[s]));break;case 134:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Try(o[s]));break;case 135:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Try(o[s-1],o[s][0],o[s][1]));break;case 136:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Try(o[s-2],null,null,o[s]));break;case 137:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Try(o[s-3],o[s-2][0],o[s-2][1],o[s]));break;case 138:this.$=r.addLocationDataFn(a[s-2],a[s])([o[s-1],o[s]]);break;case 139:this.$=r.addLocationDataFn(a[s-2],a[s])([r.addLocationDataFn(a[s-1])(new r.Value(o[s-1])),o[s]]);break;case 140:this.$=r.addLocationDataFn(a[s-1],a[s])([null,o[s]]);break;case 141:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Throw(o[s]));break;case 142:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Parens(o[s-1]));break;case 143:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Parens(o[s-2]));break;case 144:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.While(o[s]));break;case 145:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.While(o[s-2],{guard:o[s]}));break;case 146:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.While(o[s],{invert:!0}));break;case 147:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.While(o[s-2],{invert:!0,guard:o[s]}));break;case 148:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s-1].addBody(o[s]));break;case 149:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s].addBody(r.addLocationDataFn(a[s-1])(r.Block.wrap([o[s-1]]))));break;case 150:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s].addBody(r.addLocationDataFn(a[s-1])(r.Block.wrap([o[s-1]]))));break;case 151:this.$=r.addLocationDataFn(a[s],a[s])(o[s]);break;case 152:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.While(r.addLocationDataFn(a[s-1])(new r.Literal("true"))).addBody(o[s]));break;case 153:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.While(r.addLocationDataFn(a[s-1])(new r.Literal("true"))).addBody(r.addLocationDataFn(a[s])(r.Block.wrap([o[s]]))));break;case 154:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.For(o[s-1],o[s]));break;case 155:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.For(o[s-1],o[s]));break;case 156:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.For(o[s],o[s-1]));break;case 157:this.$=r.addLocationDataFn(a[s-1],a[s])({source:r.addLocationDataFn(a[s])(new r.Value(o[s]))});break;case 158:this.$=r.addLocationDataFn(a[s-1],a[s])(function(){return o[s].own=o[s-1].own,o[s].name=o[s-1][0],o[s].index=o[s-1][1],o[s]}());break;case 159:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s]);break;case 160:this.$=r.addLocationDataFn(a[s-2],a[s])(function(){return o[s].own=!0,o[s]}());break;case 161:this.$=o[s];break;case 162:this.$=o[s];break;case 163:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 164:this.$=r.addLocationDataFn(a[s],a[s])(new r.Value(o[s]));break;case 165:this.$=r.addLocationDataFn(a[s],a[s])([o[s]]);break;case 166:this.$=r.addLocationDataFn(a[s-2],a[s])([o[s-2],o[s]]);break;case 167:this.$=r.addLocationDataFn(a[s-1],a[s])({source:o[s]});break;case 168:this.$=r.addLocationDataFn(a[s-1],a[s])({source:o[s],object:!0});break;case 169:this.$=r.addLocationDataFn(a[s-3],a[s])({source:o[s-2],guard:o[s]});break;case 170:this.$=r.addLocationDataFn(a[s-3],a[s])({source:o[s-2],guard:o[s],object:!0});break;case 171:this.$=r.addLocationDataFn(a[s-3],a[s])({source:o[s-2],step:o[s]});break;case 172:this.$=r.addLocationDataFn(a[s-5],a[s])({source:o[s-4],guard:o[s-2],step:o[s]});break;case 173:this.$=r.addLocationDataFn(a[s-5],a[s])({source:o[s-4],step:o[s-2],guard:o[s]});break;case 174:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Switch(o[s-3],o[s-1]));break;case 175:this.$=r.addLocationDataFn(a[s-6],a[s])(new r.Switch(o[s-5],o[s-3],o[s-1]));break;case 176:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Switch(null,o[s-1]));break;case 177:this.$=r.addLocationDataFn(a[s-5],a[s])(new r.Switch(null,o[s-3],o[s-1]));break;case 178:this.$=o[s];break;case 179:this.$=r.addLocationDataFn(a[s-1],a[s])(o[s-1].concat(o[s]));break;case 180:this.$=r.addLocationDataFn(a[s-2],a[s])([[o[s-1],o[s]]]);break;case 181:this.$=r.addLocationDataFn(a[s-3],a[s])([[o[s-2],o[s-1]]]);break;case 182:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.If(o[s-1],o[s],{type:o[s-2]}));break;case 183:this.$=r.addLocationDataFn(a[s-4],a[s])(o[s-4].addElse(r.addLocationDataFn(a[s-2],a[s])(new r.If(o[s-1],o[s],{type:o[s-2]}))));break;case 184:this.$=o[s];break;case 185:this.$=r.addLocationDataFn(a[s-2],a[s])(o[s-2].addElse(o[s]));break;case 186:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.If(o[s],r.addLocationDataFn(a[s-2])(r.Block.wrap([o[s-2]])),{type:o[s-1],statement:!0}));break;case 187:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.If(o[s],r.addLocationDataFn(a[s-2])(r.Block.wrap([o[s-2]])),{type:o[s-1],statement:!0}));break;case 188:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op(o[s-1],o[s]));break;case 189:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op(o[s-1],o[s]));break;case 190:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("-",o[s]));break;case 191:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("+",o[s]));break;case 192:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("--",o[s]));break;case 193:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("++",o[s]));break;case 194:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("--",o[s-1],null,!0));break;case 195:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Op("++",o[s-1],null,!0));break;case 196:this.$=r.addLocationDataFn(a[s-1],a[s])(new r.Existence(o[s-1]));break;case 197:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op("+",o[s-2],o[s]));break;case 198:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op("-",o[s-2],o[s]));break;case 199:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op(o[s-1],o[s-2],o[s]));break;case 200:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op(o[s-1],o[s-2],o[s]));break;case 201:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op(o[s-1],o[s-2],o[s]));break;case 202:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op(o[s-1],o[s-2],o[s]));break;case 203:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Op(o[s-1],o[s-2],o[s]));break;case 204:this.$=r.addLocationDataFn(a[s-2],a[s])(function(){return"!"===o[s-1].charAt(0)?new r.Op(o[s-1].slice(1),o[s-2],o[s]).invert():new r.Op(o[s-1],o[s-2],o[s])}());break;case 205:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Assign(o[s-2],o[s],o[s-1]));break;case 206:this.$=r.addLocationDataFn(a[s-4],a[s])(new r.Assign(o[s-4],o[s-1],o[s-3]));break;case 207:this.$=r.addLocationDataFn(a[s-3],a[s])(new r.Assign(o[s-3],o[s],o[s-2]));break;case 208:this.$=r.addLocationDataFn(a[s-2],a[s])(new r.Extends(o[s-2],o[s]))}},table:[{1:[2,1],3:1,4:2,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[3]},{1:[2,2],6:[1,73]},{1:[2,3],6:[2,3],26:[2,3],102:[2,3]},{1:[2,6],6:[2,6],26:[2,6],102:[2,6],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,7],6:[2,7],26:[2,7],102:[2,7],103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,11],6:[2,11],25:[2,11],26:[2,11],49:[2,11],54:[2,11],57:[2,11],62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,11],74:[1,98],78:[2,11],81:89,84:[1,91],85:[2,108],86:[2,11],91:[2,11],93:[2,11],102:[2,11],104:[2,11],105:[2,11],106:[2,11],110:[2,11],118:[2,11],126:[2,11],129:[2,11],130:[2,11],133:[2,11],134:[2,11],135:[2,11],136:[2,11],137:[2,11],138:[2,11],139:[2,11]},{1:[2,12],6:[2,12],25:[2,12],26:[2,12],49:[2,12],54:[2,12],57:[2,12],62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],73:[2,12],74:[1,98],78:[2,12],81:99,84:[1,91],85:[2,108],86:[2,12],91:[2,12],93:[2,12],102:[2,12],104:[2,12],105:[2,12],106:[2,12],110:[2,12],118:[2,12],126:[2,12],129:[2,12],130:[2,12],133:[2,12],134:[2,12],135:[2,12],136:[2,12],137:[2,12],138:[2,12],139:[2,12]},{1:[2,13],6:[2,13],25:[2,13],26:[2,13],49:[2,13],54:[2,13],57:[2,13],73:[2,13],78:[2,13],86:[2,13],91:[2,13],93:[2,13],102:[2,13],104:[2,13],105:[2,13],106:[2,13],110:[2,13],118:[2,13],126:[2,13],129:[2,13],130:[2,13],133:[2,13],134:[2,13],135:[2,13],136:[2,13],137:[2,13],138:[2,13],139:[2,13]},{1:[2,14],6:[2,14],25:[2,14],26:[2,14],49:[2,14],54:[2,14],57:[2,14],73:[2,14],78:[2,14],86:[2,14],91:[2,14],93:[2,14],102:[2,14],104:[2,14],105:[2,14],106:[2,14],110:[2,14],118:[2,14],126:[2,14],129:[2,14],130:[2,14],133:[2,14],134:[2,14],135:[2,14],136:[2,14],137:[2,14],138:[2,14],139:[2,14]},{1:[2,15],6:[2,15],25:[2,15],26:[2,15],49:[2,15],54:[2,15],57:[2,15],73:[2,15],78:[2,15],86:[2,15],91:[2,15],93:[2,15],102:[2,15],104:[2,15],105:[2,15],106:[2,15],110:[2,15],118:[2,15],126:[2,15],129:[2,15],130:[2,15],133:[2,15],134:[2,15],135:[2,15],136:[2,15],137:[2,15],138:[2,15],139:[2,15]},{1:[2,16],6:[2,16],25:[2,16],26:[2,16],49:[2,16],54:[2,16],57:[2,16],73:[2,16],78:[2,16],86:[2,16],91:[2,16],93:[2,16],102:[2,16],104:[2,16],105:[2,16],106:[2,16],110:[2,16],118:[2,16],126:[2,16],129:[2,16],130:[2,16],133:[2,16],134:[2,16],135:[2,16],136:[2,16],137:[2,16],138:[2,16],139:[2,16]},{1:[2,17],6:[2,17],25:[2,17],26:[2,17],49:[2,17],54:[2,17],57:[2,17],73:[2,17],78:[2,17],86:[2,17],91:[2,17],93:[2,17],102:[2,17],104:[2,17],105:[2,17],106:[2,17],110:[2,17],118:[2,17],126:[2,17],129:[2,17],130:[2,17],133:[2,17],134:[2,17],135:[2,17],136:[2,17],137:[2,17],138:[2,17],139:[2,17]},{1:[2,18],6:[2,18],25:[2,18],26:[2,18],49:[2,18],54:[2,18],57:[2,18],73:[2,18],78:[2,18],86:[2,18],91:[2,18],93:[2,18],102:[2,18],104:[2,18],105:[2,18],106:[2,18],110:[2,18],118:[2,18],126:[2,18],129:[2,18],130:[2,18],133:[2,18],134:[2,18],135:[2,18],136:[2,18],137:[2,18],138:[2,18],139:[2,18]},{1:[2,19],6:[2,19],25:[2,19],26:[2,19],49:[2,19],54:[2,19],57:[2,19],73:[2,19],78:[2,19],86:[2,19],91:[2,19],93:[2,19],102:[2,19],104:[2,19],105:[2,19],106:[2,19],110:[2,19],118:[2,19],126:[2,19],129:[2,19],130:[2,19],133:[2,19],134:[2,19],135:[2,19],136:[2,19],137:[2,19],138:[2,19],139:[2,19]},{1:[2,20],6:[2,20],25:[2,20],26:[2,20],49:[2,20],54:[2,20],57:[2,20],73:[2,20],78:[2,20],86:[2,20],91:[2,20],93:[2,20],102:[2,20],104:[2,20],105:[2,20],106:[2,20],110:[2,20],118:[2,20],126:[2,20],129:[2,20],130:[2,20],133:[2,20],134:[2,20],135:[2,20],136:[2,20],137:[2,20],138:[2,20],139:[2,20]},{1:[2,21],6:[2,21],25:[2,21],26:[2,21],49:[2,21],54:[2,21],57:[2,21],73:[2,21],78:[2,21],86:[2,21],91:[2,21],93:[2,21],102:[2,21],104:[2,21],105:[2,21],106:[2,21],110:[2,21],118:[2,21],126:[2,21],129:[2,21],130:[2,21],133:[2,21],134:[2,21],135:[2,21],136:[2,21],137:[2,21],138:[2,21],139:[2,21]},{1:[2,22],6:[2,22],25:[2,22],26:[2,22],49:[2,22],54:[2,22],57:[2,22],73:[2,22],78:[2,22],86:[2,22],91:[2,22],93:[2,22],102:[2,22],104:[2,22],105:[2,22],106:[2,22],110:[2,22],118:[2,22],126:[2,22],129:[2,22],130:[2,22],133:[2,22],134:[2,22],135:[2,22],136:[2,22],137:[2,22],138:[2,22],139:[2,22]},{1:[2,8],6:[2,8],26:[2,8],102:[2,8],104:[2,8],106:[2,8],110:[2,8],126:[2,8]},{1:[2,9],6:[2,9],26:[2,9],102:[2,9],104:[2,9],106:[2,9],110:[2,9],126:[2,9]},{1:[2,10],6:[2,10],26:[2,10],102:[2,10],104:[2,10],106:[2,10],110:[2,10],126:[2,10]},{1:[2,75],6:[2,75],25:[2,75],26:[2,75],40:[1,101],49:[2,75],54:[2,75],57:[2,75],66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],73:[2,75],74:[2,75],78:[2,75],84:[2,75],85:[2,75],86:[2,75],91:[2,75],93:[2,75],102:[2,75],104:[2,75],105:[2,75],106:[2,75],110:[2,75],118:[2,75],126:[2,75],129:[2,75],130:[2,75],133:[2,75],134:[2,75],135:[2,75],136:[2,75],137:[2,75],138:[2,75],139:[2,75]},{1:[2,76],6:[2,76],25:[2,76],26:[2,76],49:[2,76],54:[2,76],57:[2,76],66:[2,76],67:[2,76],68:[2,76],69:[2,76],71:[2,76],73:[2,76],74:[2,76],78:[2,76],84:[2,76],85:[2,76],86:[2,76],91:[2,76],93:[2,76],102:[2,76],104:[2,76],105:[2,76],106:[2,76],110:[2,76],118:[2,76],126:[2,76],129:[2,76],130:[2,76],133:[2,76],134:[2,76],135:[2,76],136:[2,76],137:[2,76],138:[2,76],139:[2,76]},{1:[2,77],6:[2,77],25:[2,77],26:[2,77],49:[2,77],54:[2,77],57:[2,77],66:[2,77],67:[2,77],68:[2,77],69:[2,77],71:[2,77],73:[2,77],74:[2,77],78:[2,77],84:[2,77],85:[2,77],86:[2,77],91:[2,77],93:[2,77],102:[2,77],104:[2,77],105:[2,77],106:[2,77],110:[2,77],118:[2,77],126:[2,77],129:[2,77],130:[2,77],133:[2,77],134:[2,77],135:[2,77],136:[2,77],137:[2,77],138:[2,77],139:[2,77]},{1:[2,78],6:[2,78],25:[2,78],26:[2,78],49:[2,78],54:[2,78],57:[2,78],66:[2,78],67:[2,78],68:[2,78],69:[2,78],71:[2,78],73:[2,78],74:[2,78],78:[2,78],84:[2,78],85:[2,78],86:[2,78],91:[2,78],93:[2,78],102:[2,78],104:[2,78],105:[2,78],106:[2,78],110:[2,78],118:[2,78],126:[2,78],129:[2,78],130:[2,78],133:[2,78],134:[2,78],135:[2,78],136:[2,78],137:[2,78],138:[2,78],139:[2,78]},{1:[2,79],6:[2,79],25:[2,79],26:[2,79],49:[2,79],54:[2,79],57:[2,79],66:[2,79],67:[2,79],68:[2,79],69:[2,79],71:[2,79],73:[2,79],74:[2,79],78:[2,79],84:[2,79],85:[2,79],86:[2,79],91:[2,79],93:[2,79],102:[2,79],104:[2,79],105:[2,79],106:[2,79],110:[2,79],118:[2,79],126:[2,79],129:[2,79],130:[2,79],133:[2,79],134:[2,79],135:[2,79],136:[2,79],137:[2,79],138:[2,79],139:[2,79]},{1:[2,106],6:[2,106],25:[2,106],26:[2,106],49:[2,106],54:[2,106],57:[2,106],66:[2,106],67:[2,106],68:[2,106],69:[2,106],71:[2,106],73:[2,106],74:[2,106],78:[2,106],82:102,84:[2,106],85:[1,103],86:[2,106],91:[2,106],93:[2,106],102:[2,106],104:[2,106],105:[2,106],106:[2,106],110:[2,106],118:[2,106],126:[2,106],129:[2,106],130:[2,106],133:[2,106],134:[2,106],135:[2,106],136:[2,106],137:[2,106],138:[2,106],139:[2,106]},{6:[2,54],25:[2,54],27:108,28:[1,72],44:109,48:104,49:[2,54],54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{24:114,25:[1,115]},{7:116,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:118,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:119,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:120,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:121,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{12:122,13:123,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,58:46,59:47,61:125,63:23,64:24,65:25,76:[1,69],83:[1,26],88:[1,57],89:[1,58],90:[1,56],101:[1,55]},{1:[2,72],6:[2,72],25:[2,72],26:[2,72],40:[2,72],49:[2,72],54:[2,72],57:[2,72],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,72],74:[2,72],78:[2,72],80:[1,129],84:[2,72],85:[2,72],86:[2,72],91:[2,72],93:[2,72],102:[2,72],104:[2,72],105:[2,72],106:[2,72],110:[2,72],118:[2,72],126:[2,72],129:[2,72],130:[2,72],131:[1,126],132:[1,127],133:[2,72],134:[2,72],135:[2,72],136:[2,72],137:[2,72],138:[2,72],139:[2,72],140:[1,128]},{1:[2,184],6:[2,184],25:[2,184],26:[2,184],49:[2,184],54:[2,184],57:[2,184],73:[2,184],78:[2,184],86:[2,184],91:[2,184],93:[2,184],102:[2,184],104:[2,184],105:[2,184],106:[2,184],110:[2,184],118:[2,184],121:[1,130],126:[2,184],129:[2,184],130:[2,184],133:[2,184],134:[2,184],135:[2,184],136:[2,184],137:[2,184],138:[2,184],139:[2,184]},{24:131,25:[1,115]},{24:132,25:[1,115]},{1:[2,151],6:[2,151],25:[2,151],26:[2,151],49:[2,151],54:[2,151],57:[2,151],73:[2,151],78:[2,151],86:[2,151],91:[2,151],93:[2,151],102:[2,151],104:[2,151],105:[2,151],106:[2,151],110:[2,151],118:[2,151],126:[2,151],129:[2,151],130:[2,151],133:[2,151],134:[2,151],135:[2,151],136:[2,151],137:[2,151],138:[2,151],139:[2,151]},{24:133,25:[1,115]},{7:134,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,135],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,96],6:[2,96],12:122,13:123,24:136,25:[1,115],26:[2,96],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:124,44:62,49:[2,96],54:[2,96],57:[2,96],58:46,59:47,61:138,63:23,64:24,65:25,73:[2,96],76:[1,69],78:[2,96],80:[1,137],83:[1,26],86:[2,96],88:[1,57],89:[1,58],90:[1,56],91:[2,96],93:[2,96],101:[1,55],102:[2,96],104:[2,96],105:[2,96],106:[2,96],110:[2,96],118:[2,96],126:[2,96],129:[2,96],130:[2,96],133:[2,96],134:[2,96],135:[2,96],136:[2,96],137:[2,96],138:[2,96],139:[2,96]},{7:139,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,46],6:[2,46],7:140,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,46],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,46],103:38,104:[2,46],106:[2,46],107:39,108:[1,66],109:40,110:[2,46],111:68,119:[1,41],124:36,125:[1,63],126:[2,46],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,47],6:[2,47],25:[2,47],26:[2,47],54:[2,47],78:[2,47],102:[2,47],104:[2,47],106:[2,47],110:[2,47],126:[2,47]},{1:[2,73],6:[2,73],25:[2,73],26:[2,73],40:[2,73],49:[2,73],54:[2,73],57:[2,73],66:[2,73],67:[2,73],68:[2,73],69:[2,73],71:[2,73],73:[2,73],74:[2,73],78:[2,73],84:[2,73],85:[2,73],86:[2,73],91:[2,73],93:[2,73],102:[2,73],104:[2,73],105:[2,73],106:[2,73],110:[2,73],118:[2,73],126:[2,73],129:[2,73],130:[2,73],133:[2,73],134:[2,73],135:[2,73],136:[2,73],137:[2,73],138:[2,73],139:[2,73]},{1:[2,74],6:[2,74],25:[2,74],26:[2,74],40:[2,74],49:[2,74],54:[2,74],57:[2,74],66:[2,74],67:[2,74],68:[2,74],69:[2,74],71:[2,74],73:[2,74],74:[2,74],78:[2,74],84:[2,74],85:[2,74],86:[2,74],91:[2,74],93:[2,74],102:[2,74],104:[2,74],105:[2,74],106:[2,74],110:[2,74],118:[2,74],126:[2,74],129:[2,74],130:[2,74],133:[2,74],134:[2,74],135:[2,74],136:[2,74],137:[2,74],138:[2,74],139:[2,74]},{1:[2,28],6:[2,28],25:[2,28],26:[2,28],49:[2,28],54:[2,28],57:[2,28],66:[2,28],67:[2,28],68:[2,28],69:[2,28],71:[2,28],73:[2,28],74:[2,28],78:[2,28],84:[2,28],85:[2,28],86:[2,28],91:[2,28],93:[2,28],102:[2,28],104:[2,28],105:[2,28],106:[2,28],110:[2,28],118:[2,28],126:[2,28],129:[2,28],130:[2,28],133:[2,28],134:[2,28],135:[2,28],136:[2,28],137:[2,28],138:[2,28],139:[2,28]},{1:[2,29],6:[2,29],25:[2,29],26:[2,29],49:[2,29],54:[2,29],57:[2,29],66:[2,29],67:[2,29],68:[2,29],69:[2,29],71:[2,29],73:[2,29],74:[2,29],78:[2,29],84:[2,29],85:[2,29],86:[2,29],91:[2,29],93:[2,29],102:[2,29],104:[2,29],105:[2,29],106:[2,29],110:[2,29],118:[2,29],126:[2,29],129:[2,29],130:[2,29],133:[2,29],134:[2,29],135:[2,29],136:[2,29],137:[2,29],138:[2,29],139:[2,29]},{1:[2,30],6:[2,30],25:[2,30],26:[2,30],49:[2,30],54:[2,30],57:[2,30],66:[2,30],67:[2,30],68:[2,30],69:[2,30],71:[2,30],73:[2,30],74:[2,30],78:[2,30],84:[2,30],85:[2,30],86:[2,30],91:[2,30],93:[2,30],102:[2,30],104:[2,30],105:[2,30],106:[2,30],110:[2,30],118:[2,30],126:[2,30],129:[2,30],130:[2,30],133:[2,30],134:[2,30],135:[2,30],136:[2,30],137:[2,30],138:[2,30],139:[2,30]},{1:[2,31],6:[2,31],25:[2,31],26:[2,31],49:[2,31],54:[2,31],57:[2,31],66:[2,31],67:[2,31],68:[2,31],69:[2,31],71:[2,31],73:[2,31],74:[2,31],78:[2,31],84:[2,31],85:[2,31],86:[2,31],91:[2,31],93:[2,31],102:[2,31],104:[2,31],105:[2,31],106:[2,31],110:[2,31],118:[2,31],126:[2,31],129:[2,31],130:[2,31],133:[2,31],134:[2,31],135:[2,31],136:[2,31],137:[2,31],138:[2,31],139:[2,31]},{1:[2,32],6:[2,32],25:[2,32],26:[2,32],49:[2,32],54:[2,32],57:[2,32],66:[2,32],67:[2,32],68:[2,32],69:[2,32],71:[2,32],73:[2,32],74:[2,32],78:[2,32],84:[2,32],85:[2,32],86:[2,32],91:[2,32],93:[2,32],102:[2,32],104:[2,32],105:[2,32],106:[2,32],110:[2,32],118:[2,32],126:[2,32],129:[2,32],130:[2,32],133:[2,32],134:[2,32],135:[2,32],136:[2,32],137:[2,32],138:[2,32],139:[2,32]},{1:[2,33],6:[2,33],25:[2,33],26:[2,33],49:[2,33],54:[2,33],57:[2,33],66:[2,33],67:[2,33],68:[2,33],69:[2,33],71:[2,33],73:[2,33],74:[2,33],78:[2,33],84:[2,33],85:[2,33],86:[2,33],91:[2,33],93:[2,33],102:[2,33],104:[2,33],105:[2,33],106:[2,33],110:[2,33],118:[2,33],126:[2,33],129:[2,33],130:[2,33],133:[2,33],134:[2,33],135:[2,33],136:[2,33],137:[2,33],138:[2,33],139:[2,33]},{1:[2,34],6:[2,34],25:[2,34],26:[2,34],49:[2,34],54:[2,34],57:[2,34],66:[2,34],67:[2,34],68:[2,34],69:[2,34],71:[2,34],73:[2,34],74:[2,34],78:[2,34],84:[2,34],85:[2,34],86:[2,34],91:[2,34],93:[2,34],102:[2,34],104:[2,34],105:[2,34],106:[2,34],110:[2,34],118:[2,34],126:[2,34],129:[2,34],130:[2,34],133:[2,34],134:[2,34],135:[2,34],136:[2,34],137:[2,34],138:[2,34],139:[2,34]},{4:141,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,142],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:143,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,112],6:[2,112],25:[2,112],26:[2,112],49:[2,112],54:[2,112],57:[2,112],66:[2,112],67:[2,112],68:[2,112],69:[2,112],71:[2,112],73:[2,112],74:[2,112],78:[2,112],84:[2,112],85:[2,112],86:[2,112],91:[2,112],93:[2,112],102:[2,112],104:[2,112],105:[2,112],106:[2,112],110:[2,112],118:[2,112],126:[2,112],129:[2,112],130:[2,112],133:[2,112],134:[2,112],135:[2,112],136:[2,112],137:[2,112],138:[2,112],139:[2,112]},{1:[2,113],6:[2,113],25:[2,113],26:[2,113],27:150,28:[1,72],49:[2,113],54:[2,113],57:[2,113],66:[2,113],67:[2,113],68:[2,113],69:[2,113],71:[2,113],73:[2,113],74:[2,113],78:[2,113],84:[2,113],85:[2,113],86:[2,113],91:[2,113],93:[2,113],102:[2,113],104:[2,113],105:[2,113],106:[2,113],110:[2,113],118:[2,113],126:[2,113],129:[2,113],130:[2,113],133:[2,113],134:[2,113],135:[2,113],136:[2,113],137:[2,113],138:[2,113],139:[2,113]},{25:[2,50]},{25:[2,51]},{1:[2,68],6:[2,68],25:[2,68],26:[2,68],40:[2,68],49:[2,68],54:[2,68],57:[2,68],66:[2,68],67:[2,68],68:[2,68],69:[2,68],71:[2,68],73:[2,68],74:[2,68],78:[2,68],80:[2,68],84:[2,68],85:[2,68],86:[2,68],91:[2,68],93:[2,68],102:[2,68],104:[2,68],105:[2,68],106:[2,68],110:[2,68],118:[2,68],126:[2,68],129:[2,68],130:[2,68],131:[2,68],132:[2,68],133:[2,68],134:[2,68],135:[2,68],136:[2,68],137:[2,68],138:[2,68],139:[2,68],140:[2,68]},{1:[2,71],6:[2,71],25:[2,71],26:[2,71],40:[2,71],49:[2,71],54:[2,71],57:[2,71],66:[2,71],67:[2,71],68:[2,71],69:[2,71],71:[2,71],73:[2,71],74:[2,71],78:[2,71],80:[2,71],84:[2,71],85:[2,71],86:[2,71],91:[2,71],93:[2,71],102:[2,71],104:[2,71],105:[2,71],106:[2,71],110:[2,71],118:[2,71],126:[2,71],129:[2,71],130:[2,71],131:[2,71],132:[2,71],133:[2,71],134:[2,71],135:[2,71],136:[2,71],137:[2,71],138:[2,71],139:[2,71],140:[2,71]},{7:151,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:152,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:153,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:155,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,24:154,25:[1,115],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{27:160,28:[1,72],44:161,58:162,59:163,64:156,76:[1,69],89:[1,112],90:[1,56],113:157,114:[1,158],115:159},{112:164,116:[1,165],117:[1,166]},{6:[2,91],10:170,25:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:167,78:[2,91],89:[1,112]},{1:[2,26],6:[2,26],25:[2,26],26:[2,26],43:[2,26],49:[2,26],54:[2,26],57:[2,26],66:[2,26],67:[2,26],68:[2,26],69:[2,26],71:[2,26],73:[2,26],74:[2,26],78:[2,26],84:[2,26],85:[2,26],86:[2,26],91:[2,26],93:[2,26],102:[2,26],104:[2,26],105:[2,26],106:[2,26],110:[2,26],118:[2,26],126:[2,26],129:[2,26],130:[2,26],133:[2,26],134:[2,26],135:[2,26],136:[2,26],137:[2,26],138:[2,26],139:[2,26]},{1:[2,27],6:[2,27],25:[2,27],26:[2,27],43:[2,27],49:[2,27],54:[2,27],57:[2,27],66:[2,27],67:[2,27],68:[2,27],69:[2,27],71:[2,27],73:[2,27],74:[2,27],78:[2,27],84:[2,27],85:[2,27],86:[2,27],91:[2,27],93:[2,27],102:[2,27],104:[2,27],105:[2,27],106:[2,27],110:[2,27],118:[2,27],126:[2,27],129:[2,27],130:[2,27],133:[2,27],134:[2,27],135:[2,27],136:[2,27],137:[2,27],138:[2,27],139:[2,27]},{1:[2,25],6:[2,25],25:[2,25],26:[2,25],40:[2,25],43:[2,25],49:[2,25],54:[2,25],57:[2,25],66:[2,25],67:[2,25],68:[2,25],69:[2,25],71:[2,25],73:[2,25],74:[2,25],78:[2,25],80:[2,25],84:[2,25],85:[2,25],86:[2,25],91:[2,25],93:[2,25],102:[2,25],104:[2,25],105:[2,25],106:[2,25],110:[2,25],116:[2,25],117:[2,25],118:[2,25],126:[2,25],129:[2,25],130:[2,25],131:[2,25],132:[2,25],133:[2,25],134:[2,25],135:[2,25],136:[2,25],137:[2,25],138:[2,25],139:[2,25],140:[2,25]},{1:[2,5],5:174,6:[2,5],7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[2,5],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],102:[2,5],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,196],6:[2,196],25:[2,196],26:[2,196],49:[2,196],54:[2,196],57:[2,196],73:[2,196],78:[2,196],86:[2,196],91:[2,196],93:[2,196],102:[2,196],104:[2,196],105:[2,196],106:[2,196],110:[2,196],118:[2,196],126:[2,196],129:[2,196],130:[2,196],133:[2,196],134:[2,196],135:[2,196],136:[2,196],137:[2,196],138:[2,196],139:[2,196]},{7:175,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:176,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:177,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:178,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:179,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:180,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:181,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:182,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:183,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,150],6:[2,150],25:[2,150],26:[2,150],49:[2,150],54:[2,150],57:[2,150],73:[2,150],78:[2,150],86:[2,150],91:[2,150],93:[2,150],102:[2,150],104:[2,150],105:[2,150],106:[2,150],110:[2,150],118:[2,150],126:[2,150],129:[2,150],130:[2,150],133:[2,150],134:[2,150],135:[2,150],136:[2,150],137:[2,150],138:[2,150],139:[2,150]},{1:[2,155],6:[2,155],25:[2,155],26:[2,155],49:[2,155],54:[2,155],57:[2,155],73:[2,155],78:[2,155],86:[2,155],91:[2,155],93:[2,155],102:[2,155],104:[2,155],105:[2,155],106:[2,155],110:[2,155],118:[2,155],126:[2,155],129:[2,155],130:[2,155],133:[2,155],134:[2,155],135:[2,155],136:[2,155],137:[2,155],138:[2,155],139:[2,155]},{7:184,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,149],6:[2,149],25:[2,149],26:[2,149],49:[2,149],54:[2,149],57:[2,149],73:[2,149],78:[2,149],86:[2,149],91:[2,149],93:[2,149],102:[2,149],104:[2,149],105:[2,149],106:[2,149],110:[2,149],118:[2,149],126:[2,149],129:[2,149],130:[2,149],133:[2,149],134:[2,149],135:[2,149],136:[2,149],137:[2,149],138:[2,149],139:[2,149]},{1:[2,154],6:[2,154],25:[2,154],26:[2,154],49:[2,154],54:[2,154],57:[2,154],73:[2,154],78:[2,154],86:[2,154],91:[2,154],93:[2,154],102:[2,154],104:[2,154],105:[2,154],106:[2,154],110:[2,154],118:[2,154],126:[2,154],129:[2,154],130:[2,154],133:[2,154],134:[2,154],135:[2,154],136:[2,154],137:[2,154],138:[2,154],139:[2,154]},{82:185,85:[1,103]},{1:[2,69],6:[2,69],25:[2,69],26:[2,69],40:[2,69],49:[2,69],54:[2,69],57:[2,69],66:[2,69],67:[2,69],68:[2,69],69:[2,69],71:[2,69],73:[2,69],74:[2,69],78:[2,69],80:[2,69],84:[2,69],85:[2,69],86:[2,69],91:[2,69],93:[2,69],102:[2,69],104:[2,69],105:[2,69],106:[2,69],110:[2,69],118:[2,69],126:[2,69],129:[2,69],130:[2,69],131:[2,69],132:[2,69],133:[2,69],134:[2,69],135:[2,69],136:[2,69],137:[2,69],138:[2,69],139:[2,69],140:[2,69]},{85:[2,109]},{27:186,28:[1,72]},{27:187,28:[1,72]},{1:[2,84],6:[2,84],25:[2,84],26:[2,84],27:188,28:[1,72],40:[2,84],49:[2,84],54:[2,84],57:[2,84],66:[2,84],67:[2,84],68:[2,84],69:[2,84],71:[2,84],73:[2,84],74:[2,84],78:[2,84],80:[2,84],84:[2,84],85:[2,84],86:[2,84],91:[2,84],93:[2,84],102:[2,84],104:[2,84],105:[2,84],106:[2,84],110:[2,84],118:[2,84],126:[2,84],129:[2,84],130:[2,84],131:[2,84],132:[2,84],133:[2,84],134:[2,84],135:[2,84],136:[2,84],137:[2,84],138:[2,84],139:[2,84],140:[2,84]},{27:189,28:[1,72]},{1:[2,85],6:[2,85],25:[2,85],26:[2,85],40:[2,85],49:[2,85],54:[2,85],57:[2,85],66:[2,85],67:[2,85],68:[2,85],69:[2,85],71:[2,85],73:[2,85],74:[2,85],78:[2,85],80:[2,85],84:[2,85],85:[2,85],86:[2,85],91:[2,85],93:[2,85],102:[2,85],104:[2,85],105:[2,85],106:[2,85],110:[2,85],118:[2,85],126:[2,85],129:[2,85],130:[2,85],131:[2,85],132:[2,85],133:[2,85],134:[2,85],135:[2,85],136:[2,85],137:[2,85],138:[2,85],139:[2,85],140:[2,85]},{7:191,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,195],58:46,59:47,61:35,63:23,64:24,65:25,72:190,75:192,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],92:193,93:[1,194],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{70:196,71:[1,97],74:[1,98]},{82:197,85:[1,103]},{1:[2,70],6:[2,70],25:[2,70],26:[2,70],40:[2,70],49:[2,70],54:[2,70],57:[2,70],66:[2,70],67:[2,70],68:[2,70],69:[2,70],71:[2,70],73:[2,70],74:[2,70],78:[2,70],80:[2,70],84:[2,70],85:[2,70],86:[2,70],91:[2,70],93:[2,70],102:[2,70],104:[2,70],105:[2,70],106:[2,70],110:[2,70],118:[2,70],126:[2,70],129:[2,70],130:[2,70],131:[2,70],132:[2,70],133:[2,70],134:[2,70],135:[2,70],136:[2,70],137:[2,70],138:[2,70],139:[2,70],140:[2,70]},{6:[1,199],7:198,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,200],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,107],6:[2,107],25:[2,107],26:[2,107],49:[2,107],54:[2,107],57:[2,107],66:[2,107],67:[2,107],68:[2,107],69:[2,107],71:[2,107],73:[2,107],74:[2,107],78:[2,107],84:[2,107],85:[2,107],86:[2,107],91:[2,107],93:[2,107],102:[2,107],104:[2,107],105:[2,107],106:[2,107],110:[2,107],118:[2,107],126:[2,107],129:[2,107],130:[2,107],133:[2,107],134:[2,107],135:[2,107],136:[2,107],137:[2,107],138:[2,107],139:[2,107]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[1,201],87:202,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],49:[1,204],53:206,54:[1,205]},{6:[2,55],25:[2,55],26:[2,55],49:[2,55],54:[2,55]},{6:[2,59],25:[2,59],26:[2,59],40:[1,208],49:[2,59],54:[2,59],57:[1,207]},{6:[2,62],25:[2,62],26:[2,62],49:[2,62],54:[2,62]},{6:[2,63],25:[2,63],26:[2,63],40:[2,63],49:[2,63],54:[2,63],57:[2,63]},{6:[2,64],25:[2,64],26:[2,64],40:[2,64],49:[2,64],54:[2,64],57:[2,64]},{6:[2,65],25:[2,65],26:[2,65],40:[2,65],49:[2,65],54:[2,65],57:[2,65]},{6:[2,66],25:[2,66],26:[2,66],40:[2,66],49:[2,66],54:[2,66],57:[2,66]},{27:150,28:[1,72]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:145,88:[1,57],89:[1,58],90:[1,56],91:[1,144],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,49],6:[2,49],25:[2,49],26:[2,49],49:[2,49],54:[2,49],57:[2,49],73:[2,49],78:[2,49],86:[2,49],91:[2,49],93:[2,49],102:[2,49],104:[2,49],105:[2,49],106:[2,49],110:[2,49],118:[2,49],126:[2,49],129:[2,49],130:[2,49],133:[2,49],134:[2,49],135:[2,49],136:[2,49],137:[2,49],138:[2,49],139:[2,49]},{4:210,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,26:[1,209],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,188],6:[2,188],25:[2,188],26:[2,188],49:[2,188],54:[2,188],57:[2,188],73:[2,188],78:[2,188],86:[2,188],91:[2,188],93:[2,188],102:[2,188],103:84,104:[2,188],105:[2,188],106:[2,188],109:85,110:[2,188],111:68,118:[2,188],126:[2,188],129:[2,188],130:[2,188],133:[1,74],134:[2,188],135:[2,188],136:[2,188],137:[2,188],138:[2,188],139:[2,188]},{103:87,104:[1,64],106:[1,65],109:88,110:[1,67],111:68,126:[1,86]},{1:[2,189],6:[2,189],25:[2,189],26:[2,189],49:[2,189],54:[2,189],57:[2,189],73:[2,189],78:[2,189],86:[2,189],91:[2,189],93:[2,189],102:[2,189],103:84,104:[2,189],105:[2,189],106:[2,189],109:85,110:[2,189],111:68,118:[2,189],126:[2,189],129:[2,189],130:[2,189],133:[1,74],134:[2,189],135:[1,78],136:[2,189],137:[2,189],138:[2,189],139:[2,189]},{1:[2,190],6:[2,190],25:[2,190],26:[2,190],49:[2,190],54:[2,190],57:[2,190],73:[2,190],78:[2,190],86:[2,190],91:[2,190],93:[2,190],102:[2,190],103:84,104:[2,190],105:[2,190],106:[2,190],109:85,110:[2,190],111:68,118:[2,190],126:[2,190],129:[2,190],130:[2,190],133:[1,74],134:[2,190],135:[1,78],136:[2,190],137:[2,190],138:[2,190],139:[2,190]},{1:[2,191],6:[2,191],25:[2,191],26:[2,191],49:[2,191],54:[2,191],57:[2,191],73:[2,191],78:[2,191],86:[2,191],91:[2,191],93:[2,191],102:[2,191],103:84,104:[2,191],105:[2,191],106:[2,191],109:85,110:[2,191],111:68,118:[2,191],126:[2,191],129:[2,191],130:[2,191],133:[1,74],134:[2,191],135:[1,78],136:[2,191],137:[2,191],138:[2,191],139:[2,191]},{1:[2,192],6:[2,192],25:[2,192],26:[2,192],49:[2,192],54:[2,192],57:[2,192],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,192],74:[2,72],78:[2,192],84:[2,72],85:[2,72],86:[2,192],91:[2,192],93:[2,192],102:[2,192],104:[2,192],105:[2,192],106:[2,192],110:[2,192],118:[2,192],126:[2,192],129:[2,192],130:[2,192],133:[2,192],134:[2,192],135:[2,192],136:[2,192],137:[2,192],138:[2,192],139:[2,192]},{62:90,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:89,84:[1,91],85:[2,108]},{62:100,66:[1,92],67:[1,93],68:[1,94],69:[1,95],70:96,71:[1,97],74:[1,98],81:99,84:[1,91],85:[2,108]},{66:[2,75],67:[2,75],68:[2,75],69:[2,75],71:[2,75],74:[2,75],84:[2,75],85:[2,75]},{1:[2,193],6:[2,193],25:[2,193],26:[2,193],49:[2,193],54:[2,193],57:[2,193],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,193],74:[2,72],78:[2,193],84:[2,72],85:[2,72],86:[2,193],91:[2,193],93:[2,193],102:[2,193],104:[2,193],105:[2,193],106:[2,193],110:[2,193],118:[2,193],126:[2,193],129:[2,193],130:[2,193],133:[2,193],134:[2,193],135:[2,193],136:[2,193],137:[2,193],138:[2,193],139:[2,193]},{1:[2,194],6:[2,194],25:[2,194],26:[2,194],49:[2,194],54:[2,194],57:[2,194],73:[2,194],78:[2,194],86:[2,194],91:[2,194],93:[2,194],102:[2,194],104:[2,194],105:[2,194],106:[2,194],110:[2,194],118:[2,194],126:[2,194],129:[2,194],130:[2,194],133:[2,194],134:[2,194],135:[2,194],136:[2,194],137:[2,194],138:[2,194],139:[2,194]},{1:[2,195],6:[2,195],25:[2,195],26:[2,195],49:[2,195],54:[2,195],57:[2,195],73:[2,195],78:[2,195],86:[2,195],91:[2,195],93:[2,195],102:[2,195],104:[2,195],105:[2,195],106:[2,195],110:[2,195],118:[2,195],126:[2,195],129:[2,195],130:[2,195],133:[2,195],134:[2,195],135:[2,195],136:[2,195],137:[2,195],138:[2,195],139:[2,195]},{6:[1,213],7:211,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,212],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:214,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{24:215,25:[1,115],125:[1,216]},{1:[2,134],6:[2,134],25:[2,134],26:[2,134],49:[2,134],54:[2,134],57:[2,134],73:[2,134],78:[2,134],86:[2,134],91:[2,134],93:[2,134],97:217,98:[1,218],99:[1,219],102:[2,134],104:[2,134],105:[2,134],106:[2,134],110:[2,134],118:[2,134],126:[2,134],129:[2,134],130:[2,134],133:[2,134],134:[2,134],135:[2,134],136:[2,134],137:[2,134],138:[2,134],139:[2,134]},{1:[2,148],6:[2,148],25:[2,148],26:[2,148],49:[2,148],54:[2,148],57:[2,148],73:[2,148],78:[2,148],86:[2,148],91:[2,148],93:[2,148],102:[2,148],104:[2,148],105:[2,148],106:[2,148],110:[2,148],118:[2,148],126:[2,148],129:[2,148],130:[2,148],133:[2,148],134:[2,148],135:[2,148],136:[2,148],137:[2,148],138:[2,148],139:[2,148]},{1:[2,156],6:[2,156],25:[2,156],26:[2,156],49:[2,156],54:[2,156],57:[2,156],73:[2,156],78:[2,156],86:[2,156],91:[2,156],93:[2,156],102:[2,156],104:[2,156],105:[2,156],106:[2,156],110:[2,156],118:[2,156],126:[2,156],129:[2,156],130:[2,156],133:[2,156],134:[2,156],135:[2,156],136:[2,156],137:[2,156],138:[2,156],139:[2,156]},{25:[1,220],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{120:221,122:222,123:[1,223]},{1:[2,97],6:[2,97],25:[2,97],26:[2,97],49:[2,97],54:[2,97],57:[2,97],73:[2,97],78:[2,97],86:[2,97],91:[2,97],93:[2,97],102:[2,97],104:[2,97],105:[2,97],106:[2,97],110:[2,97],118:[2,97],126:[2,97],129:[2,97],130:[2,97],133:[2,97],134:[2,97],135:[2,97],136:[2,97],137:[2,97],138:[2,97],139:[2,97]},{7:224,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,100],6:[2,100],24:225,25:[1,115],26:[2,100],49:[2,100],54:[2,100],57:[2,100],66:[2,72],67:[2,72],68:[2,72],69:[2,72],71:[2,72],73:[2,100],74:[2,72],78:[2,100],80:[1,226],84:[2,72],85:[2,72],86:[2,100],91:[2,100],93:[2,100],102:[2,100],104:[2,100],105:[2,100],106:[2,100],110:[2,100],118:[2,100],126:[2,100],129:[2,100],130:[2,100],133:[2,100],134:[2,100],135:[2,100],136:[2,100],137:[2,100],138:[2,100],139:[2,100]},{1:[2,141],6:[2,141],25:[2,141],26:[2,141],49:[2,141],54:[2,141],57:[2,141],73:[2,141],78:[2,141],86:[2,141],91:[2,141],93:[2,141],102:[2,141],103:84,104:[2,141],105:[2,141],106:[2,141],109:85,110:[2,141],111:68,118:[2,141],126:[2,141],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,45],6:[2,45],26:[2,45],102:[2,45],103:84,104:[2,45],106:[2,45],109:85,110:[2,45],111:68,126:[2,45],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,73],102:[1,227]},{4:228,5:3,7:4,8:5,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,129],25:[2,129],54:[2,129],57:[1,230],91:[2,129],92:229,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,115],6:[2,115],25:[2,115],26:[2,115],40:[2,115],49:[2,115],54:[2,115],57:[2,115],66:[2,115],67:[2,115],68:[2,115],69:[2,115],71:[2,115],73:[2,115],74:[2,115],78:[2,115],84:[2,115],85:[2,115],86:[2,115],91:[2,115],93:[2,115],102:[2,115],104:[2,115],105:[2,115],106:[2,115],110:[2,115],116:[2,115],117:[2,115],118:[2,115],126:[2,115],129:[2,115],130:[2,115],133:[2,115],134:[2,115],135:[2,115],136:[2,115],137:[2,115],138:[2,115],139:[2,115]},{6:[2,52],25:[2,52],53:231,54:[1,232],91:[2,52]},{6:[2,124],25:[2,124],26:[2,124],54:[2,124],86:[2,124],91:[2,124]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:233,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,130],25:[2,130],26:[2,130],54:[2,130],86:[2,130],91:[2,130]},{6:[2,131],25:[2,131],26:[2,131],54:[2,131],86:[2,131],91:[2,131]},{1:[2,114],6:[2,114],25:[2,114],26:[2,114],40:[2,114],43:[2,114],49:[2,114],54:[2,114],57:[2,114],66:[2,114],67:[2,114],68:[2,114],69:[2,114],71:[2,114],73:[2,114],74:[2,114],78:[2,114],80:[2,114],84:[2,114],85:[2,114],86:[2,114],91:[2,114],93:[2,114],102:[2,114],104:[2,114],105:[2,114],106:[2,114],110:[2,114],116:[2,114],117:[2,114],118:[2,114],126:[2,114],129:[2,114],130:[2,114],131:[2,114],132:[2,114],133:[2,114],134:[2,114],135:[2,114],136:[2,114],137:[2,114],138:[2,114],139:[2,114],140:[2,114]},{24:234,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,144],6:[2,144],25:[2,144],26:[2,144],49:[2,144],54:[2,144],57:[2,144],73:[2,144],78:[2,144],86:[2,144],91:[2,144],93:[2,144],102:[2,144],103:84,104:[1,64],105:[1,235],106:[1,65],109:85,110:[1,67],111:68,118:[2,144],126:[2,144],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,146],6:[2,146],25:[2,146],26:[2,146],49:[2,146],54:[2,146],57:[2,146],73:[2,146],78:[2,146],86:[2,146],91:[2,146],93:[2,146],102:[2,146],103:84,104:[1,64],105:[1,236],106:[1,65],109:85,110:[1,67],111:68,118:[2,146],126:[2,146],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,152],6:[2,152],25:[2,152],26:[2,152],49:[2,152],54:[2,152],57:[2,152],73:[2,152],78:[2,152],86:[2,152],91:[2,152],93:[2,152],102:[2,152],104:[2,152],105:[2,152],106:[2,152],110:[2,152],118:[2,152],126:[2,152],129:[2,152],130:[2,152],133:[2,152],134:[2,152],135:[2,152],136:[2,152],137:[2,152],138:[2,152],139:[2,152]},{1:[2,153],6:[2,153],25:[2,153],26:[2,153],49:[2,153],54:[2,153],57:[2,153],73:[2,153],78:[2,153],86:[2,153],91:[2,153],93:[2,153],102:[2,153],103:84,104:[1,64],105:[2,153],106:[1,65],109:85,110:[1,67],111:68,118:[2,153],126:[2,153],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,157],6:[2,157],25:[2,157],26:[2,157],49:[2,157],54:[2,157],57:[2,157],73:[2,157],78:[2,157],86:[2,157],91:[2,157],93:[2,157],102:[2,157],104:[2,157],105:[2,157],106:[2,157],110:[2,157],118:[2,157],126:[2,157],129:[2,157],130:[2,157],133:[2,157],134:[2,157],135:[2,157],136:[2,157],137:[2,157],138:[2,157],139:[2,157]},{116:[2,159],117:[2,159]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],113:237,115:159},{54:[1,238],116:[2,165],117:[2,165]},{54:[2,161],116:[2,161],117:[2,161]},{54:[2,162],116:[2,162],117:[2,162]},{54:[2,163],116:[2,163],117:[2,163]},{54:[2,164],116:[2,164],117:[2,164]},{1:[2,158],6:[2,158],25:[2,158],26:[2,158],49:[2,158],54:[2,158],57:[2,158],73:[2,158],78:[2,158],86:[2,158],91:[2,158],93:[2,158],102:[2,158],104:[2,158],105:[2,158],106:[2,158],110:[2,158],118:[2,158],126:[2,158],129:[2,158],130:[2,158],133:[2,158],134:[2,158],135:[2,158],136:[2,158],137:[2,158],138:[2,158],139:[2,158]},{7:239,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:240,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],53:241,54:[1,242],78:[2,52]},{6:[2,92],25:[2,92],26:[2,92],54:[2,92],78:[2,92]},{6:[2,38],25:[2,38],26:[2,38],43:[1,243],54:[2,38],78:[2,38]},{6:[2,41],25:[2,41],26:[2,41],54:[2,41],78:[2,41]},{6:[2,42],25:[2,42],26:[2,42],43:[2,42],54:[2,42],78:[2,42]},{6:[2,43],25:[2,43],26:[2,43],43:[2,43],54:[2,43],78:[2,43]},{6:[2,44],25:[2,44],26:[2,44],43:[2,44],54:[2,44],78:[2,44]},{1:[2,4],6:[2,4],26:[2,4],102:[2,4]},{1:[2,197],6:[2,197],25:[2,197],26:[2,197],49:[2,197],54:[2,197],57:[2,197],73:[2,197],78:[2,197],86:[2,197],91:[2,197],93:[2,197],102:[2,197],103:84,104:[2,197],105:[2,197],106:[2,197],109:85,110:[2,197],111:68,118:[2,197],126:[2,197],129:[2,197],130:[2,197],133:[1,74],134:[1,77],135:[1,78],136:[2,197],137:[2,197],138:[2,197],139:[2,197]},{1:[2,198],6:[2,198],25:[2,198],26:[2,198],49:[2,198],54:[2,198],57:[2,198],73:[2,198],78:[2,198],86:[2,198],91:[2,198],93:[2,198],102:[2,198],103:84,104:[2,198],105:[2,198],106:[2,198],109:85,110:[2,198],111:68,118:[2,198],126:[2,198],129:[2,198],130:[2,198],133:[1,74],134:[1,77],135:[1,78],136:[2,198],137:[2,198],138:[2,198],139:[2,198]},{1:[2,199],6:[2,199],25:[2,199],26:[2,199],49:[2,199],54:[2,199],57:[2,199],73:[2,199],78:[2,199],86:[2,199],91:[2,199],93:[2,199],102:[2,199],103:84,104:[2,199],105:[2,199],106:[2,199],109:85,110:[2,199],111:68,118:[2,199],126:[2,199],129:[2,199],130:[2,199],133:[1,74],134:[2,199],135:[1,78],136:[2,199],137:[2,199],138:[2,199],139:[2,199]},{1:[2,200],6:[2,200],25:[2,200],26:[2,200],49:[2,200],54:[2,200],57:[2,200],73:[2,200],78:[2,200],86:[2,200],91:[2,200],93:[2,200],102:[2,200],103:84,104:[2,200],105:[2,200],106:[2,200],109:85,110:[2,200],111:68,118:[2,200],126:[2,200],129:[2,200],130:[2,200],133:[1,74],134:[2,200],135:[1,78],136:[2,200],137:[2,200],138:[2,200],139:[2,200]},{1:[2,201],6:[2,201],25:[2,201],26:[2,201],49:[2,201],54:[2,201],57:[2,201],73:[2,201],78:[2,201],86:[2,201],91:[2,201],93:[2,201],102:[2,201],103:84,104:[2,201],105:[2,201],106:[2,201],109:85,110:[2,201],111:68,118:[2,201],126:[2,201],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[2,201],137:[2,201],138:[2,201],139:[2,201]},{1:[2,202],6:[2,202],25:[2,202],26:[2,202],49:[2,202],54:[2,202],57:[2,202],73:[2,202],78:[2,202],86:[2,202],91:[2,202],93:[2,202],102:[2,202],103:84,104:[2,202],105:[2,202],106:[2,202],109:85,110:[2,202],111:68,118:[2,202],126:[2,202],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,202],138:[2,202],139:[1,82]},{1:[2,203],6:[2,203],25:[2,203],26:[2,203],49:[2,203],54:[2,203],57:[2,203],73:[2,203],78:[2,203],86:[2,203],91:[2,203],93:[2,203],102:[2,203],103:84,104:[2,203],105:[2,203],106:[2,203],109:85,110:[2,203],111:68,118:[2,203],126:[2,203],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[2,203],139:[1,82]},{1:[2,204],6:[2,204],25:[2,204],26:[2,204],49:[2,204],54:[2,204],57:[2,204],73:[2,204],78:[2,204],86:[2,204],91:[2,204],93:[2,204],102:[2,204],103:84,104:[2,204],105:[2,204],106:[2,204],109:85,110:[2,204],111:68,118:[2,204],126:[2,204],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[2,204],138:[2,204],139:[2,204]},{1:[2,187],6:[2,187],25:[2,187],26:[2,187],49:[2,187],54:[2,187],57:[2,187],73:[2,187],78:[2,187],86:[2,187],91:[2,187],93:[2,187],102:[2,187],103:84,104:[1,64],105:[2,187],106:[1,65],109:85,110:[1,67],111:68,118:[2,187],126:[2,187],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,186],6:[2,186],25:[2,186],26:[2,186],49:[2,186],54:[2,186],57:[2,186],73:[2,186],78:[2,186],86:[2,186],91:[2,186],93:[2,186],102:[2,186],103:84,104:[1,64],105:[2,186],106:[1,65],109:85,110:[1,67],111:68,118:[2,186],126:[2,186],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,104],6:[2,104],25:[2,104],26:[2,104],49:[2,104],54:[2,104],57:[2,104],66:[2,104],67:[2,104],68:[2,104],69:[2,104],71:[2,104],73:[2,104],74:[2,104],78:[2,104],84:[2,104],85:[2,104],86:[2,104],91:[2,104],93:[2,104],102:[2,104],104:[2,104],105:[2,104],106:[2,104],110:[2,104],118:[2,104],126:[2,104],129:[2,104],130:[2,104],133:[2,104],134:[2,104],135:[2,104],136:[2,104],137:[2,104],138:[2,104],139:[2,104]},{1:[2,80],6:[2,80],25:[2,80],26:[2,80],40:[2,80],49:[2,80],54:[2,80],57:[2,80],66:[2,80],67:[2,80],68:[2,80],69:[2,80],71:[2,80],73:[2,80],74:[2,80],78:[2,80],80:[2,80],84:[2,80],85:[2,80],86:[2,80],91:[2,80],93:[2,80],102:[2,80],104:[2,80],105:[2,80],106:[2,80],110:[2,80],118:[2,80],126:[2,80],129:[2,80],130:[2,80],131:[2,80],132:[2,80],133:[2,80],134:[2,80],135:[2,80],136:[2,80],137:[2,80],138:[2,80],139:[2,80],140:[2,80]},{1:[2,81],6:[2,81],25:[2,81],26:[2,81],40:[2,81],49:[2,81],54:[2,81],57:[2,81],66:[2,81],67:[2,81],68:[2,81],69:[2,81],71:[2,81],73:[2,81],74:[2,81],78:[2,81],80:[2,81],84:[2,81],85:[2,81],86:[2,81],91:[2,81],93:[2,81],102:[2,81],104:[2,81],105:[2,81],106:[2,81],110:[2,81],118:[2,81],126:[2,81],129:[2,81],130:[2,81],131:[2,81],132:[2,81],133:[2,81],134:[2,81],135:[2,81],136:[2,81],137:[2,81],138:[2,81],139:[2,81],140:[2,81]},{1:[2,82],6:[2,82],25:[2,82],26:[2,82],40:[2,82],49:[2,82],54:[2,82],57:[2,82],66:[2,82],67:[2,82],68:[2,82],69:[2,82],71:[2,82],73:[2,82],74:[2,82],78:[2,82],80:[2,82],84:[2,82],85:[2,82],86:[2,82],91:[2,82],93:[2,82],102:[2,82],104:[2,82],105:[2,82],106:[2,82],110:[2,82],118:[2,82],126:[2,82],129:[2,82],130:[2,82],131:[2,82],132:[2,82],133:[2,82],134:[2,82],135:[2,82],136:[2,82],137:[2,82],138:[2,82],139:[2,82],140:[2,82]},{1:[2,83],6:[2,83],25:[2,83],26:[2,83],40:[2,83],49:[2,83],54:[2,83],57:[2,83],66:[2,83],67:[2,83],68:[2,83],69:[2,83],71:[2,83],73:[2,83],74:[2,83],78:[2,83],80:[2,83],84:[2,83],85:[2,83],86:[2,83],91:[2,83],93:[2,83],102:[2,83],104:[2,83],105:[2,83],106:[2,83],110:[2,83],118:[2,83],126:[2,83],129:[2,83],130:[2,83],131:[2,83],132:[2,83],133:[2,83],134:[2,83],135:[2,83],136:[2,83],137:[2,83],138:[2,83],139:[2,83],140:[2,83]},{73:[1,244]},{57:[1,195],73:[2,88],92:245,93:[1,194],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{73:[2,89]},{7:246,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,123],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{11:[2,117],28:[2,117],30:[2,117],31:[2,117],33:[2,117],34:[2,117],35:[2,117],36:[2,117],37:[2,117],38:[2,117],45:[2,117],46:[2,117],47:[2,117],51:[2,117],52:[2,117],73:[2,117],76:[2,117],79:[2,117],83:[2,117],88:[2,117],89:[2,117],90:[2,117],96:[2,117],100:[2,117],101:[2,117],104:[2,117],106:[2,117],108:[2,117],110:[2,117],119:[2,117],125:[2,117],127:[2,117],128:[2,117],129:[2,117],130:[2,117],131:[2,117],132:[2,117]},{11:[2,118],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],73:[2,118],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{1:[2,87],6:[2,87],25:[2,87],26:[2,87],40:[2,87],49:[2,87],54:[2,87],57:[2,87],66:[2,87],67:[2,87],68:[2,87],69:[2,87],71:[2,87],73:[2,87],74:[2,87],78:[2,87],80:[2,87],84:[2,87],85:[2,87],86:[2,87],91:[2,87],93:[2,87],102:[2,87],104:[2,87],105:[2,87],106:[2,87],110:[2,87],118:[2,87],126:[2,87],129:[2,87],130:[2,87],131:[2,87],132:[2,87],133:[2,87],134:[2,87],135:[2,87],136:[2,87],137:[2,87],138:[2,87],139:[2,87],140:[2,87]},{1:[2,105],6:[2,105],25:[2,105],26:[2,105],49:[2,105],54:[2,105],57:[2,105],66:[2,105],67:[2,105],68:[2,105],69:[2,105],71:[2,105],73:[2,105],74:[2,105],78:[2,105],84:[2,105],85:[2,105],86:[2,105],91:[2,105],93:[2,105],102:[2,105],104:[2,105],105:[2,105],106:[2,105],110:[2,105],118:[2,105],126:[2,105],129:[2,105],130:[2,105],133:[2,105],134:[2,105],135:[2,105],136:[2,105],137:[2,105],138:[2,105],139:[2,105]},{1:[2,35],6:[2,35],25:[2,35],26:[2,35],49:[2,35],54:[2,35],57:[2,35],73:[2,35],78:[2,35],86:[2,35],91:[2,35],93:[2,35],102:[2,35],103:84,104:[2,35],105:[2,35],106:[2,35],109:85,110:[2,35],111:68,118:[2,35],126:[2,35],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:247,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:248,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,110],6:[2,110],25:[2,110],26:[2,110],49:[2,110],54:[2,110],57:[2,110],66:[2,110],67:[2,110],68:[2,110],69:[2,110],71:[2,110],73:[2,110],74:[2,110],78:[2,110],84:[2,110],85:[2,110],86:[2,110],91:[2,110],93:[2,110],102:[2,110],104:[2,110],105:[2,110],106:[2,110],110:[2,110],118:[2,110],126:[2,110],129:[2,110],130:[2,110],133:[2,110],134:[2,110],135:[2,110],136:[2,110],137:[2,110],138:[2,110],139:[2,110]},{6:[2,52],25:[2,52],53:249,54:[1,232],86:[2,52]},{6:[2,129],25:[2,129],26:[2,129],54:[2,129],57:[1,250],86:[2,129],91:[2,129],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{50:251,51:[1,59],52:[1,60]},{6:[2,53],25:[2,53],26:[2,53],27:108,28:[1,72],44:109,55:252,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[1,253],25:[1,254]},{6:[2,60],25:[2,60],26:[2,60],49:[2,60],54:[2,60]},{7:255,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,23],6:[2,23],25:[2,23],26:[2,23],49:[2,23],54:[2,23],57:[2,23],73:[2,23],78:[2,23],86:[2,23],91:[2,23],93:[2,23],98:[2,23],99:[2,23],102:[2,23],104:[2,23],105:[2,23],106:[2,23],110:[2,23],118:[2,23],121:[2,23],123:[2,23],126:[2,23],129:[2,23],130:[2,23],133:[2,23],134:[2,23],135:[2,23],136:[2,23],137:[2,23],138:[2,23],139:[2,23]},{6:[1,73],26:[1,256]},{1:[2,205],6:[2,205],25:[2,205],26:[2,205],49:[2,205],54:[2,205],57:[2,205],73:[2,205],78:[2,205],86:[2,205],91:[2,205],93:[2,205],102:[2,205],103:84,104:[2,205],105:[2,205],106:[2,205],109:85,110:[2,205],111:68,118:[2,205],126:[2,205],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:257,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:258,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,208],6:[2,208],25:[2,208],26:[2,208],49:[2,208],54:[2,208],57:[2,208],73:[2,208],78:[2,208],86:[2,208],91:[2,208],93:[2,208],102:[2,208],103:84,104:[2,208],105:[2,208],106:[2,208],109:85,110:[2,208],111:68,118:[2,208],126:[2,208],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,185],6:[2,185],25:[2,185],26:[2,185],49:[2,185],54:[2,185],57:[2,185],73:[2,185],78:[2,185],86:[2,185],91:[2,185],93:[2,185],102:[2,185],104:[2,185],105:[2,185],106:[2,185],110:[2,185],118:[2,185],126:[2,185],129:[2,185],130:[2,185],133:[2,185],134:[2,185],135:[2,185],136:[2,185],137:[2,185],138:[2,185],139:[2,185]},{7:259,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,135],6:[2,135],25:[2,135],26:[2,135],49:[2,135],54:[2,135],57:[2,135],73:[2,135],78:[2,135],86:[2,135],91:[2,135],93:[2,135],98:[1,260],102:[2,135],104:[2,135],105:[2,135],106:[2,135],110:[2,135],118:[2,135],126:[2,135],129:[2,135],130:[2,135],133:[2,135],134:[2,135],135:[2,135],136:[2,135],137:[2,135],138:[2,135],139:[2,135]},{24:261,25:[1,115]},{24:264,25:[1,115],27:262,28:[1,72],59:263,76:[1,69]},{120:265,122:222,123:[1,223]},{26:[1,266],121:[1,267],122:268,123:[1,223]},{26:[2,178],121:[2,178],123:[2,178]},{7:270,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],95:269,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,98],6:[2,98],24:271,25:[1,115],26:[2,98],49:[2,98],54:[2,98],57:[2,98],73:[2,98],78:[2,98],86:[2,98],91:[2,98],93:[2,98],102:[2,98],103:84,104:[1,64],105:[2,98],106:[1,65],109:85,110:[1,67],111:68,118:[2,98],126:[2,98],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,101],6:[2,101],25:[2,101],26:[2,101],49:[2,101],54:[2,101],57:[2,101],73:[2,101],78:[2,101],86:[2,101],91:[2,101],93:[2,101],102:[2,101],104:[2,101],105:[2,101],106:[2,101],110:[2,101],118:[2,101],126:[2,101],129:[2,101],130:[2,101],133:[2,101],134:[2,101],135:[2,101],136:[2,101],137:[2,101],138:[2,101],139:[2,101]},{7:272,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,142],6:[2,142],25:[2,142],26:[2,142],49:[2,142],54:[2,142],57:[2,142],66:[2,142],67:[2,142],68:[2,142],69:[2,142],71:[2,142],73:[2,142],74:[2,142],78:[2,142],84:[2,142],85:[2,142],86:[2,142],91:[2,142],93:[2,142],102:[2,142],104:[2,142],105:[2,142],106:[2,142],110:[2,142],118:[2,142],126:[2,142],129:[2,142],130:[2,142],133:[2,142],134:[2,142],135:[2,142],136:[2,142],137:[2,142],138:[2,142],139:[2,142]},{6:[1,73],26:[1,273]},{7:274,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,67],11:[2,118],25:[2,67],28:[2,118],30:[2,118],31:[2,118],33:[2,118],34:[2,118],35:[2,118],36:[2,118],37:[2,118],38:[2,118],45:[2,118],46:[2,118],47:[2,118],51:[2,118],52:[2,118],54:[2,67],76:[2,118],79:[2,118],83:[2,118],88:[2,118],89:[2,118],90:[2,118],91:[2,67],96:[2,118],100:[2,118],101:[2,118],104:[2,118],106:[2,118],108:[2,118],110:[2,118],119:[2,118],125:[2,118],127:[2,118],128:[2,118],129:[2,118],130:[2,118],131:[2,118],132:[2,118]},{6:[1,276],25:[1,277],91:[1,275]},{6:[2,53],7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[2,53],26:[2,53],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],86:[2,53],88:[1,57],89:[1,58],90:[1,56],91:[2,53],94:278,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,52],25:[2,52],26:[2,52],53:279,54:[1,232]},{1:[2,182],6:[2,182],25:[2,182],26:[2,182],49:[2,182],54:[2,182],57:[2,182],73:[2,182],78:[2,182],86:[2,182],91:[2,182],93:[2,182],102:[2,182],104:[2,182],105:[2,182],106:[2,182],110:[2,182],118:[2,182],121:[2,182],126:[2,182],129:[2,182],130:[2,182],133:[2,182],134:[2,182],135:[2,182],136:[2,182],137:[2,182],138:[2,182],139:[2,182]},{7:280,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:281,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{116:[2,160],117:[2,160]},{27:160,28:[1,72],44:161,58:162,59:163,76:[1,69],89:[1,112],90:[1,113],115:282},{1:[2,167],6:[2,167],25:[2,167],26:[2,167],49:[2,167],54:[2,167],57:[2,167],73:[2,167],78:[2,167],86:[2,167],91:[2,167],93:[2,167],102:[2,167],103:84,104:[2,167],105:[1,283],106:[2,167],109:85,110:[2,167],111:68,118:[1,284],126:[2,167],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,168],6:[2,168],25:[2,168],26:[2,168],49:[2,168],54:[2,168],57:[2,168],73:[2,168],78:[2,168],86:[2,168],91:[2,168],93:[2,168],102:[2,168],103:84,104:[2,168],105:[1,285],106:[2,168],109:85,110:[2,168],111:68,118:[2,168],126:[2,168],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,287],25:[1,288],78:[1,286]},{6:[2,53],10:170,25:[2,53],26:[2,53],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:289,42:169,44:173,46:[1,45],78:[2,53],89:[1,112]},{7:290,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,291],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,86],6:[2,86],25:[2,86],26:[2,86],40:[2,86],49:[2,86],54:[2,86],57:[2,86],66:[2,86],67:[2,86],68:[2,86],69:[2,86],71:[2,86],73:[2,86],74:[2,86],78:[2,86],80:[2,86],84:[2,86],85:[2,86],86:[2,86],91:[2,86],93:[2,86],102:[2,86],104:[2,86],105:[2,86],106:[2,86],110:[2,86],118:[2,86],126:[2,86],129:[2,86],130:[2,86],131:[2,86],132:[2,86],133:[2,86],134:[2,86],135:[2,86],136:[2,86],137:[2,86],138:[2,86],139:[2,86],140:[2,86]},{7:292,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,73:[2,121],76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,122],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,36],6:[2,36],25:[2,36],26:[2,36],49:[2,36],54:[2,36],57:[2,36],73:[2,36],78:[2,36],86:[2,36],91:[2,36],93:[2,36],102:[2,36],103:84,104:[2,36],105:[2,36],106:[2,36],109:85,110:[2,36],111:68,118:[2,36],126:[2,36],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{26:[1,293],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],86:[1,294]},{6:[2,67],25:[2,67],26:[2,67],54:[2,67],86:[2,67],91:[2,67]},{24:295,25:[1,115]},{6:[2,56],25:[2,56],26:[2,56],49:[2,56],54:[2,56]},{27:108,28:[1,72],44:109,55:296,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,54],25:[2,54],26:[2,54],27:108,28:[1,72],44:109,48:297,54:[2,54],55:105,56:106,57:[1,107],58:110,59:111,76:[1,69],89:[1,112],90:[1,113]},{6:[2,61],25:[2,61],26:[2,61],49:[2,61],54:[2,61],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,24],6:[2,24],25:[2,24],26:[2,24],49:[2,24],54:[2,24],57:[2,24],73:[2,24],78:[2,24],86:[2,24],91:[2,24],93:[2,24],98:[2,24],99:[2,24],102:[2,24],104:[2,24],105:[2,24],106:[2,24],110:[2,24],118:[2,24],121:[2,24],123:[2,24],126:[2,24],129:[2,24],130:[2,24],133:[2,24],134:[2,24],135:[2,24],136:[2,24],137:[2,24],138:[2,24],139:[2,24]},{26:[1,298],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,207],6:[2,207],25:[2,207],26:[2,207],49:[2,207],54:[2,207],57:[2,207],73:[2,207],78:[2,207],86:[2,207],91:[2,207],93:[2,207],102:[2,207],103:84,104:[2,207],105:[2,207],106:[2,207],109:85,110:[2,207],111:68,118:[2,207],126:[2,207],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:299,25:[1,115],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{24:300,25:[1,115]},{1:[2,136],6:[2,136],25:[2,136],26:[2,136],49:[2,136],54:[2,136],57:[2,136],73:[2,136],78:[2,136],86:[2,136],91:[2,136],93:[2,136],102:[2,136],104:[2,136],105:[2,136],106:[2,136],110:[2,136],118:[2,136],126:[2,136],129:[2,136],130:[2,136],133:[2,136],134:[2,136],135:[2,136],136:[2,136],137:[2,136],138:[2,136],139:[2,136]},{24:301,25:[1,115]},{24:302,25:[1,115]},{1:[2,140],6:[2,140],25:[2,140],26:[2,140],49:[2,140],54:[2,140],57:[2,140],73:[2,140],78:[2,140],86:[2,140],91:[2,140],93:[2,140],98:[2,140],102:[2,140],104:[2,140],105:[2,140],106:[2,140],110:[2,140],118:[2,140],126:[2,140],129:[2,140],130:[2,140],133:[2,140],134:[2,140],135:[2,140],136:[2,140],137:[2,140],138:[2,140],139:[2,140]},{26:[1,303],121:[1,304],122:268,123:[1,223]},{1:[2,176],6:[2,176],25:[2,176],26:[2,176],49:[2,176],54:[2,176],57:[2,176],73:[2,176],78:[2,176],86:[2,176],91:[2,176],93:[2,176],102:[2,176],104:[2,176],105:[2,176],106:[2,176],110:[2,176],118:[2,176],126:[2,176],129:[2,176],130:[2,176],133:[2,176],134:[2,176],135:[2,176],136:[2,176],137:[2,176],138:[2,176],139:[2,176]},{24:305,25:[1,115]},{26:[2,179],121:[2,179],123:[2,179]},{24:306,25:[1,115],54:[1,307]},{25:[2,132],54:[2,132],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,99],6:[2,99],25:[2,99],26:[2,99],49:[2,99],54:[2,99],57:[2,99],73:[2,99],78:[2,99],86:[2,99],91:[2,99],93:[2,99],102:[2,99],104:[2,99],105:[2,99],106:[2,99],110:[2,99],118:[2,99],126:[2,99],129:[2,99],130:[2,99],133:[2,99],134:[2,99],135:[2,99],136:[2,99],137:[2,99],138:[2,99],139:[2,99]},{1:[2,102],6:[2,102],24:308,25:[1,115],26:[2,102],49:[2,102],54:[2,102],57:[2,102],73:[2,102],78:[2,102],86:[2,102],91:[2,102],93:[2,102],102:[2,102],103:84,104:[1,64],105:[2,102],106:[1,65],109:85,110:[1,67],111:68,118:[2,102],126:[2,102],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{102:[1,309]},{91:[1,310],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,116],6:[2,116],25:[2,116],26:[2,116],40:[2,116],49:[2,116],54:[2,116],57:[2,116],66:[2,116],67:[2,116],68:[2,116],69:[2,116],71:[2,116],73:[2,116],74:[2,116],78:[2,116],84:[2,116],85:[2,116],86:[2,116],91:[2,116],93:[2,116],102:[2,116],104:[2,116],105:[2,116],106:[2,116],110:[2,116],116:[2,116],117:[2,116],118:[2,116],126:[2,116],129:[2,116],130:[2,116],133:[2,116],134:[2,116],135:[2,116],136:[2,116],137:[2,116],138:[2,116],139:[2,116]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],94:311,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:203,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,25:[1,147],27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],57:[1,149],58:46,59:47,60:148,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],87:312,88:[1,57],89:[1,58],90:[1,56],94:146,96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[2,125],25:[2,125],26:[2,125],54:[2,125],86:[2,125],91:[2,125]},{6:[1,276],25:[1,277],26:[1,313]},{1:[2,145],6:[2,145],25:[2,145],26:[2,145],49:[2,145],54:[2,145],57:[2,145],73:[2,145],78:[2,145],86:[2,145],91:[2,145],93:[2,145],102:[2,145],103:84,104:[1,64],105:[2,145],106:[1,65],109:85,110:[1,67],111:68,118:[2,145],126:[2,145],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,147],6:[2,147],25:[2,147],26:[2,147],49:[2,147],54:[2,147],57:[2,147],73:[2,147],78:[2,147],86:[2,147],91:[2,147],93:[2,147],102:[2,147],103:84,104:[1,64],105:[2,147],106:[1,65],109:85,110:[1,67],111:68,118:[2,147],126:[2,147],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{116:[2,166],117:[2,166]},{7:314,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:315,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:316,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,90],6:[2,90],25:[2,90],26:[2,90],40:[2,90],49:[2,90],54:[2,90],57:[2,90],66:[2,90],67:[2,90],68:[2,90],69:[2,90],71:[2,90],73:[2,90],74:[2,90],78:[2,90],84:[2,90],85:[2,90],86:[2,90],91:[2,90],93:[2,90],102:[2,90],104:[2,90],105:[2,90],106:[2,90],110:[2,90],116:[2,90],117:[2,90],118:[2,90],126:[2,90],129:[2,90],130:[2,90],133:[2,90],134:[2,90],135:[2,90],136:[2,90],137:[2,90],138:[2,90],139:[2,90]},{10:170,27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:317,42:169,44:173,46:[1,45],89:[1,112]},{6:[2,91],10:170,25:[2,91],26:[2,91],27:171,28:[1,72],29:172,30:[1,70],31:[1,71],41:168,42:169,44:173,46:[1,45],54:[2,91],77:318,89:[1,112]},{6:[2,93],25:[2,93],26:[2,93],54:[2,93],78:[2,93]},{6:[2,39],25:[2,39],26:[2,39],54:[2,39],78:[2,39],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{7:319,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{73:[2,120],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,37],6:[2,37],25:[2,37],26:[2,37],49:[2,37],54:[2,37],57:[2,37],73:[2,37],78:[2,37],86:[2,37],91:[2,37],93:[2,37],102:[2,37],104:[2,37],105:[2,37],106:[2,37],110:[2,37],118:[2,37],126:[2,37],129:[2,37],130:[2,37],133:[2,37],134:[2,37],135:[2,37],136:[2,37],137:[2,37],138:[2,37],139:[2,37]},{1:[2,111],6:[2,111],25:[2,111],26:[2,111],49:[2,111],54:[2,111],57:[2,111],66:[2,111],67:[2,111],68:[2,111],69:[2,111],71:[2,111],73:[2,111],74:[2,111],78:[2,111],84:[2,111],85:[2,111],86:[2,111],91:[2,111],93:[2,111],102:[2,111],104:[2,111],105:[2,111],106:[2,111],110:[2,111],118:[2,111],126:[2,111],129:[2,111],130:[2,111],133:[2,111],134:[2,111],135:[2,111],136:[2,111],137:[2,111],138:[2,111],139:[2,111]},{1:[2,48],6:[2,48],25:[2,48],26:[2,48],49:[2,48],54:[2,48],57:[2,48],73:[2,48],78:[2,48],86:[2,48],91:[2,48],93:[2,48],102:[2,48],104:[2,48],105:[2,48],106:[2,48],110:[2,48],118:[2,48],126:[2,48],129:[2,48],130:[2,48],133:[2,48],134:[2,48],135:[2,48],136:[2,48],137:[2,48],138:[2,48],139:[2,48]},{6:[2,57],25:[2,57],26:[2,57],49:[2,57],54:[2,57]},{6:[2,52],25:[2,52],26:[2,52],53:320,54:[1,205]},{1:[2,206],6:[2,206],25:[2,206],26:[2,206],49:[2,206],54:[2,206],57:[2,206],73:[2,206],78:[2,206],86:[2,206],91:[2,206],93:[2,206],102:[2,206],104:[2,206],105:[2,206],106:[2,206],110:[2,206],118:[2,206],126:[2,206],129:[2,206],130:[2,206],133:[2,206],134:[2,206],135:[2,206],136:[2,206],137:[2,206],138:[2,206],139:[2,206]},{1:[2,183],6:[2,183],25:[2,183],26:[2,183],49:[2,183],54:[2,183],57:[2,183],73:[2,183],78:[2,183],86:[2,183],91:[2,183],93:[2,183],102:[2,183],104:[2,183],105:[2,183],106:[2,183],110:[2,183],118:[2,183],121:[2,183],126:[2,183],129:[2,183],130:[2,183],133:[2,183],134:[2,183],135:[2,183],136:[2,183],137:[2,183],138:[2,183],139:[2,183]},{1:[2,137],6:[2,137],25:[2,137],26:[2,137],49:[2,137],54:[2,137],57:[2,137],73:[2,137],78:[2,137],86:[2,137],91:[2,137],93:[2,137],102:[2,137],104:[2,137],105:[2,137],106:[2,137],110:[2,137],118:[2,137],126:[2,137],129:[2,137],130:[2,137],133:[2,137],134:[2,137],135:[2,137],136:[2,137],137:[2,137],138:[2,137],139:[2,137]},{1:[2,138],6:[2,138],25:[2,138],26:[2,138],49:[2,138],54:[2,138],57:[2,138],73:[2,138],78:[2,138],86:[2,138],91:[2,138],93:[2,138],98:[2,138],102:[2,138],104:[2,138],105:[2,138],106:[2,138],110:[2,138],118:[2,138],126:[2,138],129:[2,138],130:[2,138],133:[2,138],134:[2,138],135:[2,138],136:[2,138],137:[2,138],138:[2,138],139:[2,138]},{1:[2,139],6:[2,139],25:[2,139],26:[2,139],49:[2,139],54:[2,139],57:[2,139],73:[2,139],78:[2,139],86:[2,139],91:[2,139],93:[2,139],98:[2,139],102:[2,139],104:[2,139],105:[2,139],106:[2,139],110:[2,139],118:[2,139],126:[2,139],129:[2,139],130:[2,139],133:[2,139],134:[2,139],135:[2,139],136:[2,139],137:[2,139],138:[2,139],139:[2,139]},{1:[2,174],6:[2,174],25:[2,174],26:[2,174],49:[2,174],54:[2,174],57:[2,174],73:[2,174],78:[2,174],86:[2,174],91:[2,174],93:[2,174],102:[2,174],104:[2,174],105:[2,174],106:[2,174],110:[2,174],118:[2,174],126:[2,174],129:[2,174],130:[2,174],133:[2,174],134:[2,174],135:[2,174],136:[2,174],137:[2,174],138:[2,174],139:[2,174]},{24:321,25:[1,115]},{26:[1,322]},{6:[1,323],26:[2,180],121:[2,180],123:[2,180]},{7:324,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{1:[2,103],6:[2,103],25:[2,103],26:[2,103],49:[2,103],54:[2,103],57:[2,103],73:[2,103],78:[2,103],86:[2,103],91:[2,103],93:[2,103],102:[2,103],104:[2,103],105:[2,103],106:[2,103],110:[2,103],118:[2,103],126:[2,103],129:[2,103],130:[2,103],133:[2,103],134:[2,103],135:[2,103],136:[2,103],137:[2,103],138:[2,103],139:[2,103]},{1:[2,143],6:[2,143],25:[2,143],26:[2,143],49:[2,143],54:[2,143],57:[2,143],66:[2,143],67:[2,143],68:[2,143],69:[2,143],71:[2,143],73:[2,143],74:[2,143],78:[2,143],84:[2,143],85:[2,143],86:[2,143],91:[2,143],93:[2,143],102:[2,143],104:[2,143],105:[2,143],106:[2,143],110:[2,143],118:[2,143],126:[2,143],129:[2,143],130:[2,143],133:[2,143],134:[2,143],135:[2,143],136:[2,143],137:[2,143],138:[2,143],139:[2,143]},{1:[2,119],6:[2,119],25:[2,119],26:[2,119],49:[2,119],54:[2,119],57:[2,119],66:[2,119],67:[2,119],68:[2,119],69:[2,119],71:[2,119],73:[2,119],74:[2,119],78:[2,119],84:[2,119],85:[2,119],86:[2,119],91:[2,119],93:[2,119],102:[2,119],104:[2,119],105:[2,119],106:[2,119],110:[2,119],118:[2,119],126:[2,119],129:[2,119],130:[2,119],133:[2,119],134:[2,119],135:[2,119],136:[2,119],137:[2,119],138:[2,119],139:[2,119]},{6:[2,126],25:[2,126],26:[2,126],54:[2,126],86:[2,126],91:[2,126]},{6:[2,52],25:[2,52],26:[2,52],53:325,54:[1,232]},{6:[2,127],25:[2,127],26:[2,127],54:[2,127],86:[2,127],91:[2,127]},{1:[2,169],6:[2,169],25:[2,169],26:[2,169],49:[2,169],54:[2,169],57:[2,169],73:[2,169],78:[2,169],86:[2,169],91:[2,169],93:[2,169],102:[2,169],103:84,104:[2,169],105:[2,169],106:[2,169],109:85,110:[2,169],111:68,118:[1,326],126:[2,169],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,171],6:[2,171],25:[2,171],26:[2,171],49:[2,171],54:[2,171],57:[2,171],73:[2,171],78:[2,171],86:[2,171],91:[2,171],93:[2,171],102:[2,171],103:84,104:[2,171],105:[1,327],106:[2,171],109:85,110:[2,171],111:68,118:[2,171],126:[2,171],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,170],6:[2,170],25:[2,170],26:[2,170],49:[2,170],54:[2,170],57:[2,170],73:[2,170],78:[2,170],86:[2,170],91:[2,170],93:[2,170],102:[2,170],103:84,104:[2,170],105:[2,170],106:[2,170],109:85,110:[2,170],111:68,118:[2,170],126:[2,170],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,94],25:[2,94],26:[2,94],54:[2,94],78:[2,94]},{6:[2,52],25:[2,52],26:[2,52],53:328,54:[1,242]},{26:[1,329],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,253],25:[1,254],26:[1,330]},{26:[1,331]},{1:[2,177],6:[2,177],25:[2,177],26:[2,177],49:[2,177],54:[2,177],57:[2,177],73:[2,177],78:[2,177],86:[2,177],91:[2,177],93:[2,177],102:[2,177],104:[2,177],105:[2,177],106:[2,177],110:[2,177],118:[2,177],126:[2,177],129:[2,177],130:[2,177],133:[2,177],134:[2,177],135:[2,177],136:[2,177],137:[2,177],138:[2,177],139:[2,177]},{26:[2,181],121:[2,181],123:[2,181]},{25:[2,133],54:[2,133],103:84,104:[1,64],106:[1,65],109:85,110:[1,67],111:68,126:[1,83],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[1,276],25:[1,277],26:[1,332]},{7:333,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{7:334,8:117,9:18,10:19,11:[1,20],12:6,13:7,14:8,15:9,16:10,17:11,18:12,19:13,20:14,21:15,22:16,23:17,27:61,28:[1,72],29:48,30:[1,70],31:[1,71],32:22,33:[1,49],34:[1,50],35:[1,51],36:[1,52],37:[1,53],38:[1,54],39:21,44:62,45:[1,44],46:[1,45],47:[1,27],50:28,51:[1,59],52:[1,60],58:46,59:47,61:35,63:23,64:24,65:25,76:[1,69],79:[1,42],83:[1,26],88:[1,57],89:[1,58],90:[1,56],96:[1,37],100:[1,43],101:[1,55],103:38,104:[1,64],106:[1,65],107:39,108:[1,66],109:40,110:[1,67],111:68,119:[1,41],124:36,125:[1,63],127:[1,29],128:[1,30],129:[1,31],130:[1,32],131:[1,33],132:[1,34]},{6:[1,287],25:[1,288],26:[1,335]},{6:[2,40],25:[2,40],26:[2,40],54:[2,40],78:[2,40]},{6:[2,58],25:[2,58],26:[2,58],49:[2,58],54:[2,58]},{1:[2,175],6:[2,175],25:[2,175],26:[2,175],49:[2,175],54:[2,175],57:[2,175],73:[2,175],78:[2,175],86:[2,175],91:[2,175],93:[2,175],102:[2,175],104:[2,175],105:[2,175],106:[2,175],110:[2,175],118:[2,175],126:[2,175],129:[2,175],130:[2,175],133:[2,175],134:[2,175],135:[2,175],136:[2,175],137:[2,175],138:[2,175],139:[2,175]},{6:[2,128],25:[2,128],26:[2,128],54:[2,128],86:[2,128],91:[2,128]},{1:[2,172],6:[2,172],25:[2,172],26:[2,172],49:[2,172],54:[2,172],57:[2,172],73:[2,172],78:[2,172],86:[2,172],91:[2,172],93:[2,172],102:[2,172],103:84,104:[2,172],105:[2,172],106:[2,172],109:85,110:[2,172],111:68,118:[2,172],126:[2,172],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{1:[2,173],6:[2,173],25:[2,173],26:[2,173],49:[2,173],54:[2,173],57:[2,173],73:[2,173],78:[2,173],86:[2,173],91:[2,173],93:[2,173],102:[2,173],103:84,104:[2,173],105:[2,173],106:[2,173],109:85,110:[2,173],111:68,118:[2,173],126:[2,173],129:[1,76],130:[1,75],133:[1,74],134:[1,77],135:[1,78],136:[1,79],137:[1,80],138:[1,81],139:[1,82]},{6:[2,95],25:[2,95],26:[2,95],54:[2,95],78:[2,95]}],defaultActions:{59:[2,50],60:[2,51],91:[2,109],192:[2,89]},parseError:function(e,t){if(!t.recoverable)throw Error(e);
this.trace(e)},parse:function(e){function t(){var e;return e=n.lexer.lex()||h,"number"!=typeof e&&(e=n.symbols_[e]||e),e}var n=this,r=[0],i=[null],o=[],a=this.table,s="",l=0,c=0,u=0,f=2,h=1,d=o.slice.call(arguments,1);this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;o.push(p);var m=this.lexer.options&&this.lexer.options.ranges;this.parseError="function"==typeof this.yy.parseError?this.yy.parseError:Object.getPrototypeOf(this).parseError;for(var g,v,y,b,w,k,x,C,S,L={};;){if(y=r[r.length-1],this.defaultActions[y]?b=this.defaultActions[y]:((null===g||void 0===g)&&(g=t()),b=a[y]&&a[y][g]),void 0===b||!b.length||!b[0]){var T="";S=[];for(k in a[y])this.terminals_[k]&&k>f&&S.push("'"+this.terminals_[k]+"'");T=this.lexer.showPosition?"Parse error on line "+(l+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+S.join(", ")+", got '"+(this.terminals_[g]||g)+"'":"Parse error on line "+(l+1)+": Unexpected "+(g==h?"end of input":"'"+(this.terminals_[g]||g)+"'"),this.parseError(T,{text:this.lexer.match,token:this.terminals_[g]||g,line:this.lexer.yylineno,loc:p,expected:S})}if(b[0]instanceof Array&&b.length>1)throw Error("Parse Error: multiple actions possible at state: "+y+", token: "+g);switch(b[0]){case 1:r.push(g),i.push(this.lexer.yytext),o.push(this.lexer.yylloc),r.push(b[1]),g=null,v?(g=v,v=null):(c=this.lexer.yyleng,s=this.lexer.yytext,l=this.lexer.yylineno,p=this.lexer.yylloc,u>0&&u--);break;case 2:if(x=this.productions_[b[1]][1],L.$=i[i.length-x],L._$={first_line:o[o.length-(x||1)].first_line,last_line:o[o.length-1].last_line,first_column:o[o.length-(x||1)].first_column,last_column:o[o.length-1].last_column},m&&(L._$.range=[o[o.length-(x||1)].range[0],o[o.length-1].range[1]]),w=this.performAction.apply(L,[s,c,l,this.yy,b[1],i,o].concat(d)),void 0!==w)return w;x&&(r=r.slice(0,-2*x),i=i.slice(0,-1*x),o=o.slice(0,-1*x)),r.push(this.productions_[b[1]][0]),i.push(L.$),o.push(L._$),C=a[r[r.length-2]][r[r.length-1]],r.push(C);break;case 3:return!0}}return!0}};return e.prototype=t,t.Parser=e,new e}();return void 0!==require&&void 0!==e&&(e.parser=n,e.Parser=n.Parser,e.parse=function(){return n.parse.apply(n,arguments)},e.main=function(t){t[1]||(console.log("Usage: "+t[0]+" FILE"),process.exit(1));var n=require("fs").readFileSync(require("path").normalize(t[1]),"utf8");return e.parser.parse(n)},void 0!==t&&require.main===t&&e.main(process.argv.slice(1))),t.exports}(),require["./scope"]=function(){var e={},t={exports:e};return function(){var t,n,r,i;i=require("./helpers"),n=i.extend,r=i.last,e.Scope=t=function(){function e(t,n,r){this.parent=t,this.expressions=n,this.method=r,this.variables=[{name:"arguments",type:"arguments"}],this.positions={},this.parent||(e.root=this)}return e.root=null,e.prototype.add=function(e,t,n){return this.shared&&!n?this.parent.add(e,t,n):Object.prototype.hasOwnProperty.call(this.positions,e)?this.variables[this.positions[e]].type=t:this.positions[e]=this.variables.push({name:e,type:t})-1},e.prototype.namedMethod=function(){var e;return(null!=(e=this.method)?e.name:void 0)||!this.parent?this.method:this.parent.namedMethod()},e.prototype.find=function(e){return this.check(e)?!0:(this.add(e,"var"),!1)},e.prototype.parameter=function(e){return this.shared&&this.parent.check(e,!0)?void 0:this.add(e,"param")},e.prototype.check=function(e){var t;return!!(this.type(e)||(null!=(t=this.parent)?t.check(e):void 0))},e.prototype.temporary=function(e,t){return e.length>1?"_"+e+(t>1?t-1:""):"_"+(t+parseInt(e,36)).toString(36).replace(/\d/g,"a")},e.prototype.type=function(e){var t,n,r,i;for(i=this.variables,n=0,r=i.length;r>n;n++)if(t=i[n],t.name===e)return t.type;return null},e.prototype.freeVariable=function(e,t){var n,r;for(null==t&&(t=!0),n=0;this.check(r=this.temporary(e,n));)n++;return t&&this.add(r,"var",!0),r},e.prototype.assign=function(e,t){return this.add(e,{value:t,assigned:!0},!0),this.hasAssignments=!0},e.prototype.hasDeclarations=function(){return!!this.declaredVariables().length},e.prototype.declaredVariables=function(){var e,t,n,r,i,o;for(e=[],t=[],o=this.variables,r=0,i=o.length;i>r;r++)n=o[r],"var"===n.type&&("_"===n.name.charAt(0)?t:e).push(n.name);return e.sort().concat(t.sort())},e.prototype.assignedVariables=function(){var e,t,n,r,i;for(r=this.variables,i=[],t=0,n=r.length;n>t;t++)e=r[t],e.type.assigned&&i.push(""+e.name+" = "+e.type.value);return i},e}()}.call(this),t.exports}(),require["./nodes"]=function(){var e={},t={exports:e};return function(){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w,k,x,C,S,L,T,M,A,N,E,O,_,F,I,R,D,$,B,j,P,H,W,q,z,U,V,K,G,J,X,Y,Q,Z,et,tt,nt,rt,it,ot,at,st,lt,ct,ut,ft,ht,dt,pt,mt,gt,vt,yt,bt,wt,kt,xt={}.hasOwnProperty,Ct=function(e,t){function n(){this.constructor=e}for(var r in t)xt.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},St=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},Lt=[].slice;Error.stackTraceLimit=1/0,q=require("./scope").Scope,wt=require("./lexer"),B=wt.RESERVED,W=wt.STRICT_PROSCRIBED,kt=require("./helpers"),nt=kt.compact,at=kt.flatten,ot=kt.extend,ht=kt.merge,rt=kt.del,gt=kt.starts,it=kt.ends,ut=kt.last,mt=kt.some,tt=kt.addLocationDataFn,ft=kt.locationDataToString,vt=kt.throwSyntaxError,e.extend=ot,e.addLocationDataFn=tt,et=function(){return!0},_=function(){return!1},G=function(){return this},O=function(){return this.negated=!this.negated,this},e.CodeFragment=c=function(){function e(e,t){var n;this.code=""+t,this.locationData=null!=e?e.locationData:void 0,this.type=(null!=e&&null!=(n=e.constructor)?n.name:void 0)||"unknown"}return e.prototype.toString=function(){return""+this.code+(this.locationData?": "+ft(this.locationData):"")},e}(),st=function(e){var t;return function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push(t.code);return i}().join("")},e.Base=i=function(){function e(){}return e.prototype.compile=function(e,t){return st(this.compileToFragments(e,t))},e.prototype.compileToFragments=function(e,t){var n;return e=ot({},e),t&&(e.level=t),n=this.unfoldSoak(e)||this,n.tab=e.indent,e.level!==A&&n.isStatement(e)?n.compileClosure(e):n.compileNode(e)},e.prototype.compileClosure=function(e){var n,r,i,s,c;return(s=this.jumps())&&s.error("cannot use a pure statement in an expression"),e.sharedScope=!0,i=new l([],o.wrap([this])),n=[],((r=this.contains(lt))||this.contains(ct))&&(n=[new N("this")],r?(c="apply",n.push(new N("arguments"))):c="call",i=new Q(i,[new t(new N(c))])),new a(i,n).compileNode(e)},e.prototype.cache=function(e,t,n){var i,o;return this.isComplex()?(i=new N(n||e.scope.freeVariable("ref")),o=new r(i,this),t?[o.compileToFragments(e,t),[this.makeCode(i.value)]]:[o,i]):(i=t?this.compileToFragments(e,t):this,[i,i])},e.prototype.cacheToCodeFragments=function(e){return[st(e[0]),st(e[1])]},e.prototype.makeReturn=function(e){var t;return t=this.unwrapAll(),e?new a(new N(""+e+".push"),[t]):new P(t)},e.prototype.contains=function(e){var t;return t=void 0,this.traverseChildren(!1,function(n){return e(n)?(t=n,!1):void 0}),t},e.prototype.lastNonComment=function(e){var t;for(t=e.length;t--;)if(!(e[t]instanceof u))return e[t];return null},e.prototype.toString=function(e,t){var n;return null==e&&(e=""),null==t&&(t=this.constructor.name),n="\n"+e+t,this.soak&&(n+="?"),this.eachChild(function(t){return n+=t.toString(e+K)}),n},e.prototype.eachChild=function(e){var t,n,r,i,o,a,s,l;if(!this.children)return this;for(s=this.children,r=0,o=s.length;o>r;r++)if(t=s[r],this[t])for(l=at([this[t]]),i=0,a=l.length;a>i;i++)if(n=l[i],e(n)===!1)return this;return this},e.prototype.traverseChildren=function(e,t){return this.eachChild(function(n){var r;return r=t(n),r!==!1?n.traverseChildren(e,t):void 0})},e.prototype.invert=function(){return new R("!",this)},e.prototype.unwrapAll=function(){var e;for(e=this;e!==(e=e.unwrap()););return e},e.prototype.children=[],e.prototype.isStatement=_,e.prototype.jumps=_,e.prototype.isComplex=et,e.prototype.isChainable=_,e.prototype.isAssignable=_,e.prototype.unwrap=G,e.prototype.unfoldSoak=_,e.prototype.assigns=_,e.prototype.updateLocationDataIfMissing=function(e){return this.locationData?this:(this.locationData=e,this.eachChild(function(t){return t.updateLocationDataIfMissing(e)}))},e.prototype.error=function(e){return vt(e,this.locationData)},e.prototype.makeCode=function(e){return new c(this,e)},e.prototype.wrapInBraces=function(e){return[].concat(this.makeCode("("),e,this.makeCode(")"))},e.prototype.joinFragmentArrays=function(e,t){var n,r,i,o,a;for(n=[],i=o=0,a=e.length;a>o;i=++o)r=e[i],i&&n.push(this.makeCode(t)),n=n.concat(r);return n},e}(),e.Block=o=function(e){function t(e){this.expressions=nt(at(e||[]))}return Ct(t,e),t.prototype.children=["expressions"],t.prototype.push=function(e){return this.expressions.push(e),this},t.prototype.pop=function(){return this.expressions.pop()},t.prototype.unshift=function(e){return this.expressions.unshift(e),this},t.prototype.unwrap=function(){return 1===this.expressions.length?this.expressions[0]:this},t.prototype.isEmpty=function(){return!this.expressions.length},t.prototype.isStatement=function(e){var t,n,r,i;for(i=this.expressions,n=0,r=i.length;r>n;n++)if(t=i[n],t.isStatement(e))return!0;return!1},t.prototype.jumps=function(e){var t,n,r,i,o;for(o=this.expressions,r=0,i=o.length;i>r;r++)if(t=o[r],n=t.jumps(e))return n},t.prototype.makeReturn=function(e){var t,n;for(n=this.expressions.length;n--;)if(t=this.expressions[n],!(t instanceof u)){this.expressions[n]=t.makeReturn(e),t instanceof P&&!t.expression&&this.expressions.splice(n,1);break}return this},t.prototype.compileToFragments=function(e,n){return null==e&&(e={}),e.scope?t.__super__.compileToFragments.call(this,e,n):this.compileRoot(e)},t.prototype.compileNode=function(e){var n,r,i,o,a,s,l,c,u;for(this.tab=e.indent,s=e.level===A,r=[],u=this.expressions,o=l=0,c=u.length;c>l;o=++l)a=u[o],a=a.unwrapAll(),a=a.unfoldSoak(e)||a,a instanceof t?r.push(a.compileNode(e)):s?(a.front=!0,i=a.compileToFragments(e),a.isStatement(e)||(i.unshift(this.makeCode(""+this.tab)),i.push(this.makeCode(";"))),r.push(i)):r.push(a.compileToFragments(e,L));return s?this.spaced?[].concat(this.joinFragmentArrays(r,"\n\n"),this.makeCode("\n")):this.joinFragmentArrays(r,"\n"):(n=r.length?this.joinFragmentArrays(r,", "):[this.makeCode("void 0")],r.length>1&&e.level>=L?this.wrapInBraces(n):n)},t.prototype.compileRoot=function(e){var t,n,r,i,o,a,s,l,c,f;for(e.indent=e.bare?"":K,e.level=A,this.spaced=!0,e.scope=new q(null,this,null),f=e.locals||[],l=0,c=f.length;c>l;l++)i=f[l],e.scope.parameter(i);return o=[],e.bare||(a=function(){var e,n,i,o;for(i=this.expressions,o=[],r=e=0,n=i.length;n>e&&(t=i[r],t.unwrap()instanceof u);r=++e)o.push(t);return o}.call(this),s=this.expressions.slice(a.length),this.expressions=a,a.length&&(o=this.compileNode(ht(e,{indent:""})),o.push(this.makeCode("\n"))),this.expressions=s),n=this.compileWithDeclarations(e),e.bare?n:[].concat(o,this.makeCode("(function() {\n"),n,this.makeCode("\n}).call(this);\n"))},t.prototype.compileWithDeclarations=function(e){var t,n,r,i,o,a,s,l,c,f,h,d,p,m;for(i=[],a=[],d=this.expressions,o=f=0,h=d.length;h>f&&(r=d[o],r=r.unwrap(),r instanceof u||r instanceof N);o=++f);return e=ht(e,{level:A}),o&&(s=this.expressions.splice(o,9e9),p=[this.spaced,!1],c=p[0],this.spaced=p[1],m=[this.compileNode(e),c],i=m[0],this.spaced=m[1],this.expressions=s),a=this.compileNode(e),l=e.scope,l.expressions===this&&(n=e.scope.hasDeclarations(),t=l.hasAssignments,n||t?(o&&i.push(this.makeCode("\n")),i.push(this.makeCode(""+this.tab+"var ")),n&&i.push(this.makeCode(l.declaredVariables().join(", "))),t&&(n&&i.push(this.makeCode(",\n"+(this.tab+K))),i.push(this.makeCode(l.assignedVariables().join(",\n"+(this.tab+K))))),i.push(this.makeCode(";\n"+(this.spaced?"\n":"")))):i.length&&a.length&&i.push(this.makeCode("\n"))),i.concat(a)},t.wrap=function(e){return 1===e.length&&e[0]instanceof t?e[0]:new t(e)},t}(i),e.Literal=N=function(e){function t(e){this.value=e}return Ct(t,e),t.prototype.makeReturn=function(){return this.isStatement()?this:t.__super__.makeReturn.apply(this,arguments)},t.prototype.isAssignable=function(){return g.test(this.value)},t.prototype.isStatement=function(){var e;return"break"===(e=this.value)||"continue"===e||"debugger"===e},t.prototype.isComplex=_,t.prototype.assigns=function(e){return e===this.value},t.prototype.jumps=function(e){return("break"!==this.value||(null!=e?e.loop:void 0)||(null!=e?e.block:void 0))&&("continue"!==this.value||(null!=e?e.loop:void 0))?void 0:this},t.prototype.compileNode=function(e){var t,n,r;return n="this"===this.value?(null!=(r=e.scope.method)?r.bound:void 0)?e.scope.method.context:this.value:this.value.reserved?'"'+this.value+'"':this.value,t=this.isStatement()?""+this.tab+n+";":n,[this.makeCode(t)]},t.prototype.toString=function(){return' "'+this.value+'"'},t}(i),e.Undefined=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ct(t,e),t.prototype.isAssignable=_,t.prototype.isComplex=_,t.prototype.compileNode=function(e){return[this.makeCode(e.level>=C?"(void 0)":"void 0")]},t}(i),e.Null=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ct(t,e),t.prototype.isAssignable=_,t.prototype.isComplex=_,t.prototype.compileNode=function(){return[this.makeCode("null")]},t}(i),e.Bool=function(e){function t(e){this.val=e}return Ct(t,e),t.prototype.isAssignable=_,t.prototype.isComplex=_,t.prototype.compileNode=function(){return[this.makeCode(this.val)]},t}(i),e.Return=P=function(e){function t(e){this.expression=e}return Ct(t,e),t.prototype.children=["expression"],t.prototype.isStatement=et,t.prototype.makeReturn=G,t.prototype.jumps=G,t.prototype.compileToFragments=function(e,n){var r,i;return r=null!=(i=this.expression)?i.makeReturn():void 0,!r||r instanceof t?t.__super__.compileToFragments.call(this,e,n):r.compileToFragments(e,n)},t.prototype.compileNode=function(e){var t;return t=[],t.push(this.makeCode(this.tab+("return"+(this.expression?" ":"")))),this.expression&&(t=t.concat(this.expression.compileToFragments(e,M))),t.push(this.makeCode(";")),t},t}(i),e.Value=Q=function(e){function t(e,n,r){return!n&&e instanceof t?e:(this.base=e,this.properties=n||[],r&&(this[r]=!0),this)}return Ct(t,e),t.prototype.children=["base","properties"],t.prototype.add=function(e){return this.properties=this.properties.concat(e),this},t.prototype.hasProperties=function(){return!!this.properties.length},t.prototype.bareLiteral=function(e){return!this.properties.length&&this.base instanceof e},t.prototype.isArray=function(){return this.bareLiteral(n)},t.prototype.isRange=function(){return this.bareLiteral(j)},t.prototype.isComplex=function(){return this.hasProperties()||this.base.isComplex()},t.prototype.isAssignable=function(){return this.hasProperties()||this.base.isAssignable()},t.prototype.isSimpleNumber=function(){return this.bareLiteral(N)&&H.test(this.base.value)},t.prototype.isString=function(){return this.bareLiteral(N)&&b.test(this.base.value)},t.prototype.isRegex=function(){return this.bareLiteral(N)&&y.test(this.base.value)},t.prototype.isAtomic=function(){var e,t,n,r;for(r=this.properties.concat(this.base),t=0,n=r.length;n>t;t++)if(e=r[t],e.soak||e instanceof a)return!1;return!0},t.prototype.isNotCallable=function(){return this.isSimpleNumber()||this.isString()||this.isRegex()||this.isArray()||this.isRange()||this.isSplice()||this.isObject()},t.prototype.isStatement=function(e){return!this.properties.length&&this.base.isStatement(e)},t.prototype.assigns=function(e){return!this.properties.length&&this.base.assigns(e)},t.prototype.jumps=function(e){return!this.properties.length&&this.base.jumps(e)},t.prototype.isObject=function(e){return this.properties.length?!1:this.base instanceof I&&(!e||this.base.generated)},t.prototype.isSplice=function(){return ut(this.properties)instanceof z},t.prototype.looksStatic=function(e){var t;return this.base.value===e&&this.properties.length&&"prototype"!==(null!=(t=this.properties[0].name)?t.value:void 0)},t.prototype.unwrap=function(){return this.properties.length?this:this.base},t.prototype.cacheReference=function(e){var n,i,o,a;return o=ut(this.properties),2>this.properties.length&&!this.base.isComplex()&&!(null!=o?o.isComplex():void 0)?[this,this]:(n=new t(this.base,this.properties.slice(0,-1)),n.isComplex()&&(i=new N(e.scope.freeVariable("base")),n=new t(new $(new r(i,n)))),o?(o.isComplex()&&(a=new N(e.scope.freeVariable("name")),o=new x(new r(a,o.index)),a=new x(a)),[n.add(o),new t(i||n.base,[a||o])]):[n,i])},t.prototype.compileNode=function(e){var t,n,r,i,o;for(this.base.front=this.front,r=this.properties,t=this.base.compileToFragments(e,r.length?C:null),(this.base instanceof $||r.length)&&H.test(st(t))&&t.push(this.makeCode(".")),i=0,o=r.length;o>i;i++)n=r[i],t.push.apply(t,n.compileToFragments(e));return t},t.prototype.unfoldSoak=function(e){return null!=this.unfoldedSoak?this.unfoldedSoak:this.unfoldedSoak=function(n){return function(){var i,o,a,s,l,c,u,h,d,p;if(a=n.base.unfoldSoak(e))return(d=a.body.properties).push.apply(d,n.properties),a;for(p=n.properties,o=u=0,h=p.length;h>u;o=++u)if(s=p[o],s.soak)return s.soak=!1,i=new t(n.base,n.properties.slice(0,o)),c=new t(n.base,n.properties.slice(o)),i.isComplex()&&(l=new N(e.scope.freeVariable("ref")),i=new $(new r(l,i)),c.base=l),new w(new f(i),c,{soak:!0});return!1}}(this)()},t}(i),e.Comment=u=function(e){function t(e){this.comment=e}return Ct(t,e),t.prototype.isStatement=et,t.prototype.makeReturn=G,t.prototype.compileNode=function(e,t){var n,r;return r=this.comment.replace(/^(\s*)#/gm,"$1 *"),n="/*"+dt(r,this.tab)+(St.call(r,"\n")>=0?"\n"+this.tab:"")+" */",(t||e.level)===A&&(n=e.indent+n),[this.makeCode("\n"),this.makeCode(n)]},t}(i),e.Call=a=function(e){function n(e,t,n){this.args=null!=t?t:[],this.soak=n,this.isNew=!1,this.isSuper="super"===e,this.variable=this.isSuper?null:e,e instanceof Q&&e.isNotCallable()&&e.error("literal is not a function")}return Ct(n,e),n.prototype.children=["variable","args"],n.prototype.newInstance=function(){var e,t;return e=(null!=(t=this.variable)?t.base:void 0)||this.variable,e instanceof n&&!e.isNew?e.newInstance():this.isNew=!0,this},n.prototype.superReference=function(e){var n,r;return r=e.scope.namedMethod(),(null!=r?r.klass:void 0)?(n=[new t(new N("__super__"))],r["static"]&&n.push(new t(new N("constructor"))),n.push(new t(new N(r.name))),new Q(new N(r.klass),n).compile(e)):(null!=r?r.ctor:void 0)?""+r.name+".__super__.constructor":this.error("cannot call super outside of an instance method.")},n.prototype.superThis=function(e){var t;return t=e.scope.method,t&&!t.klass&&t.context||"this"},n.prototype.unfoldSoak=function(e){var t,r,i,o,a,s,l,c,u;if(this.soak){if(this.variable){if(r=yt(e,this,"variable"))return r;c=new Q(this.variable).cacheReference(e),i=c[0],a=c[1]}else i=new N(this.superReference(e)),a=new Q(i);return a=new n(a,this.args),a.isNew=this.isNew,i=new N("typeof "+i.compile(e)+' === "function"'),new w(i,new Q(a),{soak:!0})}for(t=this,o=[];;)if(t.variable instanceof n)o.push(t),t=t.variable;else{if(!(t.variable instanceof Q))break;if(o.push(t),!((t=t.variable.base)instanceof n))break}for(u=o.reverse(),s=0,l=u.length;l>s;s++)t=u[s],r&&(t.variable instanceof n?t.variable=r:t.variable.base=r),r=yt(e,t,"variable");return r},n.prototype.compileNode=function(e){var t,n,r,i,o,a,s,l,c,u;if(null!=(c=this.variable)&&(c.front=this.front),i=U.compileSplattedArray(e,this.args,!0),i.length)return this.compileSplat(e,i);for(r=[],u=this.args,n=s=0,l=u.length;l>s;n=++s)t=u[n],n&&r.push(this.makeCode(", ")),r.push.apply(r,t.compileToFragments(e,L));return o=[],this.isSuper?(a=this.superReference(e)+(".call("+this.superThis(e)),r.length&&(a+=", "),o.push(this.makeCode(a))):(this.isNew&&o.push(this.makeCode("new ")),o.push.apply(o,this.variable.compileToFragments(e,C)),o.push(this.makeCode("("))),o.push.apply(o,r),o.push(this.makeCode(")")),o},n.prototype.compileSplat=function(e,t){var n,r,i,o,a,s;return this.isSuper?[].concat(this.makeCode(""+this.superReference(e)+".apply("+this.superThis(e)+", "),t,this.makeCode(")")):this.isNew?(o=this.tab+K,[].concat(this.makeCode("(function(func, args, ctor) {\n"+o+"ctor.prototype = func.prototype;\n"+o+"var child = new ctor, result = func.apply(child, args);\n"+o+"return Object(result) === result ? result : child;\n"+this.tab+"})("),this.variable.compileToFragments(e,L),this.makeCode(", "),t,this.makeCode(", function(){})"))):(n=[],r=new Q(this.variable),(a=r.properties.pop())&&r.isComplex()?(s=e.scope.freeVariable("ref"),n=n.concat(this.makeCode("("+s+" = "),r.compileToFragments(e,L),this.makeCode(")"),a.compileToFragments(e))):(i=r.compileToFragments(e,C),H.test(st(i))&&(i=this.wrapInBraces(i)),a?(s=st(i),i.push.apply(i,a.compileToFragments(e))):s="null",n=n.concat(i)),n=n.concat(this.makeCode(".apply("+s+", "),t,this.makeCode(")")))},n}(i),e.Extends=d=function(e){function t(e,t){this.child=e,this.parent=t}return Ct(t,e),t.prototype.children=["child","parent"],t.prototype.compileToFragments=function(e){return new a(new Q(new N(bt("extends"))),[this.child,this.parent]).compileToFragments(e)},t}(i),e.Access=t=function(e){function t(e,t){this.name=e,this.name.asKey=!0,this.soak="soak"===t}return Ct(t,e),t.prototype.children=["name"],t.prototype.compileToFragments=function(e){var t;return t=this.name.compileToFragments(e),g.test(st(t))?t.unshift(this.makeCode(".")):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.isComplex=_,t}(i),e.Index=x=function(e){function t(e){this.index=e}return Ct(t,e),t.prototype.children=["index"],t.prototype.compileToFragments=function(e){return[].concat(this.makeCode("["),this.index.compileToFragments(e,M),this.makeCode("]"))},t.prototype.isComplex=function(){return this.index.isComplex()},t}(i),e.Range=j=function(e){function t(e,t,n){this.from=e,this.to=t,this.exclusive="exclusive"===n,this.equals=this.exclusive?"":"="}return Ct(t,e),t.prototype.children=["from","to"],t.prototype.compileVariables=function(e){var t,n,r,i,o;return e=ht(e,{top:!0}),n=this.cacheToCodeFragments(this.from.cache(e,L)),this.fromC=n[0],this.fromVar=n[1],r=this.cacheToCodeFragments(this.to.cache(e,L)),this.toC=r[0],this.toVar=r[1],(t=rt(e,"step"))&&(i=this.cacheToCodeFragments(t.cache(e,L)),this.step=i[0],this.stepVar=i[1]),o=[this.fromVar.match(F),this.toVar.match(F)],this.fromNum=o[0],this.toNum=o[1],this.stepVar?this.stepNum=this.stepVar.match(F):void 0},t.prototype.compileNode=function(e){var t,n,r,i,o,a,s,l,c,u,f,h,d,p;return this.fromVar||this.compileVariables(e),e.index?(s=this.fromNum&&this.toNum,o=rt(e,"index"),a=rt(e,"name"),c=a&&a!==o,h=""+o+" = "+this.fromC,this.toC!==this.toVar&&(h+=", "+this.toC),this.step!==this.stepVar&&(h+=", "+this.step),d=[""+o+" <"+this.equals,""+o+" >"+this.equals],l=d[0],i=d[1],n=this.stepNum?pt(this.stepNum[0])>0?""+l+" "+this.toVar:""+i+" "+this.toVar:s?(p=[pt(this.fromNum[0]),pt(this.toNum[0])],r=p[0],f=p[1],f>=r?""+l+" "+f:""+i+" "+f):(t=this.stepVar?""+this.stepVar+" > 0":""+this.fromVar+" <= "+this.toVar,""+t+" ? "+l+" "+this.toVar+" : "+i+" "+this.toVar),u=this.stepVar?""+o+" += "+this.stepVar:s?c?f>=r?"++"+o:"--"+o:f>=r?""+o+"++":""+o+"--":c?""+t+" ? ++"+o+" : --"+o:""+t+" ? "+o+"++ : "+o+"--",c&&(h=""+a+" = "+h),c&&(u=""+a+" = "+u),[this.makeCode(""+h+"; "+n+"; "+u)]):this.compileArray(e)},t.prototype.compileArray=function(e){var t,n,r,i,o,a,s,l,c,u,f,h,d;return this.fromNum&&this.toNum&&20>=Math.abs(this.fromNum-this.toNum)?(c=function(){d=[];for(var e=h=+this.fromNum,t=+this.toNum;t>=h?t>=e:e>=t;t>=h?e++:e--)d.push(e);return d}.apply(this),this.exclusive&&c.pop(),[this.makeCode("["+c.join(", ")+"]")]):(a=this.tab+K,o=e.scope.freeVariable("i"),u=e.scope.freeVariable("results"),l="\n"+a+u+" = [];",this.fromNum&&this.toNum?(e.index=o,n=st(this.compileNode(e))):(f=""+o+" = "+this.fromC+(this.toC!==this.toVar?", "+this.toC:""),r=""+this.fromVar+" <= "+this.toVar,n="var "+f+"; "+r+" ? "+o+" <"+this.equals+" "+this.toVar+" : "+o+" >"+this.equals+" "+this.toVar+"; "+r+" ? "+o+"++ : "+o+"--"),s="{ "+u+".push("+o+"); }\n"+a+"return "+u+";\n"+e.indent,i=function(e){return null!=e?e.contains(lt):void 0},(i(this.from)||i(this.to))&&(t=", arguments"),[this.makeCode("(function() {"+l+"\n"+a+"for ("+n+")"+s+"}).apply(this"+(null!=t?t:"")+")")])},t}(i),e.Slice=z=function(e){function t(e){this.range=e,t.__super__.constructor.call(this)}return Ct(t,e),t.prototype.children=["range"],t.prototype.compileNode=function(e){var t,n,r,i,o,a,s;return s=this.range,o=s.to,r=s.from,i=r&&r.compileToFragments(e,M)||[this.makeCode("0")],o&&(t=o.compileToFragments(e,M),n=st(t),(this.range.exclusive||-1!==+n)&&(a=", "+(this.range.exclusive?n:H.test(n)?""+(+n+1):(t=o.compileToFragments(e,C),"+"+st(t)+" + 1 || 9e9")))),[this.makeCode(".slice("+st(i)+(a||"")+")")]},t}(i),e.Obj=I=function(e){function t(e,t){this.generated=null!=t?t:!1,this.objects=this.properties=e||[]}return Ct(t,e),t.prototype.children=["properties"],t.prototype.compileNode=function(e){var t,n,i,o,a,s,l,c,f,h,d,p,m;if(f=this.properties,!f.length)return[this.makeCode(this.front?"({})":"{}")];if(this.generated)for(h=0,p=f.length;p>h;h++)l=f[h],l instanceof Q&&l.error("cannot have an implicit value in an implicit object");for(i=e.indent+=K,s=this.lastNonComment(this.properties),t=[],n=d=0,m=f.length;m>d;n=++d)c=f[n],a=n===f.length-1?"":c===s||c instanceof u?"\n":",\n",o=c instanceof u?"":i,c instanceof r&&c.variable instanceof Q&&c.variable.hasProperties()&&c.variable.error("Invalid object key"),c instanceof Q&&c["this"]&&(c=new r(c.properties[0].name,c,"object")),c instanceof u||(c instanceof r||(c=new r(c,c,"object")),(c.variable.base||c.variable).asKey=!0),o&&t.push(this.makeCode(o)),t.push.apply(t,c.compileToFragments(e,A)),a&&t.push(this.makeCode(a));return t.unshift(this.makeCode("{"+(f.length&&"\n"))),t.push(this.makeCode(""+(f.length&&"\n"+this.tab)+"}")),this.front?this.wrapInBraces(t):t},t.prototype.assigns=function(e){var t,n,r,i;for(i=this.properties,n=0,r=i.length;r>n;n++)if(t=i[n],t.assigns(e))return!0;return!1},t}(i),e.Arr=n=function(e){function t(e){this.objects=e||[]}return Ct(t,e),t.prototype.children=["objects"],t.prototype.compileNode=function(e){var t,n,r,i,o,a,s;if(!this.objects.length)return[this.makeCode("[]")];if(e.indent+=K,t=U.compileSplattedArray(e,this.objects),t.length)return t;for(t=[],n=function(){var t,n,r,i;for(r=this.objects,i=[],t=0,n=r.length;n>t;t++)o=r[t],i.push(o.compileToFragments(e,L));return i}.call(this),i=a=0,s=n.length;s>a;i=++a)r=n[i],i&&t.push(this.makeCode(", ")),t.push.apply(t,r);return st(t).indexOf("\n")>=0?(t.unshift(this.makeCode("[\n"+e.indent)),t.push(this.makeCode("\n"+this.tab+"]"))):(t.unshift(this.makeCode("[")),t.push(this.makeCode("]"))),t},t.prototype.assigns=function(e){var t,n,r,i;for(i=this.objects,n=0,r=i.length;r>n;n++)if(t=i[n],t.assigns(e))return!0;return!1},t}(i),e.Class=s=function(e){function n(e,t,n){this.variable=e,this.parent=t,this.body=null!=n?n:new o,this.boundFuncs=[],this.body.classBody=!0}return Ct(n,e),n.prototype.children=["variable","parent","body"],n.prototype.determineName=function(){var e,n;return this.variable?(e=(n=ut(this.variable.properties))?n instanceof t&&n.name.value:this.variable.base.value,St.call(W,e)>=0&&this.variable.error("class variable name may not be "+e),e&&(e=g.test(e)&&e)):null},n.prototype.setContext=function(e){return this.body.traverseChildren(!1,function(t){return t.classBody?!1:t instanceof N&&"this"===t.value?t.value=e:t instanceof l&&(t.klass=e,t.bound)?t.context=e:void 0})},n.prototype.addBoundFunctions=function(e){var n,r,i,o,a;for(a=this.boundFuncs,i=0,o=a.length;o>i;i++)n=a[i],r=new Q(new N("this"),[new t(n)]).compile(e),this.ctor.body.unshift(new N(""+r+" = "+bt("bind")+"("+r+", this)"))},n.prototype.addProperties=function(e,n,i){var o,a,s,c,u;return u=e.base.properties.slice(0),s=function(){var e;for(e=[];o=u.shift();)o instanceof r&&(a=o.variable.base,delete o.context,c=o.value,"constructor"===a.value?(this.ctor&&o.error("cannot define more than one constructor in a class"),c.bound&&o.error("cannot define a constructor as a bound function"),c instanceof l?o=this.ctor=c:(this.externalCtor=i.classScope.freeVariable("class"),o=new r(new N(this.externalCtor),c))):o.variable["this"]?c["static"]=!0:(o.variable=new Q(new N(n),[new t(new N("prototype")),new t(a)]),c instanceof l&&c.bound&&(this.boundFuncs.push(a),c.bound=!1))),e.push(o);return e}.call(this),nt(s)},n.prototype.walkBody=function(e,t){return this.traverseChildren(!1,function(i){return function(a){var s,l,c,u,f,h,d;if(s=!0,a instanceof n)return!1;if(a instanceof o){for(d=l=a.expressions,c=f=0,h=d.length;h>f;c=++f)u=d[c],u instanceof r&&u.variable.looksStatic(e)?u.value["static"]=!0:u instanceof Q&&u.isObject(!0)&&(s=!1,l[c]=i.addProperties(u,e,t));a.expressions=l=at(l)}return s&&!(a instanceof n)}}(this))},n.prototype.hoistDirectivePrologue=function(){var e,t,n;for(t=0,e=this.body.expressions;(n=e[t])&&n instanceof u||n instanceof Q&&n.isString();)++t;return this.directives=e.splice(0,t)},n.prototype.ensureConstructor=function(e){return this.ctor||(this.ctor=new l,this.externalCtor?this.ctor.body.push(new N(""+this.externalCtor+".apply(this, arguments)")):this.parent&&this.ctor.body.push(new N(""+e+".__super__.constructor.apply(this, arguments)")),this.ctor.body.makeReturn(),this.body.expressions.unshift(this.ctor)),this.ctor.ctor=this.ctor.name=e,this.ctor.klass=null,this.ctor.noReturn=!0},n.prototype.compileNode=function(e){var t,n,i,s,c,u,f,h,p;return(s=this.body.jumps())&&s.error("Class bodies cannot contain pure statements"),(n=this.body.contains(lt))&&n.error("Class bodies shouldn't reference arguments"),f=this.determineName()||"_Class",f.reserved&&(f="_"+f),u=new N(f),i=new l([],o.wrap([this.body])),t=[],e.classScope=i.makeScope(e.scope),this.hoistDirectivePrologue(),this.setContext(f),this.walkBody(f,e),this.ensureConstructor(f),this.addBoundFunctions(e),this.body.spaced=!0,this.body.expressions.push(u),this.parent&&(h=new N(e.classScope.freeVariable("super",!1)),this.body.expressions.unshift(new d(u,h)),i.params.push(new D(h)),t.push(this.parent)),(p=this.body.expressions).unshift.apply(p,this.directives),c=new $(new a(i,t)),this.variable&&(c=new r(this.variable,c)),c.compileToFragments(e)},n}(i),e.Assign=r=function(e){function n(e,t,n,r){var i,o,a;this.variable=e,this.value=t,this.context=n,this.param=r&&r.param,this.subpattern=r&&r.subpattern,a=o=this.variable.unwrapAll().value,i=St.call(W,a)>=0,i&&"object"!==this.context&&this.variable.error('variable name may not be "'+o+'"')}return Ct(n,e),n.prototype.children=["variable","value"],n.prototype.isStatement=function(e){return(null!=e?e.level:void 0)===A&&null!=this.context&&St.call(this.context,"?")>=0},n.prototype.assigns=function(e){return this["object"===this.context?"value":"variable"].assigns(e)},n.prototype.unfoldSoak=function(e){return yt(e,this,"variable")},n.prototype.compileNode=function(e){var t,n,r,i,o,a,s,c,u,f,h;if(r=this.variable instanceof Q){if(this.variable.isArray()||this.variable.isObject())return this.compilePatternMatch(e);if(this.variable.isSplice())return this.compileSplice(e);if("||="===(c=this.context)||"&&="===c||"?="===c)return this.compileConditional(e);if("**="===(u=this.context)||"//="===u||"%%="===u)return this.compileSpecialMath(e)}return n=this.variable.compileToFragments(e,L),o=st(n),this.context||(s=this.variable.unwrapAll(),s.isAssignable()||this.variable.error('"'+this.variable.compile(e)+'" cannot be assigned'),("function"==typeof s.hasProperties?s.hasProperties():void 0)||(this.param?e.scope.add(o,"var"):e.scope.find(o))),this.value instanceof l&&(i=E.exec(o))&&(i[2]&&(this.value.klass=i[1]),this.value.name=null!=(f=null!=(h=i[3])?h:i[4])?f:i[5]),a=this.value.compileToFragments(e,L),"object"===this.context?n.concat(this.makeCode(": "),a):(t=n.concat(this.makeCode(" "+(this.context||"=")+" "),a),L>=e.level?t:this.wrapInBraces(t))
},n.prototype.compilePatternMatch=function(e){var r,i,o,a,s,l,c,u,f,d,p,m,v,y,b,w,k,C,S,M,E,O,_,F,I,R,D,j;if(w=e.level===A,C=this.value,m=this.variable.base.objects,!(v=m.length))return o=C.compileToFragments(e),e.level>=T?this.wrapInBraces(o):o;if(u=this.variable.isObject(),w&&1===v&&!((p=m[0])instanceof U))return p instanceof n?(_=p,F=_.variable,c=F.base,p=_.value):c=u?p["this"]?p.properties[0].name:p:new N(0),r=g.test(c.unwrap().value||0),C=new Q(C),C.properties.push(new(r?t:x)(c)),I=p.unwrap().value,St.call(B,I)>=0&&p.error("assignment to a reserved word: "+p.compile(e)),new n(p,C,null,{param:this.param}).compileToFragments(e,A);for(S=C.compileToFragments(e,L),M=st(S),i=[],a=!1,(!g.test(M)||this.variable.assigns(M))&&(i.push([this.makeCode(""+(y=e.scope.freeVariable("ref"))+" = ")].concat(Lt.call(S))),S=[this.makeCode(y)],M=y),l=E=0,O=m.length;O>E;l=++E){if(p=m[l],c=l,u&&(p instanceof n?(R=p,D=R.variable,c=D.base,p=R.value):p.base instanceof $?(j=new Q(p.unwrapAll()).cacheReference(e),p=j[0],c=j[1]):c=p["this"]?p.properties[0].name:p),!a&&p instanceof U)d=p.name.unwrap().value,p=p.unwrap(),k=""+v+" <= "+M+".length ? "+bt("slice")+".call("+M+", "+l,(b=v-l-1)?(f=e.scope.freeVariable("i"),k+=", "+f+" = "+M+".length - "+b+") : ("+f+" = "+l+", [])"):k+=") : []",k=new N(k),a=""+f+"++";else{if(!a&&p instanceof h){(b=v-l-1)&&(1===b?a=""+M+".length - 1":(f=e.scope.freeVariable("i"),k=new N(""+f+" = "+M+".length - "+b),a=""+f+"++",i.push(k.compileToFragments(e,L))));continue}d=p.unwrap().value,(p instanceof U||p instanceof h)&&p.error("multiple splats/expansions are disallowed in an assignment"),"number"==typeof c?(c=new N(a||c),r=!1):r=u&&g.test(c.unwrap().value||0),k=new Q(new N(M),[new(r?t:x)(c)])}null!=d&&St.call(B,d)>=0&&p.error("assignment to a reserved word: "+p.compile(e)),i.push(new n(p,k,null,{param:this.param,subpattern:!0}).compileToFragments(e,L))}return w||this.subpattern||i.push(S),s=this.joinFragmentArrays(i,", "),L>e.level?s:this.wrapInBraces(s)},n.prototype.compileConditional=function(e){var t,r,i,o;return o=this.variable.cacheReference(e),r=o[0],i=o[1],!r.properties.length&&r.base instanceof N&&"this"!==r.base.value&&!e.scope.check(r.base.value)&&this.variable.error('the variable "'+r.base.value+"\" can't be assigned with "+this.context+" because it has not been declared before"),St.call(this.context,"?")>=0?(e.isExistentialEquals=!0,new w(new f(r),i,{type:"if"}).addElse(new n(i,this.value,"=")).compileToFragments(e)):(t=new R(this.context.slice(0,-1),r,new n(i,this.value,"=")).compileToFragments(e),L>=e.level?t:this.wrapInBraces(t))},n.prototype.compileSpecialMath=function(e){var t,r,i;return i=this.variable.cacheReference(e),t=i[0],r=i[1],new n(t,new R(this.context.slice(0,-1),r,this.value)).compileToFragments(e)},n.prototype.compileSplice=function(e){var t,n,r,i,o,a,s,l,c,u,f,h;return u=this.variable.properties.pop().range,r=u.from,s=u.to,n=u.exclusive,a=this.variable.compile(e),r?(f=this.cacheToCodeFragments(r.cache(e,T)),i=f[0],o=f[1]):i=o="0",s?r instanceof Q&&r.isSimpleNumber()&&s instanceof Q&&s.isSimpleNumber()?(s=s.compile(e)-o,n||(s+=1)):(s=s.compile(e,C)+" - "+o,n||(s+=" + 1")):s="9e9",h=this.value.cache(e,L),l=h[0],c=h[1],t=[].concat(this.makeCode("[].splice.apply("+a+", ["+i+", "+s+"].concat("),l,this.makeCode(")), "),c),e.level>A?this.wrapInBraces(t):t},n}(i),e.Code=l=function(e){function t(e,t,n){this.params=e||[],this.body=t||new o,this.bound="boundfunc"===n}return Ct(t,e),t.prototype.children=["params","body"],t.prototype.isStatement=function(){return!!this.ctor},t.prototype.jumps=_,t.prototype.makeScope=function(e){return new q(e,this.body,this)},t.prototype.compileNode=function(e){var i,s,l,c,u,f,d,p,m,g,v,y,b,k,x,S,L,T,M,A,E,O,_,F,I,$,B,j,P,H,W,q,z;if(this.bound&&(null!=(j=e.scope.method)?j.bound:void 0)&&(this.context=e.scope.method.context),this.bound&&!this.context)return this.context="_this",x=new t([new D(new N(this.context))],new o([this])),s=new a(x,[new N("this")]),s.updateLocationDataIfMissing(this.locationData),s.compileNode(e);for(e.scope=rt(e,"classScope")||this.makeScope(e.scope),e.scope.shared=rt(e,"sharedScope"),e.indent+=K,delete e.bare,delete e.isExistentialEquals,m=[],c=[],P=this.params,S=0,A=P.length;A>S;S++)p=P[S],p instanceof h||e.scope.parameter(p.asReference(e));for(H=this.params,L=0,E=H.length;E>L;L++)if(p=H[L],p.splat||p instanceof h){for(W=this.params,T=0,O=W.length;O>T;T++)d=W[T].name,p instanceof h||(d["this"]&&(d=d.properties[0].name),d.value&&e.scope.add(d.value,"var",!0));v=new r(new Q(new n(function(){var t,n,r,i;for(r=this.params,i=[],t=0,n=r.length;n>t;t++)d=r[t],i.push(d.asReference(e));return i}.call(this))),new Q(new N("arguments")));break}for(q=this.params,M=0,_=q.length;_>M;M++)p=q[M],p.isComplex()?(b=g=p.asReference(e),p.value&&(b=new R("?",g,p.value)),c.push(new r(new Q(p.name),b,"=",{param:!0}))):(g=p,p.value&&(f=new N(g.name.value+" == null"),b=new r(new Q(p.name),p.value,"="),c.push(new w(f,b)))),v||m.push(g);for(k=this.body.isEmpty(),v&&c.unshift(v),c.length&&(z=this.body.expressions).unshift.apply(z,c),u=$=0,F=m.length;F>$;u=++$)d=m[u],m[u]=d.compileToFragments(e),e.scope.parameter(st(m[u]));for(y=[],this.eachParamName(function(e,t){return St.call(y,e)>=0&&t.error("multiple parameters named '"+e+"'"),y.push(e)}),k||this.noReturn||this.body.makeReturn(),l="function",this.ctor&&(l+=" "+this.name),l+="(",i=[this.makeCode(l)],u=B=0,I=m.length;I>B;u=++B)d=m[u],u&&i.push(this.makeCode(", ")),i.push.apply(i,d);return i.push(this.makeCode(") {")),this.body.isEmpty()||(i=i.concat(this.makeCode("\n"),this.body.compileWithDeclarations(e),this.makeCode("\n"+this.tab))),i.push(this.makeCode("}")),this.ctor?[this.makeCode(this.tab)].concat(Lt.call(i)):this.front||e.level>=C?this.wrapInBraces(i):i},t.prototype.eachParamName=function(e){var t,n,r,i,o;for(i=this.params,o=[],n=0,r=i.length;r>n;n++)t=i[n],o.push(t.eachName(e));return o},t.prototype.traverseChildren=function(e,n){return e?t.__super__.traverseChildren.call(this,e,n):void 0},t}(i),e.Param=D=function(e){function t(e,t,n){var r;this.name=e,this.value=t,this.splat=n,r=e=this.name.unwrapAll().value,St.call(W,r)>=0&&this.name.error('parameter name "'+e+'" is not allowed')}return Ct(t,e),t.prototype.children=["name","value"],t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e,L)},t.prototype.asReference=function(e){var t;return this.reference?this.reference:(t=this.name,t["this"]?(t=t.properties[0].name,t.value.reserved&&(t=new N(e.scope.freeVariable(t.value)))):t.isComplex()&&(t=new N(e.scope.freeVariable("arg"))),t=new Q(t),this.splat&&(t=new U(t)),t.updateLocationDataIfMissing(this.locationData),this.reference=t)},t.prototype.isComplex=function(){return this.name.isComplex()},t.prototype.eachName=function(e,t){var n,i,o,a,s,l;if(null==t&&(t=this.name),n=function(t){var n;return n=t.properties[0].name,n.value.reserved?void 0:e(n.value,n)},t instanceof N)return e(t.value,t);if(t instanceof Q)return n(t);for(l=t.objects,a=0,s=l.length;s>a;a++)o=l[a],o instanceof r?this.eachName(e,o.value.unwrap()):o instanceof U?(i=o.name.unwrap(),e(i.value,i)):o instanceof Q?o.isArray()||o.isObject()?this.eachName(e,o.base):o["this"]?n(o):e(o.base.value,o.base):o instanceof h||o.error("illegal parameter "+o.compile())},t}(i),e.Splat=U=function(e){function t(e){this.name=e.compile?e:new N(e)}return Ct(t,e),t.prototype.children=["name"],t.prototype.isAssignable=et,t.prototype.assigns=function(e){return this.name.assigns(e)},t.prototype.compileToFragments=function(e){return this.name.compileToFragments(e)},t.prototype.unwrap=function(){return this.name},t.compileSplattedArray=function(e,n,r){var i,o,a,s,l,c,u,f,h,d;for(u=-1;(f=n[++u])&&!(f instanceof t););if(u>=n.length)return[];if(1===n.length)return f=n[0],l=f.compileToFragments(e,L),r?l:[].concat(f.makeCode(""+bt("slice")+".call("),l,f.makeCode(")"));for(i=n.slice(u),c=h=0,d=i.length;d>h;c=++h)f=i[c],a=f.compileToFragments(e,L),i[c]=f instanceof t?[].concat(f.makeCode(""+bt("slice")+".call("),a,f.makeCode(")")):[].concat(f.makeCode("["),a,f.makeCode("]"));return 0===u?(f=n[0],s=f.joinFragmentArrays(i.slice(1),", "),i[0].concat(f.makeCode(".concat("),s,f.makeCode(")"))):(o=function(){var t,r,i,o;for(i=n.slice(0,u),o=[],t=0,r=i.length;r>t;t++)f=i[t],o.push(f.compileToFragments(e,L));return o}(),o=n[0].joinFragmentArrays(o,", "),s=n[u].joinFragmentArrays(i,", "),[].concat(n[0].makeCode("["),o,n[u].makeCode("].concat("),s,ut(n).makeCode(")")))},t}(i),e.Expansion=h=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return Ct(t,e),t.prototype.isComplex=_,t.prototype.compileNode=function(){return this.error("Expansion must be used inside a destructuring assignment or parameter list")},t.prototype.asReference=function(){return this},t.prototype.eachName=function(){},t}(i),e.While=Z=function(e){function t(e,t){this.condition=(null!=t?t.invert:void 0)?e.invert():e,this.guard=null!=t?t.guard:void 0}return Ct(t,e),t.prototype.children=["condition","guard","body"],t.prototype.isStatement=et,t.prototype.makeReturn=function(e){return e?t.__super__.makeReturn.apply(this,arguments):(this.returns=!this.jumps({loop:!0}),this)},t.prototype.addBody=function(e){return this.body=e,this},t.prototype.jumps=function(){var e,t,n,r,i;if(e=this.body.expressions,!e.length)return!1;for(r=0,i=e.length;i>r;r++)if(n=e[r],t=n.jumps({loop:!0}))return t;return!1},t.prototype.compileNode=function(e){var t,n,r,i;return e.indent+=K,i="",n=this.body,n.isEmpty()?n=this.makeCode(""):(this.returns&&(n.makeReturn(r=e.scope.freeVariable("results")),i=""+this.tab+r+" = [];\n"),this.guard&&(n.expressions.length>1?n.expressions.unshift(new w(new $(this.guard).invert(),new N("continue"))):this.guard&&(n=o.wrap([new w(this.guard,n)]))),n=[].concat(this.makeCode("\n"),n.compileToFragments(e,A),this.makeCode("\n"+this.tab))),t=[].concat(this.makeCode(i+this.tab+"while ("),this.condition.compileToFragments(e,M),this.makeCode(") {"),n,this.makeCode("}")),this.returns&&t.push(this.makeCode("\n"+this.tab+"return "+r+";")),t},t}(i),e.Op=R=function(e){function n(e,t,n,r){if("in"===e)return new k(t,n);if("do"===e)return this.generateDo(t);if("new"===e){if(t instanceof a&&!t["do"]&&!t.isNew)return t.newInstance();(t instanceof l&&t.bound||t["do"])&&(t=new $(t))}return this.operator=i[e]||e,this.first=t,this.second=n,this.flip=!!r,this}var i,o;return Ct(n,e),i={"==":"===","!=":"!==",of:"in"},o={"!==":"===","===":"!=="},n.prototype.children=["first","second"],n.prototype.isSimpleNumber=_,n.prototype.isUnary=function(){return!this.second},n.prototype.isComplex=function(){var e;return!(this.isUnary()&&("+"===(e=this.operator)||"-"===e))||this.first.isComplex()},n.prototype.isChainable=function(){var e;return"<"===(e=this.operator)||">"===e||">="===e||"<="===e||"==="===e||"!=="===e},n.prototype.invert=function(){var e,t,r,i,a;if(this.isChainable()&&this.first.isChainable()){for(e=!0,t=this;t&&t.operator;)e&&(e=t.operator in o),t=t.first;if(!e)return new $(this).invert();for(t=this;t&&t.operator;)t.invert=!t.invert,t.operator=o[t.operator],t=t.first;return this}return(i=o[this.operator])?(this.operator=i,this.first.unwrap()instanceof n&&this.first.invert(),this):this.second?new $(this).invert():"!"===this.operator&&(r=this.first.unwrap())instanceof n&&("!"===(a=r.operator)||"in"===a||"instanceof"===a)?r:new n("!",this)},n.prototype.unfoldSoak=function(e){var t;return("++"===(t=this.operator)||"--"===t||"delete"===t)&&yt(e,this,"first")},n.prototype.generateDo=function(e){var t,n,i,o,s,c,u,f;for(o=[],n=e instanceof r&&(s=e.value.unwrap())instanceof l?s:e,f=n.params||[],c=0,u=f.length;u>c;c++)i=f[c],i.value?(o.push(i.value),delete i.value):o.push(i);return t=new a(e,o),t["do"]=!0,t},n.prototype.compileNode=function(e){var t,n,r,i,o,a;if(n=this.isChainable()&&this.first.isChainable(),n||(this.first.front=this.front),"delete"===this.operator&&e.scope.check(this.first.unwrapAll().value)&&this.error("delete operand may not be argument or var"),("--"===(o=this.operator)||"++"===o)&&(a=this.first.unwrapAll().value,St.call(W,a)>=0)&&this.error('cannot increment/decrement "'+this.first.unwrapAll().value+'"'),this.isUnary())return this.compileUnary(e);if(n)return this.compileChain(e);switch(this.operator){case"?":return this.compileExistence(e);case"**":return this.compilePower(e);case"//":return this.compileFloorDivision(e);case"%%":return this.compileModulo(e);default:return r=this.first.compileToFragments(e,T),i=this.second.compileToFragments(e,T),t=[].concat(r,this.makeCode(" "+this.operator+" "),i),T>=e.level?t:this.wrapInBraces(t)}},n.prototype.compileChain=function(e){var t,n,r,i;return i=this.first.second.cache(e),this.first.second=i[0],r=i[1],n=this.first.compileToFragments(e,T),t=n.concat(this.makeCode(" "+(this.invert?"&&":"||")+" "),r.compileToFragments(e),this.makeCode(" "+this.operator+" "),this.second.compileToFragments(e,T)),this.wrapInBraces(t)},n.prototype.compileExistence=function(e){var t,n;return this.first.isComplex()?(n=new N(e.scope.freeVariable("ref")),t=new $(new r(n,this.first))):(t=this.first,n=t),new w(new f(t),n,{type:"if"}).addElse(this.second).compileToFragments(e)},n.prototype.compileUnary=function(e){var t,r,i;return r=[],t=this.operator,r.push([this.makeCode(t)]),"!"===t&&this.first instanceof f?(this.first.negated=!this.first.negated,this.first.compileToFragments(e)):e.level>=C?new $(this).compileToFragments(e):(i="+"===t||"-"===t,("new"===t||"typeof"===t||"delete"===t||i&&this.first instanceof n&&this.first.operator===t)&&r.push([this.makeCode(" ")]),(i&&this.first instanceof n||"new"===t&&this.first.isStatement(e))&&(this.first=new $(this.first)),r.push(this.first.compileToFragments(e,T)),this.flip&&r.reverse(),this.joinFragmentArrays(r,""))},n.prototype.compilePower=function(e){var n;return n=new Q(new N("Math"),[new t(new N("pow"))]),new a(n,[this.first,this.second]).compileToFragments(e)},n.prototype.compileFloorDivision=function(e){var r,i;return i=new Q(new N("Math"),[new t(new N("floor"))]),r=new n("/",this.first,this.second),new a(i,[r]).compileToFragments(e)},n.prototype.compileModulo=function(e){var t;return t=new Q(new N(bt("modulo"))),new a(t,[this.first,this.second]).compileToFragments(e)},n.prototype.toString=function(e){return n.__super__.toString.call(this,e,this.constructor.name+" "+this.operator)},n}(i),e.In=k=function(e){function t(e,t){this.object=e,this.array=t}return Ct(t,e),t.prototype.children=["object","array"],t.prototype.invert=O,t.prototype.compileNode=function(e){var t,n,r,i,o;if(this.array instanceof Q&&this.array.isArray()&&this.array.base.objects.length){for(o=this.array.base.objects,r=0,i=o.length;i>r;r++)if(n=o[r],n instanceof U){t=!0;break}if(!t)return this.compileOrTest(e)}return this.compileLoopTest(e)},t.prototype.compileOrTest=function(e){var t,n,r,i,o,a,s,l,c,u,f,h;for(u=this.object.cache(e,T),a=u[0],o=u[1],f=this.negated?[" !== "," && "]:[" === "," || "],t=f[0],n=f[1],s=[],h=this.array.base.objects,r=l=0,c=h.length;c>l;r=++l)i=h[r],r&&s.push(this.makeCode(n)),s=s.concat(r?o:a,this.makeCode(t),i.compileToFragments(e,C));return T>e.level?s:this.wrapInBraces(s)},t.prototype.compileLoopTest=function(e){var t,n,r,i;return i=this.object.cache(e,L),r=i[0],n=i[1],t=[].concat(this.makeCode(bt("indexOf")+".call("),this.array.compileToFragments(e,L),this.makeCode(", "),n,this.makeCode(") "+(this.negated?"< 0":">= 0"))),st(r)===st(n)?t:(t=r.concat(this.makeCode(", "),t),L>e.level?t:this.wrapInBraces(t))},t.prototype.toString=function(e){return t.__super__.toString.call(this,e,this.constructor.name+(this.negated?"!":""))},t}(i),e.Try=X=function(e){function t(e,t,n,r){this.attempt=e,this.errorVariable=t,this.recovery=n,this.ensure=r}return Ct(t,e),t.prototype.children=["attempt","recovery","ensure"],t.prototype.isStatement=et,t.prototype.jumps=function(e){var t;return this.attempt.jumps(e)||(null!=(t=this.recovery)?t.jumps(e):void 0)},t.prototype.makeReturn=function(e){return this.attempt&&(this.attempt=this.attempt.makeReturn(e)),this.recovery&&(this.recovery=this.recovery.makeReturn(e)),this},t.prototype.compileNode=function(e){var t,n,i,o;return e.indent+=K,o=this.attempt.compileToFragments(e,A),t=this.recovery?(i=new N("_error"),this.errorVariable?this.recovery.unshift(new r(this.errorVariable,i)):void 0,[].concat(this.makeCode(" catch ("),i.compileToFragments(e),this.makeCode(") {\n"),this.recovery.compileToFragments(e,A),this.makeCode("\n"+this.tab+"}"))):this.ensure||this.recovery?[]:[this.makeCode(" catch (_error) {}")],n=this.ensure?[].concat(this.makeCode(" finally {\n"),this.ensure.compileToFragments(e,A),this.makeCode("\n"+this.tab+"}")):[],[].concat(this.makeCode(""+this.tab+"try {\n"),o,this.makeCode("\n"+this.tab+"}"),t,n)},t}(i),e.Throw=J=function(e){function t(e){this.expression=e}return Ct(t,e),t.prototype.children=["expression"],t.prototype.isStatement=et,t.prototype.jumps=_,t.prototype.makeReturn=G,t.prototype.compileNode=function(e){return[].concat(this.makeCode(this.tab+"throw "),this.expression.compileToFragments(e),this.makeCode(";"))},t}(i),e.Existence=f=function(e){function t(e){this.expression=e}return Ct(t,e),t.prototype.children=["expression"],t.prototype.invert=O,t.prototype.compileNode=function(e){var t,n,r,i;return this.expression.front=this.front,r=this.expression.compile(e,T),g.test(r)&&!e.scope.check(r)?(i=this.negated?["===","||"]:["!==","&&"],t=i[0],n=i[1],r="typeof "+r+" "+t+' "undefined" '+n+" "+r+" "+t+" null"):r=""+r+" "+(this.negated?"==":"!=")+" null",[this.makeCode(S>=e.level?r:"("+r+")")]},t}(i),e.Parens=$=function(e){function t(e){this.body=e}return Ct(t,e),t.prototype.children=["body"],t.prototype.unwrap=function(){return this.body},t.prototype.isComplex=function(){return this.body.isComplex()},t.prototype.compileNode=function(e){var t,n,r;return n=this.body.unwrap(),n instanceof Q&&n.isAtomic()?(n.front=this.front,n.compileToFragments(e)):(r=n.compileToFragments(e,M),t=T>e.level&&(n instanceof R||n instanceof a||n instanceof p&&n.returns),t?r:this.wrapInBraces(r))},t}(i),e.For=p=function(e){function t(e,t){var n;this.source=t.source,this.guard=t.guard,this.step=t.step,this.name=t.name,this.index=t.index,this.body=o.wrap([e]),this.own=!!t.own,this.object=!!t.object,this.object&&(n=[this.index,this.name],this.name=n[0],this.index=n[1]),this.index instanceof Q&&this.index.error("index cannot be a pattern matching expression"),this.range=this.source instanceof Q&&this.source.base instanceof j&&!this.source.properties.length,this.pattern=this.name instanceof Q,this.range&&this.index&&this.index.error("indexes do not apply to range loops"),this.range&&this.pattern&&this.name.error("cannot pattern match over range loops"),this.own&&!this.object&&this.name.error("cannot use own with for-in"),this.returns=!1}return Ct(t,e),t.prototype.children=["body","source","guard","step"],t.prototype.compileNode=function(e){var t,n,i,a,s,l,c,u,f,h,d,p,m,v,y,b,k,x,C,S,T,M,E,O,_,I,R,D,B,j,H,W,q,z;return t=o.wrap([this.body]),x=null!=(q=ut(t.expressions))?q.jumps():void 0,x&&x instanceof P&&(this.returns=!1),R=this.range?this.source.base:this.source,I=e.scope,this.pattern||(S=this.name&&this.name.compile(e,L)),v=this.index&&this.index.compile(e,L),S&&!this.pattern&&I.find(S),v&&I.find(v),this.returns&&(_=I.freeVariable("results")),y=this.object&&v||I.freeVariable("i"),b=this.range&&S||v||y,k=b!==y?""+b+" = ":"",this.step&&!this.range&&(z=this.cacheToCodeFragments(this.step.cache(e,L)),D=z[0],j=z[1],B=j.match(F)),this.pattern&&(S=y),W="",d="",c="",p=this.tab+K,this.range?h=R.compileToFragments(ht(e,{index:y,name:S,step:this.step})):(H=this.source.compile(e,L),!S&&!this.own||g.test(H)||(c+=""+this.tab+(M=I.freeVariable("ref"))+" = "+H+";\n",H=M),S&&!this.pattern&&(T=""+S+" = "+H+"["+b+"]"),this.object||(D!==j&&(c+=""+this.tab+D+";\n"),this.step&&B&&(f=0>pt(B[0]))||(C=I.freeVariable("len")),s=""+k+y+" = 0, "+C+" = "+H+".length",l=""+k+y+" = "+H+".length - 1",i=""+y+" < "+C,a=""+y+" >= 0",this.step?(B?f&&(i=a,s=l):(i=""+j+" > 0 ? "+i+" : "+a,s="("+j+" > 0 ? ("+s+") : "+l+")"),m=""+y+" += "+j):m=""+(b!==y?"++"+y:""+y+"++"),h=[this.makeCode(""+s+"; "+i+"; "+k+m)])),this.returns&&(E=""+this.tab+_+" = [];\n",O="\n"+this.tab+"return "+_+";",t.makeReturn(_)),this.guard&&(t.expressions.length>1?t.expressions.unshift(new w(new $(this.guard).invert(),new N("continue"))):this.guard&&(t=o.wrap([new w(this.guard,t)]))),this.pattern&&t.expressions.unshift(new r(this.name,new N(""+H+"["+b+"]"))),u=[].concat(this.makeCode(c),this.pluckDirectCall(e,t)),T&&(W="\n"+p+T+";"),this.object&&(h=[this.makeCode(""+b+" in "+H)],this.own&&(d="\n"+p+"if (!"+bt("hasProp")+".call("+H+", "+b+")) continue;")),n=t.compileToFragments(ht(e,{indent:p}),A),n&&n.length>0&&(n=[].concat(this.makeCode("\n"),n,this.makeCode("\n"))),[].concat(u,this.makeCode(""+(E||"")+this.tab+"for ("),h,this.makeCode(") {"+d+W),n,this.makeCode(""+this.tab+"}"+(O||"")))},t.prototype.pluckDirectCall=function(e,t){var n,i,o,s,c,u,f,h,d,p,m,g,v,y,b,w;for(i=[],p=t.expressions,c=h=0,d=p.length;d>h;c=++h)o=p[c],o=o.unwrapAll(),o instanceof a&&(f=null!=(m=o.variable)?m.unwrapAll():void 0,(f instanceof l||f instanceof Q&&(null!=(g=f.base)?g.unwrapAll():void 0)instanceof l&&1===f.properties.length&&("call"===(v=null!=(y=f.properties[0].name)?y.value:void 0)||"apply"===v))&&(s=(null!=(b=f.base)?b.unwrapAll():void 0)||f,u=new N(e.scope.freeVariable("fn")),n=new Q(u),f.base&&(w=[n,f],f.base=w[0],n=w[1]),t.expressions[c]=new a(n,o.args),i=i.concat(this.makeCode(this.tab),new r(u,s).compileToFragments(e,A),this.makeCode(";\n"))));return i},t}(Z),e.Switch=V=function(e){function t(e,t,n){this.subject=e,this.cases=t,this.otherwise=n}return Ct(t,e),t.prototype.children=["subject","cases","otherwise"],t.prototype.isStatement=et,t.prototype.jumps=function(e){var t,n,r,i,o,a,s,l;for(null==e&&(e={block:!0}),a=this.cases,i=0,o=a.length;o>i;i++)if(s=a[i],n=s[0],t=s[1],r=t.jumps(e))return r;return null!=(l=this.otherwise)?l.jumps(e):void 0},t.prototype.makeReturn=function(e){var t,n,r,i,a;for(i=this.cases,n=0,r=i.length;r>n;n++)t=i[n],t[1].makeReturn(e);return e&&(this.otherwise||(this.otherwise=new o([new N("void 0")]))),null!=(a=this.otherwise)&&a.makeReturn(e),this},t.prototype.compileNode=function(e){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g;for(l=e.indent+K,c=e.indent=l+K,a=[].concat(this.makeCode(this.tab+"switch ("),this.subject?this.subject.compileToFragments(e,M):this.makeCode("false"),this.makeCode(") {\n")),p=this.cases,s=u=0,h=p.length;h>u;s=++u){for(m=p[s],i=m[0],t=m[1],g=at([i]),f=0,d=g.length;d>f;f++)r=g[f],this.subject||(r=r.invert()),a=a.concat(this.makeCode(l+"case "),r.compileToFragments(e,M),this.makeCode(":\n"));if((n=t.compileToFragments(e,A)).length>0&&(a=a.concat(n,this.makeCode("\n"))),s===this.cases.length-1&&!this.otherwise)break;o=this.lastNonComment(t.expressions),o instanceof P||o instanceof N&&o.jumps()&&"debugger"!==o.value||a.push(r.makeCode(c+"break;\n"))}return this.otherwise&&this.otherwise.expressions.length&&a.push.apply(a,[this.makeCode(l+"default:\n")].concat(Lt.call(this.otherwise.compileToFragments(e,A)),[this.makeCode("\n")])),a.push(this.makeCode(this.tab+"}")),a},t}(i),e.If=w=function(e){function t(e,t,n){this.body=t,null==n&&(n={}),this.condition="unless"===n.type?e.invert():e,this.elseBody=null,this.isChain=!1,this.soak=n.soak}return Ct(t,e),t.prototype.children=["condition","body","elseBody"],t.prototype.bodyNode=function(){var e;return null!=(e=this.body)?e.unwrap():void 0},t.prototype.elseBodyNode=function(){var e;return null!=(e=this.elseBody)?e.unwrap():void 0},t.prototype.addElse=function(e){return this.isChain?this.elseBodyNode().addElse(e):(this.isChain=e instanceof t,this.elseBody=this.ensureBlock(e),this.elseBody.updateLocationDataIfMissing(e.locationData)),this},t.prototype.isStatement=function(e){var t;return(null!=e?e.level:void 0)===A||this.bodyNode().isStatement(e)||(null!=(t=this.elseBodyNode())?t.isStatement(e):void 0)},t.prototype.jumps=function(e){var t;return this.body.jumps(e)||(null!=(t=this.elseBody)?t.jumps(e):void 0)},t.prototype.compileNode=function(e){return this.isStatement(e)?this.compileStatement(e):this.compileExpression(e)},t.prototype.makeReturn=function(e){return e&&(this.elseBody||(this.elseBody=new o([new N("void 0")]))),this.body&&(this.body=new o([this.body.makeReturn(e)])),this.elseBody&&(this.elseBody=new o([this.elseBody.makeReturn(e)])),this},t.prototype.ensureBlock=function(e){return e instanceof o?e:new o([e])},t.prototype.compileStatement=function(e){var n,r,i,o,a,s,l;return i=rt(e,"chainChild"),(a=rt(e,"isExistentialEquals"))?new t(this.condition.invert(),this.elseBodyNode(),{type:"if"}).compileToFragments(e):(l=e.indent+K,o=this.condition.compileToFragments(e,M),r=this.ensureBlock(this.body).compileToFragments(ht(e,{indent:l})),s=[].concat(this.makeCode("if ("),o,this.makeCode(") {\n"),r,this.makeCode("\n"+this.tab+"}")),i||s.unshift(this.makeCode(this.tab)),this.elseBody?(n=s.concat(this.makeCode(" else ")),this.isChain?(e.chainChild=!0,n=n.concat(this.elseBody.unwrap().compileToFragments(e,A))):n=n.concat(this.makeCode("{\n"),this.elseBody.compileToFragments(ht(e,{indent:l}),A),this.makeCode("\n"+this.tab+"}")),n):s)},t.prototype.compileExpression=function(e){var t,n,r,i;return r=this.condition.compileToFragments(e,S),n=this.bodyNode().compileToFragments(e,L),t=this.elseBodyNode()?this.elseBodyNode().compileToFragments(e,L):[this.makeCode("void 0")],i=r.concat(this.makeCode(" ? "),n,this.makeCode(" : "),t),e.level>=S?this.wrapInBraces(i):i},t.prototype.unfoldSoak=function(){return this.soak&&this},t}(i),Y={"extends":function(){return"function(child, parent) { for (var key in parent) { if ("+bt("hasProp")+".call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; }"},bind:function(){return"function(fn, me){ return function(){ return fn.apply(me, arguments); }; }"},indexOf:function(){return"[].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; }"},modulo:function(){return"function(a, b) { return (+a % (b = +b) + b) % b; }"},hasProp:function(){return"{}.hasOwnProperty"},slice:function(){return"[].slice"}},A=1,M=2,L=3,S=4,T=5,C=6,K="  ",v="[$A-Za-z_\\x7f-\\uffff][$\\w\\x7f-\\uffff]*",g=RegExp("^"+v+"$"),H=/^[+-]?\d+$/,m=/^[+-]?0x[\da-f]+/i,F=/^[+-]?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)$/i,E=RegExp("^("+v+")(\\.prototype)?(?:\\.("+v+")|\\[(\"(?:[^\\\\\"\\r\\n]|\\\\.)*\"|'(?:[^\\\\'\\r\\n]|\\\\.)*')\\]|\\[(0x[\\da-fA-F]+|\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\])$"),b=/^['"]/,y=/^\//,bt=function(e){var t;return t="__"+e,q.root.assign(t,Y[e]()),t},dt=function(e,t){return e=e.replace(/\n/g,"$&"+t),e.replace(/\s+$/,"")},pt=function(e){return null==e?0:e.match(m)?parseInt(e,16):parseFloat(e)},lt=function(e){return e instanceof N&&"arguments"===e.value&&!e.asKey},ct=function(e){return e instanceof N&&"this"===e.value&&!e.asKey||e instanceof l&&e.bound||e instanceof a&&e.isSuper},yt=function(e,t,n){var r;return(r=t[n].unfoldSoak(e))?(t[n]=r.body,r.body=new Q(t),r):void 0}}.call(this),t.exports}(),require["./sourcemap"]=function(){var e={},t={exports:e};return function(){var e,n;e=function(){function e(e){this.line=e,this.columns=[]}return e.prototype.add=function(e,t,n){var r,i;return i=t[0],r=t[1],null==n&&(n={}),this.columns[e]&&n.noReplace?void 0:this.columns[e]={line:this.line,column:e,sourceLine:i,sourceColumn:r}},e.prototype.sourceLocation=function(e){for(var t;!((t=this.columns[e])||0>=e);)e--;return t&&[t.sourceLine,t.sourceColumn]},e}(),n=function(){function t(){this.lines=[]}var n,r,i,o;return t.prototype.add=function(t,n,r){var i,o,a,s;return null==r&&(r={}),o=n[0],i=n[1],a=(s=this.lines)[o]||(s[o]=new e(o)),a.add(i,t,r)},t.prototype.sourceLocation=function(e){var t,n,r;for(n=e[0],t=e[1];!((r=this.lines[n])||0>=n);)n--;return r&&r.sourceLocation(t)},t.prototype.generate=function(e,t){var n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v;for(null==e&&(e={}),null==t&&(t=null),f=0,r=0,o=0,i=0,c=!1,n="",g=this.lines,s=h=0,p=g.length;p>h;s=++h)if(a=g[s])for(v=a.columns,d=0,m=v.length;m>d;d++)if(l=v[d]){for(;l.line>f;)r=0,c=!1,n+=";",f++;c&&(n+=",",c=!1),n+=this.encodeVlq(l.column-r),r=l.column,n+=this.encodeVlq(0),n+=this.encodeVlq(l.sourceLine-o),o=l.sourceLine,n+=this.encodeVlq(l.sourceColumn-i),i=l.sourceColumn,c=!0}return u={version:3,file:e.generatedFile||"",sourceRoot:e.sourceRoot||"",sources:e.sourceFiles||[""],names:[],mappings:n},e.inline&&(u.sourcesContent=[t]),JSON.stringify(u,null,2)},i=5,r=1<<i,o=r-1,t.prototype.encodeVlq=function(e){var t,n,a,s;for(t="",a=0>e?1:0,s=(Math.abs(e)<<1)+a;s||!t;)n=s&o,s>>=i,s&&(n|=r),t+=this.encodeBase64(n);return t},n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t.prototype.encodeBase64=function(e){return n[e]||function(){throw Error("Cannot Base64 encode value: "+e)}()},t}(),t.exports=n}.call(this),t.exports}(),require["./coffee-script"]=function(){var e={},t={exports:e};return function(){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b={}.hasOwnProperty,w=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};if(a=require("fs"),d=require("vm"),f=require("path"),t=require("./lexer").Lexer,u=require("./parser").parser,l=require("./helpers"),n=require("./sourcemap"),e.VERSION="1.8.0",e.FILE_EXTENSIONS=[".coffee",".litcoffee",".coffee.md"],e.helpers=l,p=function(e){return function(t,n){var r;null==n&&(n={});try{return e.call(this,t,n)}catch(i){throw r=i,l.updateSyntaxError(r,t,n.filename)}}},e.compile=r=p(function(e,t){var r,i,o,a,s,f,h,d,p,m,g,v,y;for(m=l.merge,a=l.extend,t=a({},t),t.sourceMap&&(p=new n),f=u.parse(c.tokenize(e,t)).compileToFragments(t),o=0,t.header&&(o+=1),t.shiftLine&&(o+=1),i=0,d="",v=0,y=f.length;y>v;v++)s=f[v],t.sourceMap&&(s.locationData&&p.add([s.locationData.first_line,s.locationData.first_column],[o,i],{noReplace:!0}),g=l.count(s.code,"\n"),o+=g,g?i=s.code.length-(s.code.lastIndexOf("\n")+1):i+=s.code.length),d+=s.code;return t.header&&(h="Generated by CoffeeScript "+this.VERSION,d="// "+h+"\n"+d),t.sourceMap?(r={js:d},r.sourceMap=p,r.v3SourceMap=p.generate(t,e),r):d}),e.tokens=p(function(e,t){return c.tokenize(e,t)}),e.nodes=p(function(e,t){return u.parse("string"==typeof e?c.tokenize(e,t):e)}),e.run=function(e,t){var n,i,o,s;return null==t&&(t={}),o=require.main,o.filename=process.argv[1]=t.filename?a.realpathSync(t.filename):".",o.moduleCache&&(o.moduleCache={}),i=t.filename?f.dirname(a.realpathSync(t.filename)):a.realpathSync("."),o.paths=require("module")._nodeModulePaths(i),(!l.isCoffee(o.filename)||require.extensions)&&(n=r(e,t),e=null!=(s=n.js)?s:n),o._compile(e,o.filename)},e.eval=function(e,t){var n,i,o,a,s,l,c,u,h,p,m,g,v,y;if(null==t&&(t={}),e=e.trim()){if(i=d.Script){if(null!=t.sandbox){if(t.sandbox instanceof i.createContext().constructor)c=t.sandbox;else{c=i.createContext(),g=t.sandbox;for(a in g)b.call(g,a)&&(u=g[a],c[a]=u)}c.global=c.root=c.GLOBAL=c}else c=global;if(c.__filename=t.filename||"eval",c.__dirname=f.dirname(c.__filename),c===global&&!c.module&&!c.require){for(n=require("module"),c.module=m=new n(t.modulename||"eval"),c.require=y=function(e){return n._load(e,m,!0)},m.filename=c.__filename,v=Object.getOwnPropertyNames(require),h=0,p=v.length;p>h;h++)l=v[h],"paths"!==l&&(y[l]=require[l]);y.paths=m.paths=n._nodeModulePaths(process.cwd()),y.resolve=function(e){return n._resolveFilename(e,m)}}}s={};for(a in t)b.call(t,a)&&(u=t[a],s[a]=u);return s.bare=!0,o=r(e,s),c===global?d.runInThisContext(o):d.runInContext(o,c)}},e.register=function(){return require("./register")},require.extensions)for(y=this.FILE_EXTENSIONS,g=0,v=y.length;v>g;g++)i=y[g],null==(m=require.extensions)[i]&&(m[i]=function(){throw Error("Use CoffeeScript.register() or require the coffee-script/register module to require "+i+" files.")});e._compileFile=function(e,t){var n,i,o,s;
null==t&&(t=!1),o=a.readFileSync(e,"utf8"),s=65279===o.charCodeAt(0)?o.substring(1):o;try{n=r(s,{filename:e,sourceMap:t,literate:l.isLiterate(e)})}catch(c){throw i=c,l.updateSyntaxError(i,s,e)}return n},c=new t,u.lexer={lex:function(){var e,t;return t=this.tokens[this.pos++],t?(e=t[0],this.yytext=t[1],this.yylloc=t[2],this.errorToken=t.origin||t,this.yylineno=this.yylloc.first_line):e="",e},setInput:function(e){return this.tokens=e,this.pos=0},upcomingInput:function(){return""}},u.yy=require("./nodes"),u.yy.parseError=function(e,t){var n,r,i,o,a,s,c;return a=t.token,c=u.lexer,o=c.errorToken,s=c.tokens,r=o[0],i=o[1],n=o[2],i=o===s[s.length-1]?"end of input":"INDENT"===r||"OUTDENT"===r?"indentation":l.nameWhitespaceCharacter(i),l.throwSyntaxError("unexpected "+i,n)},o=function(e,t){var n,r,i,o,a,s,l,c,u,f,h,d;return o=void 0,i="",e.isNative()?i="native":(e.isEval()?(o=e.getScriptNameOrSourceURL(),o||(i=""+e.getEvalOrigin()+", ")):o=e.getFileName(),o||(o="<anonymous>"),c=e.getLineNumber(),r=e.getColumnNumber(),f=t(o,c,r),i=f?""+o+":"+f[0]+":"+f[1]:""+o+":"+c+":"+r),a=e.getFunctionName(),s=e.isConstructor(),l=!(e.isToplevel()||s),l?(u=e.getMethodName(),d=e.getTypeName(),a?(h=n="",d&&a.indexOf(d)&&(h=""+d+"."),u&&a.indexOf("."+u)!==a.length-u.length-1&&(n=" [as "+u+"]"),""+h+a+n+" ("+i+")"):""+d+"."+(u||"<anonymous>")+" ("+i+")"):s?"new "+(a||"<anonymous>")+" ("+i+")":a?""+a+" ("+i+")":i},h={},s=function(t){var n,r;return h[t]?h[t]:(r=null!=f?f.extname(t):void 0,0>w.call(e.FILE_EXTENSIONS,r)?void 0:(n=e._compileFile(t,!0),h[t]=n.sourceMap))},Error.prepareStackTrace=function(t,n){var r,i,a;return a=function(e,t,n){var r,i;return i=s(e),i&&(r=i.sourceLocation([t-1,n-1])),r?[r[0]+1,r[1]+1]:null},i=function(){var t,i,s;for(s=[],t=0,i=n.length;i>t&&(r=n[t],r.getFunction()!==e.run);t++)s.push("  at "+o(r,a));return s}(),""+t+"\n"+i.join("\n")+"\n"}}.call(this),t.exports}(),require["./browser"]=function(){var exports={},module={exports:exports};return function(){var CoffeeScript,compile,runScripts,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};CoffeeScript=require("./coffee-script"),CoffeeScript.require=require,compile=CoffeeScript.compile,CoffeeScript.eval=function(code,options){return null==options&&(options={}),null==options.bare&&(options.bare=!0),eval(compile(code,options))},CoffeeScript.run=function(e,t){return null==t&&(t={}),t.bare=!0,t.shiftLine=!0,Function(compile(e,t))()},"undefined"!=typeof window&&null!==window&&("undefined"!=typeof btoa&&null!==btoa&&"undefined"!=typeof JSON&&null!==JSON&&"undefined"!=typeof unescape&&null!==unescape&&"undefined"!=typeof encodeURIComponent&&null!==encodeURIComponent&&(compile=function(e,t){var n,r,i;return null==t&&(t={}),t.sourceMap=!0,t.inline=!0,i=CoffeeScript.compile(e,t),n=i.js,r=i.v3SourceMap,""+n+"\n//# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(r)))+"\n//# sourceURL=coffeescript"}),CoffeeScript.load=function(e,t,n,r){var i;return null==n&&(n={}),null==r&&(r=!1),n.sourceFiles=[e],i=window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLHTTP"):new window.XMLHttpRequest,i.open("GET",e,!0),"overrideMimeType"in i&&i.overrideMimeType("text/plain"),i.onreadystatechange=function(){var o,a;if(4===i.readyState){if(0!==(a=i.status)&&200!==a)throw Error("Could not load "+e);if(o=[i.responseText,n],r||CoffeeScript.run.apply(CoffeeScript,o),t)return t(o)}},i.send(null)},runScripts=function(){var e,t,n,r,i,o,a,s,l,c,u;for(s=window.document.getElementsByTagName("script"),t=["text/coffeescript","text/literate-coffeescript"],e=function(){var e,n,r,i;for(i=[],e=0,n=s.length;n>e;e++)o=s[e],r=o.type,__indexOf.call(t,r)>=0&&i.push(o);return i}(),i=0,n=function(){var t;return t=e[i],t instanceof Array?(CoffeeScript.run.apply(CoffeeScript,t),i++,n()):void 0},l=function(r,i){var o;return o={literate:r.type===t[1]},r.src?CoffeeScript.load(r.src,function(t){return e[i]=t,n()},o,!0):(o.sourceFiles=["embedded"],e[i]=[r.innerHTML,o])},r=c=0,u=e.length;u>c;r=++c)a=e[r],l(a,r);return n()},window.addEventListener?window.addEventListener("DOMContentLoaded",runScripts,!1):window.attachEvent("onload",runScripts))}.call(this),module.exports}(),require["./coffee-script"]}();"function"==typeof define&&define.amd?define(function(){return CoffeeScript}):root.CoffeeScript=CoffeeScript}(this),"object"!=typeof JSON&&(JSON={}),function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;o>n;n+=1)a[n]=str(n,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,l),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=str(r,l),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var Showdown={extensions:{}},forEach=Showdown.forEach=function(e,t){if("function"==typeof e.forEach)e.forEach(t);else{var n,r=e.length;for(n=0;r>n;n++)t(e[n],n,e)}},stdExtName=function(e){return e.replace(/[_-]||\s/g,"").toLowerCase()};Showdown.converter=function(e){var t,n,r,i=0,o=[],a=[];if("undefind"!=typeof module&&"undefined"!=typeof exports&&"undefind"!=typeof require){var s=require("fs");if(s){var l=s.readdirSync((__dirname||".")+"/extensions").filter(function(e){return~e.indexOf(".js")}).map(function(e){return e.replace(/\.js$/,"")});Showdown.forEach(l,function(e){var t=stdExtName(e);Showdown.extensions[t]=require("./extensions/"+e)})}}if(this.makeHtml=function(e){return t={},n={},r=[],e=e.replace(/~/g,"~T"),e=e.replace(/\$/g,"~D"),e=e.replace(/\r\n/g,"\n"),e=e.replace(/\r/g,"\n"),e="\n\n"+e+"\n\n",e=B(e),e=e.replace(/^[ \t]+$/gm,""),Showdown.forEach(o,function(t){e=f(t,e)}),e=L(e),e=d(e),e=h(e),e=m(e),e=D(e),e=e.replace(/~D/g,"$$"),e=e.replace(/~T/g,"~"),Showdown.forEach(a,function(t){e=f(t,e)}),e},e&&e.extensions){var c=this;Showdown.forEach(e.extensions,function(e){if("string"==typeof e&&(e=Showdown.extensions[stdExtName(e)]),"function"!=typeof e)throw"Extension '"+e+"' could not be loaded.  It was either not found or is not a valid extension.";Showdown.forEach(e(c),function(e){e.type?"language"===e.type||"lang"===e.type?o.push(e):("output"===e.type||"html"===e.type)&&a.push(e):a.push(e)})})}var u,f=function(e,t){if(e.regex){var n=new RegExp(e.regex,"g");return t.replace(n,e.replace)}return e.filter?e.filter(t):void 0},h=function(e){return e+="~0",e=e.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|(?=~0))/gm,function(e,r,i,o,a){return r=r.toLowerCase(),t[r]=_(i),o?o+a:(a&&(n[r]=a.replace(/"/g,"&quot;")),"")}),e=e.replace(/~0/,"")},d=function(e){e=e.replace(/\n/g,"\n\n");return e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,p),e=e.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|style|section|header|footer|nav|article|aside)\b[^\r]*?<\/\2>[ \t]*(?=\n+)\n)/gm,p),e=e.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,p),e=e.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,p),e=e.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,p),e=e.replace(/\n\n/g,"\n")},p=function(e,t){var n=t;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(r.push(n)-1)+"K\n\n"},m=function(e){e=x(e);var t=T("<hr />");return e=e.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,t),e=e.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,t),e=C(e),e=S(e),e=E(e),e=d(e),e=O(e)},g=function(e){return e=M(e),e=v(e),e=F(e),e=w(e),e=y(e),e=I(e),e=_(e),e=N(e),e=e.replace(/  +\n/g," <br />\n")},v=function(e){var t=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return e=e.replace(t,function(e){var t=e.replace(/(.)<\/?code>(?=.)/g,"$1`");return t=j(t,"\\`*_")})},y=function(e){return e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,b),e=e.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?(?:\(.*?\).*?)?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,b),e=e.replace(/(\[([^\[\]]+)\])()()()()()/g,b)},b=function(e,r,i,o,a,s,l,c){void 0==c&&(c="");var u=r,f=i,h=o.toLowerCase(),d=a,p=c;if(""==d)if(""==h&&(h=f.toLowerCase().replace(/ ?\n/g," ")),d="#"+h,void 0!=t[h])d=t[h],void 0!=n[h]&&(p=n[h]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;d=""}d=j(d,"*_");var m='<a href="'+d+'"';return""!=p&&(p=p.replace(/"/g,"&quot;"),p=j(p,"*_"),m+=' title="'+p+'"'),m+=">"+f+"</a>"},w=function(e){return e=e.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,k),e=e.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,k)},k=function(e,r,i,o,a,s,l,c){var u=r,f=i,h=o.toLowerCase(),d=a,p=c;if(p||(p=""),""==d){if(""==h&&(h=f.toLowerCase().replace(/ ?\n/g," ")),d="#"+h,void 0==t[h])return u;d=t[h],void 0!=n[h]&&(p=n[h])}f=f.replace(/"/g,"&quot;"),d=j(d,"*_");var m='<img src="'+d+'" alt="'+f+'"';return p=p.replace(/"/g,"&quot;"),p=j(p,"*_"),m+=' title="'+p+'"',m+=" />"},x=function(e){function t(e){return e.replace(/[^\w]/g,"").toLowerCase()}return e=e.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(e,n){return T('<h1 id="'+t(n)+'">'+g(n)+"</h1>")}),e=e.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(e,n){return T('<h2 id="'+t(n)+'">'+g(n)+"</h2>")}),e=e.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(e,n,r){var i=n.length;return T("<h"+i+' id="'+t(r)+'">'+g(r)+"</h"+i+">")})},C=function(e){e+="~0";var t=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return i?e=e.replace(t,function(e,t,n){var r=t,i=n.search(/[*+-]/g)>-1?"ul":"ol";r=r.replace(/\n{2,}/g,"\n\n\n");var o=u(r);return o=o.replace(/\s+$/,""),o="<"+i+">"+o+"</"+i+">\n"}):(t=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,e=e.replace(t,function(e,t,n,r){var i=t,o=n,a=r.search(/[*+-]/g)>-1?"ul":"ol",o=o.replace(/\n{2,}/g,"\n\n\n"),s=u(o);return s=i+"<"+a+">\n"+s+"</"+a+">\n"})),e=e.replace(/~0/,"")};u=function(e){return i++,e=e.replace(/\n{2,}$/,"\n"),e+="~0",e=e.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(e,t,n,r,i){var o=i,a=t;return a||o.search(/\n{2,}/)>-1?o=m($(o)):(o=C($(o)),o=o.replace(/\n$/,""),o=g(o)),"<li>"+o+"</li>\n"}),e=e.replace(/~0/g,""),i--,e};var S=function(e){return e+="~0",e=e.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(e,t,n){var r=t,i=n;return r=A($(r)),r=B(r),r=r.replace(/^\n+/g,""),r=r.replace(/\n+$/g,""),r="<pre><code>"+r+"\n</code></pre>",T(r)+i}),e=e.replace(/~0/,"")},L=function(e){return e+="~0",e=e.replace(/(?:^|\n)```(.*)\n([\s\S]*?)\n```/g,function(e,t,n){var r=t,i=n;return i=A(i),i=B(i),i=i.replace(/^\n+/g,""),i=i.replace(/\n+$/g,""),i="<pre><code"+(r?' class="'+r+'"':"")+">"+i+"\n</code></pre>",T(i)}),e=e.replace(/~0/,"")},T=function(e){return e=e.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(r.push(e)-1)+"K\n\n"},M=function(e){return e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(e,t,n,r){var i=r;return i=i.replace(/^([ \t]*)/g,""),i=i.replace(/[ \t]*$/g,""),i=A(i),t+"<code>"+i+"</code>"})},A=function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=j(e,"*_{}[]\\",!1)},N=function(e){return e=e.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),e=e.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},E=function(e){return e=e.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(e,t){var n=t;return n=n.replace(/^[ \t]*>[ \t]?/gm,"~0"),n=n.replace(/~0/g,""),n=n.replace(/^[ \t]+$/gm,""),n=m(n),n=n.replace(/(^|\n)/g,"$1  "),n=n.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(e,t){var n=t;return n=n.replace(/^  /gm,"~0"),n=n.replace(/~0/g,"")}),T("<blockquote>\n"+n+"\n</blockquote>")})},O=function(e){e=e.replace(/^\n+/g,""),e=e.replace(/\n+$/g,"");for(var t=e.split(/\n{2,}/g),n=[],i=t.length,o=0;i>o;o++){var a=t[o];a.search(/~K(\d+)K/g)>=0?n.push(a):a.search(/\S/)>=0&&(a=g(a),a=a.replace(/^([ \t]*)/g,"<p>"),a+="</p>",n.push(a))}i=n.length;for(var o=0;i>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var s=r[RegExp.$1];s=s.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,s)}return n.join("\n\n")},_=function(e){return e=e.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),e=e.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},F=function(e){return e=e.replace(/\\(\\)/g,P),e=e.replace(/\\([`*_{}\[\]()>#+-.!])/g,P)},I=function(e){return e=e.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),e=e.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(e,t){return R(D(t))})},R=function(e){var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e="mailto:"+e,e=e.replace(/./g,function(e){if("@"==e)e=t[Math.floor(2*Math.random())](e);else if(":"!=e){var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}),e='<a href="'+e+'">'+e+"</a>",e=e.replace(/">.+:/g,'">')},D=function(e){return e=e.replace(/~E(\d+)E/g,function(e,t){var n=parseInt(t);return String.fromCharCode(n)})},$=function(e){return e=e.replace(/^(\t|[ ]{1,4})/gm,"~0"),e=e.replace(/~0/g,"")},B=function(e){return e=e.replace(/\t(?=\t)/g,"    "),e=e.replace(/\t/g,"~A~B"),e=e.replace(/~B(.+?)~A/g,function(e,t){for(var n=t,r=4-n.length%4,i=0;r>i;i++)n+=" ";return n}),e=e.replace(/~A/g,"    "),e=e.replace(/~B/g,"")},j=function(e,t,n){var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var i=new RegExp(r,"g");return e=e.replace(i,P)},P=function(e,t){var n=t.charCodeAt(0);return"~E"+n+"E"}},"undefined"!=typeof module&&(module.exports=Showdown),"function"==typeof define&&define.amd&&define("showdown",function(){return Showdown}),function(e){function t(t){var i=e(this).data(v),o=d[i.t],a=o.g[i.i];if(a.ox=t.pageX,a.l=a[R]()[I],c[E](O+v,r)[E](_+v,n),H[T](S+"*{cursor:"+o.opt.dragCursor+$+D),a[A](o.opt.draggingClass),h=a,o.c[i.i].l)for(t=0;t<o.ln;t++)i=o.c[t],i.l=u,i.w=i[k]();return u}function n(t){if(c.unbind(O+v).unbind(_+v),e("head :last-child").remove(),h){h[M](h.t.opt.draggingClass);var n=h.t,r=n.opt.onResize;h.x&&(i(n,h.i,1),o(n),r&&(t[F]=n[0],r(t))),n.p&&l&&a(n),h=f}}function r(e){if(h){var t=h.t,n=e.pageX-h.ox+h.l,r=t.opt.minWidth,a=h.i,s=1.5*t.cs+r+t.b,l=a==t.ln-1?t.w-s:t.g[a+1][R]()[I]-t.cs-r,r=a?t.g[a-1][R]()[I]+t.cs+r:s,n=b.max(r,b.min(l,n));h.x=n,h.css(I,n+g),t.opt.liveDrag&&(i(t,a),o(t),n=t.opt.onDrag)&&(e[F]=t[0],n(e))}return u}function i(e,t,n){var r=h.x-h.l,i=e.c[t],o=e.c[t+1],a=i.w+r,r=o.w-r;i[k](a+g),o[k](r+g),e.cg.eq(t)[k](a+g),e.cg.eq(t+1)[k](r+g),n&&(i.w=a,o.w=r)}function o(e){e.gc[k](e.w);for(var t=0;t<e.ln;t++){var n=e.c[t];e.g[t].css({left:n.offset().left-e.offset()[I]+n.outerWidth()+e.cs/2+g,height:e.opt.headerOnly?e.c[0].outerHeight():e.outerHeight()})}}function a(e,t){var n,r=0,i=0,o=[];if(t)if(e.cg[N](k),e.opt.flush)l[e.id]="";else{for(n=l[e.id].split(";");i<e.ln;i++)o[L](100*n[i]/n[e.ln]+"%"),t.eq(i).css(k,o[i]);for(i=0;i<e.ln;i++)e.cg.eq(i).css(k,o[i])}else{l[e.id]="";for(i in e.c)n=e.c[i][k](),l[e.id]+=n+";",r+=n;l[e.id]+=r}}function s(n){var r=">thead>tr>",i='"></div>',s=">tbody>tr:first>",c=">tr:first>",u="td",f="th",h=n.find(r+f+","+r+u);h.length||(h=n.find(s+f+","+c+f+","+s+u+","+c+u)),n.cg=n.find("col"),n.ln=h.length,n.p&&l&&l[n.id]&&a(n,h),h.each(function(r){var o=e(this),a=e(n.gc[T](C+"CRG"+i)[0].lastChild);a.t=n,a.i=r,a.c=o,o.w=o[k](),n.g[L](a),n.c[L](o),o[k](o.w)[N](k),r<n.ln-1?a.mousedown(t)[T](n.opt.gripInnerHtml)[T](C+v+'" style="cursor:'+n.opt.hoverCursor+i):a[A]("CRL")[M]("CRG"),a.data(v,{i:r,t:n[x](m)})}),n.cg[N](k),o(n),n.find("td, th").not(h).not(P+"th, table td").each(function(){e(this)[N](k)})}var l,c=e(document),u=!1,f=null,h=f,d=[],p=0,m="id",g="px",v="CRZ",y=parseInt,b=Math,w=e.browser.msie,k="width",x="attr",C='<div class="',S="<style type='text/css'>",L="push",T="append",M="removeClass",A="addClass",N="removeAttr",E="bind",O="mousemove.",_="mouseup.",F="currentTarget",I="left",R="position",D="}</style>",$="!important;",B=":0px"+$,j="resize",P="table",H=e("head")[T](S+".CRZ{table-layout:fixed;}.CRZ td,.CRZ th{padding-"+I+B+"padding-right"+B+"overflow:hidden}.CRC{height:0px;"+R+":relative;}.CRG{margin-left:-5px;"+R+":absolute;z-index:5;}.CRG .CRZ{"+R+":absolute;background-color:red;filter:alpha(opacity=1);opacity:0;width:10px;height:100%;top:0px}.CRL{"+R+":absolute;width:1px}.CRD{ border-left:1px dotted black"+D);try{l=sessionStorage}catch(W){}e(window)[E](j+"."+v,function(){for(t in d){var e,t=d[t],n=0;if(t[M](v),t.w!=t[k]()){for(t.w=t[k](),e=0;e<t.ln;e++)n+=t.c[e].w;for(e=0;e<t.ln;e++)t.c[e].css(k,b.round(1e3*t.c[e].w/n)/10+"%").l=1}o(t[A](v))}}),e.fn.extend({colResizable:function(t){return t=e.extend({draggingClass:"CRD",gripInnerHtml:"",liveDrag:u,minWidth:15,headerOnly:u,hoverCursor:"e-"+j,dragCursor:"e-"+j,postbackSafe:u,flush:u,marginLeft:f,marginRight:f,disable:u,onDrag:f,onResize:f},t),this.each(function(){var n=t,r=e(this);if(n.disable)r=r[x](m),(n=d[r])&&n.is(P)&&(n[M](v).gc.remove(),delete d[r]);else{var i=r.id=r[x](m)||v+p++;r.p=n.postbackSafe,r.is(P)&&!d[i]&&(r[A](v)[x](m,i).before(C+'CRC"/>'),r.opt=n,r.g=[],r.c=[],r.w=r[k](),r.gc=r.prev(),n.marginLeft&&r.gc.css("marginLeft",n.marginLeft),n.marginRight&&r.gc.css("marginRight",n.marginRight),r.cs=y(w?this.cellSpacing||this.currentStyle.borderSpacing:r.css("border-spacing"))||2,r.b=y(w?this.border||this.currentStyle.borderLeftWidth:r.css("border-"+I+"-"+k))||1,d[i]=r,s(r))}})}})}(jQuery);var hello=function(e){return hello.use(e)};hello.utils={extend:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=0;n<t.length;n++){var r=t[n];if(e instanceof Object&&r instanceof Object&&e!==r)for(var i in r)e[i]=hello.utils.extend(e[i],r[i]);else e=r}return e}},hello.utils.extend(hello,{settings:{redirect_uri:window.location.href.split("#")[0],response_type:"token",display:"popup",state:"",oauth_proxy:"https://auth-server.herokuapp.com/proxy",timeout:2e4,default_service:null,force:!0},service:function(e){return"undefined"!=typeof e?this.utils.store("sync_service",e):this.utils.store("sync_service")},services:{},use:function(e){var t=this.utils.objectCreate(this);return t.settings=this.utils.objectCreate(this.settings),e&&(t.settings.default_service=e),t.utils.Event.call(t),t},init:function(e,t){var n=this.utils;if(!e)return this.services;for(var r in e)e.hasOwnProperty(r)&&"object"!=typeof e[r]&&(e[r]={id:e[r]});n.extend(this.services,e);for(r in this.services)this.services.hasOwnProperty(r)&&(this.services[r].scope=this.services[r].scope||{});return t&&(n.extend(this.settings,t),"redirect_uri"in t&&(this.settings.redirect_uri=n.realPath(t.redirect_uri))),this},login:function(){var e=this.use(),t=e.utils,n=t.args({network:"s",options:"o",callback:"f"},arguments);e.args=n;var r,i=n.options=t.merge(e.settings,n.options||{});if(n.network=e.settings.default_service=n.network||e.settings.default_service,e.on("complete",n.callback),"string"!=typeof n.network||!(n.network in e.services))return e.emitAfter("error complete",{error:{code:"invalid_network",message:"The provided network was not recognized"}}),e;var o=e.services[n.network],a=!1,s=t.globalEvent(function(n){var r=JSON.parse(n);hello.utils.store(r.network,r),a=!0,r.error?e.emit("complete error failed auth.failed",{error:r.error}):(t.store(r.network,r),e.emit("complete success login auth.login auth",{network:r.network,authResponse:r}))});n.qs={client_id:o.id,response_type:o.oauth.response_type||i.response_type,redirect_uri:i.redirect_uri,display:i.display,scope:"basic",state:{client_id:o.id,network:n.network,display:i.display,callback:s,state:i.state,oauth_proxy:i.oauth_proxy}};var l=t.store(n.network),c=(i.scope||"").toString();if(c=(c?c+",":"")+n.qs.scope,l&&"scope"in l&&l.scope instanceof String&&(c+=","+l.scope),n.qs.state.scope=hello.utils.unique(c.split(/[,\s]+/)).join(","),n.qs.scope=c.replace(/[^,\s]+/gi,function(t){if(t in o.scope)return o.scope[t];for(var n in e.services){var r=e.services[n].scope;if(r&&t in r)return""}return t}).replace(/[,\s]+/gi,","),n.qs.scope=t.unique(n.qs.scope.split(/,+/)).join(o.scope_delim||","),i.force===!1&&l&&"access_token"in l&&l.access_token&&"expires"in l&&l.expires>(new Date).getTime()/1e3){var u=t.diff(l.scope||[],n.qs.state.scope||[]);if(0===u.length)return e.emit("notice","User already has a valid access_token"),e.emitAfter("complete success login",{network:n.network,authResponse:l}),e}if(n.qs.redirect_uri=t.realPath(n.qs.redirect_uri),n.qs.state.oauth=o.oauth,n.qs.state=JSON.stringify(n.qs.state),"login"in o&&"function"==typeof o.login&&o.login(n),1===parseInt(o.oauth.version,10)?r=t.qs(i.oauth_proxy,n.qs):"none"===i.display&&o.oauth.grant&&l.refresh_token?(n.qs.refresh_token=l.refresh_token,r=t.qs(i.oauth_proxy,n.qs)):r=t.qs(o.oauth.auth,n.qs),e.emit("notice","Authorization URL "+r),"none"===i.display)t.iframe(r);else if("popup"===i.display)var f=hello.utils.popup(r,n.qs.redirect_uri,i.window_width||500,i.window_height||550),h=setInterval(function(){if((!f||f.closed)&&(clearInterval(h),!a)){var t={code:"cancelled",message:"Login has been cancelled"};f||(t={code:"blocked",message:"Popup was blocked"}),e.emit("complete failed error",{error:t,network:n.network})}},100);else window.location=r;return e},logout:function(){var e=this.use(),t=e.utils,n=t.args({name:"s",options:"o",callback:"f"},arguments);if(n.options=n.options||{},e.on("complete",n.callback),n.name=n.name||e.settings.default_service,!n.name||n.name in e.services)if(n.name&&t.store(n.name)){var r=function(t){e.utils.store(n.name,""),e.emitAfter("complete logout success auth.logout auth",hello.utils.merge({network:n.name},t||{}))},i={};if(n.options.force){var o=e.services[n.name].logout;if(o)if("function"==typeof o&&(o=o(r)),"string"==typeof o)t.iframe(o),i.force=null,i.message="Logout success on providers site was indeterminate";else if(void 0===o)return e}r(i)}else if(n.name)e.emitAfter("complete error",{error:{code:"invalid_session",message:"There was no session to remove"}});else{for(var a in e.services)e.services.hasOwnProperty(a)&&e.logout(a);e.service(!1)}else e.emitAfter("complete error",{error:{code:"invalid_network",message:"The network was unrecognized"}});return e},getAuthResponse:function(e){return e=e||this.settings.default_service,e&&e in this.services?this.utils.store(e)||null:(this.emit("complete error",{error:{code:"invalid_network",message:"The network was unrecognized"}}),null)},events:{}}),hello.utils.extend(hello.utils,{qs:function(e,t){if(t){var n;for(var r in t)if(e.indexOf(r)>-1){var i="[\\?\\&]"+r+"=[^\\&]*";n=new RegExp(i),e=e.replace(n,"")}}return e+(this.isEmpty(t)?"":(e.indexOf("?")>-1?"&":"?")+this.param(t))},param:function(e){var t,n,r={};if("string"==typeof e){if(n=e.replace(/^[\#\?]/,"").match(/([^=\/\&]+)=([^\&]+)/g))for(var i=0;i<n.length;i++)t=n[i].match(/([^=]+)=(.*)/),r[t[1]]=decodeURIComponent(t[2]);return r}var o=e;r=[];for(var a in o)o.hasOwnProperty(a)&&o.hasOwnProperty(a)&&r.push([a,"?"===o[a]?"?":encodeURIComponent(o[a])].join("="));return r.join("&")},store:function(e){var t=[e,window.sessionStorage],n=0;for(e=t[n++];e;)try{e.setItem(n,n),e.removeItem(n);break}catch(r){e=t[n++]}return e||(e={getItem:function(e){e+="=";for(var t=document.cookie.split(";"),n=0;n<t.length;n++){var r=t[n].replace(/(^\s+|\s+$)/,"");if(r&&0===r.indexOf(e))return r.substr(e.length)}return null},setItem:function(e,t){document.cookie=e+"="+t}}),function(t,n){var r=JSON.parse(e.getItem("hello"))||{};if(t&&void 0===n)return r[t]||null;if(t&&null===n)try{delete r[t]}catch(i){r[t]=null}else{if(!t)return r;r[t]=n}return e.setItem("hello",JSON.stringify(r)),r||null}}(window.localStorage),append:function(e,t,n){var r="string"==typeof e?document.createElement(e):e;if("object"==typeof t)if("tagName"in t)n=t;else for(var i in t)if(t.hasOwnProperty(i))if("object"==typeof t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(r[i][o]=t[i][o]);else"html"===i?r.innerHTML=t[i]:/^on/.test(i)?r[i]=t[i]:r.setAttribute(i,t[i]);return"body"===n?!function a(){document.body?document.body.appendChild(r):setTimeout(a,16)}():"object"==typeof n?n.appendChild(r):"string"==typeof n&&document.getElementsByTagName(n)[0].appendChild(r),r},iframe:function(e){this.append("iframe",{src:e,style:{position:"absolute",left:"-1000px",bottom:0,height:"1px",width:"1px"}},"body")},merge:function(){var e=Array.prototype.slice.call(arguments);return e.unshift({}),this.extend.apply(null,e)},args:function(e,t){var n={},r=0,i=null,o=null;for(o in e)if(e.hasOwnProperty(o))break;if(1===t.length&&"object"==typeof t[0]&&"o!"!=e[o])for(o in t[0])if(e.hasOwnProperty(o)&&o in e)return t[0];for(o in e)if(e.hasOwnProperty(o))if(i=typeof t[r],"function"==typeof e[o]&&e[o].test(t[r])||"string"==typeof e[o]&&(e[o].indexOf("s")>-1&&"string"===i||e[o].indexOf("o")>-1&&"object"===i||e[o].indexOf("i")>-1&&"number"===i||e[o].indexOf("a")>-1&&"object"===i||e[o].indexOf("f")>-1&&"function"===i))n[o]=t[r++];else if("string"==typeof e[o]&&e[o].indexOf("!")>-1)return!1;return n},realPath:function(e){var t=window.location;if(!e)return t.href;for(0===e.indexOf("/")?e=t.protocol+(0===e.indexOf("//")?e:"//"+t.host+e):e.match(/^https?\:\/\//)||(e=(t.href.replace(/#.*/,"").replace(/\/[^\/]+$/,"/")+e).replace(/\/\.\//g,"/"));/\/[^\/]+\/\.\.\//g.test(e);)e=e.replace(/\/[^\/]+\/\.\.\//g,"/");return e},diff:function(e,t){for(var n=[],r=0;r<t.length;r++)-1===this.indexOf(e,t[r])&&n.push(t[r]);return n},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},unique:function(e){if("object"!=typeof e)return[];for(var t=[],n=0;n<e.length;n++)e[n]&&0!==e[n].length&&-1===this.indexOf(t,e[n])&&t.push(e[n]);return t},isEmpty:function(e){if(!e)return!0;if(e&&e.length>0)return!1;if(e&&0===e.length)return!0;for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},objectCreate:function(){function e(){}return Object.create?Object.create:function(t){if(1!=arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return e.prototype=t,new e}}(),Event:function(){var e=/[\s\,]+/;this.parent={events:this.events,findEvents:this.findEvents,parent:this.parent,utils:this.utils},this.events={},this.on=function(t,n){if(n&&"function"==typeof n)for(var r=t.split(e),i=0;i<r.length;i++)this.events[r[i]]=[n].concat(this.events[r[i]]||[]);return this},this.off=function(e,t){return this.findEvents(e,function(e,n){t&&this.events[e][n]!==t||(this.events[e][n]=null)}),this},this.emit=function(t){var n=Array.prototype.slice.call(arguments,1);n.push(t);for(var r=function(r,i){n[n.length-1]="*"===r?t.split(e)[0]:r,this.events[r][i].apply(this,n)},i=this;i&&i.findEvents;)i.findEvents(t+",*",r),i=i.parent;return this},this.emitAfter=function(){var e=this,t=arguments;return setTimeout(function(){e.emit.apply(e,t)},0),this},this.success=function(e){return this.on("success",e)},this.error=function(e){return this.on("error",e)},this.complete=function(e){return this.on("complete",e)},this.findEvents=function(t,n){var r=t.split(e);for(var i in this.events)if(this.events.hasOwnProperty(i)&&this.utils.indexOf(r,i)>-1)for(var o=0;o<this.events[i].length;o++)this.events[i][o]&&n.call(this,i,o)}},globalEvent:function(e,t){return t=t||"_hellojs_"+parseInt(1e12*Math.random(),10).toString(36),window[t]=function(){try{bool=e.apply(this,arguments)}catch(n){console.error(n)}if(bool)try{delete window[t]}catch(n){}},t},popup:function(e,t,n,r){var i=document.documentElement,o=void 0!==window.screenLeft?window.screenLeft:screen.left,a=void 0!==window.screenTop?window.screenTop:screen.top,s=window.innerWidth||i.clientWidth||screen.width,l=window.innerHeight||i.clientHeight||screen.height,c=(s-n)/2+o,u=(l-r)/2+a,f=function(e){var i=window.open(e,"_blank","resizeable=true,height="+r+",width="+n+",left="+c+",top="+u);return i&&i.addEventListener&&i.addEventListener("loadstart",function(e){var n=e.url;if(0===n.indexOf(t)){var r=document.createElement("a");r.href=n;var o={location:{assign:function(e){i.addEventListener("exit",function(){setTimeout(function(){f(e)},1e3)}),o.close()},search:r.search,hash:r.hash,href:n},close:function(){i.close&&i.close()}};hello.utils.responseHandler(o,window)}}),i&&i.focus&&i.focus(),i};return-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(e=t+"#oauth_redirect="+encodeURIComponent(encodeURIComponent(e))),f(e)},responseHandler:function(e,t){function n(e,t,n){if(r.store(e.network,e),!("display"in e&&"page"===e.display)){if(n){var i=e.callback;try{delete e.callback}catch(o){}if(r.store(e.network,e),i in n){var a=JSON.stringify(e);try{n[i](a)}catch(o){}}}try{t.close()}catch(o){}t.addEventListener&&t.addEventListener("load",function(){t.close()})}}var r=this,i=e.location,o=function(t){i.assign?i.assign(t):e.location=t},a=r.merge(r.param(i.search||""),r.param(i.hash||""));if(a&&"state"in a){try{var s=JSON.parse(a.state);r.extend(a,s)}catch(l){console.error("Could not decode state parameter")}"access_token"in a&&a.access_token&&a.network?(a.expires_in&&0!==parseInt(a.expires_in,10)||(a.expires_in=0),a.expires_in=parseInt(a.expires_in,10),a.expires=(new Date).getTime()/1e3+(a.expires_in||31536e3),n(a,e,t)):"error"in a&&a.error&&a.network?(a.error={code:a.error,message:a.error_message||a.error_description},n(a,e,t)):a&&a.callback&&"result"in a&&a.result&&a.callback in t&&t[a.callback](JSON.parse(a.result))
}else if("oauth_redirect"in a)return void o(decodeURIComponent(a.oauth_redirect));if(a=r.param(i.search),a.code&&a.state||a.oauth_token&&a.proxy_url){a.redirect_uri=i.href.replace(/[\?\#].*$/,"");var c=JSON.parse(a.state),u=(c.oauth_proxy||a.proxy_url)+"?"+r.param(a);o(u)}}}),hello.utils.Event.call(hello),hello.subscribe=hello.on,hello.trigger=hello.emit,hello.unsubscribe=hello.off,hello.utils.responseHandler(window,window.opener||window.parent),function(e){var t={},n={};e.on("auth.login, auth.logout",function(n){n&&"object"==typeof n&&n.network&&(t[n.network]=e.utils.store(n.network)||{})}),function r(){var i=(new Date).getTime()/1e3,o=function(t){e.emit("auth."+t,{network:a,authResponse:s})};for(var a in e.services)if(e.services.hasOwnProperty(a)){if(!e.services[a].id)continue;var s=e.utils.store(a)||{},l=e.services[a],c=t[a]||{};if(s&&"callback"in s){var u=s.callback;try{delete s.callback}catch(f){}e.utils.store(a,s);try{window[u](s)}catch(f){}}if(s&&"expires"in s&&s.expires<i){var h=!("autorefresh"in l)||l.autorefresh;!h||a in n&&!(n[a]<i)?h||a in n||(o("expired"),n[a]=!0):(e.emit("notice",a+" has expired trying to resignin"),e.login(a,{display:"none",force:!1}),n[a]=i+600);continue}if(c.access_token===s.access_token&&c.expires===s.expires)continue;!s.access_token&&c.access_token?o("logout"):s.access_token&&!c.access_token?o("login"):s.expires!==c.expires&&o("update"),t[a]=s,a in n&&delete n[a]}setTimeout(r,1e3)}()}(hello),hello.api=function(){function e(e){if(n.data=i.clone(o),"get"===n.method){for(var a,s=/[\?\&]([^=&]+)(=([^&]+))?/gi;a=s.exec(e);)n.data[a[1]]=a[3];e=e.replace(/\?.*/,"")}var f=l[{"delete":"del"}[n.method]||n.method]||{},h=f[e]||f["default"]||e,d=function(e){e=e.replace(/\@\{([a-z\_\-]+)(\|.+?)?\}/gi,function(e,t,i){var o=i?i.replace(/^\|/,""):"";return t in n.data?(o=n.data[t],delete n.data[t]):"undefined"==typeof i&&r.emitAfter("error",{error:{code:"missing_attribute_"+t,message:"The attribute "+t+" is missing from the request"}}),o}),e.match(/^https?:\/\//)||(e=l.base+e);var o={},a=function(a,s){a&&("function"==typeof a?a(o):i.extend(o,a));var c=i.qs(e,o||{});r.emit("notice","Request "+c),t(n.network,c,n.method,n.data,l.querystring,s)};if(!i.isEmpty(n.data)&&!("FileList"in window)&&i.hasBinary(n.data))return i.post(a,n.data,"form"in l?l.form(n):null,c),r;if("delete"===n.method){var s=c;c=function(e,t){s(!e||i.isEmpty(e)?{success:!0}:e,t)}}if("withCredentials"in new XMLHttpRequest&&(!("xhr"in l)||l.xhr&&l.xhr(n,o))){var f=i.xhr(n.method,a,n.headers,n.data,c);f.onprogress=function(e){r.emit("progress",e)},f.upload.onprogress=function(e){r.emit("uploadprogress",e)}}else{if(n.callbackID=i.globalEvent(),"jsonp"in l&&l.jsonp(n,o),"api"in l&&l.api(e,n,u&&u.access_token?{access_token:u.access_token}:{},c))return;"post"===n.method?(o.redirect_uri=r.settings.redirect_uri,o.state=JSON.stringify({callback:n.callbackID}),i.post(a,n.data,"form"in l?l.form(n):null,c,n.callbackID,r.settings.timeout)):(i.extend(o,n.data),o.callback=n.callbackID,i.jsonp(a,c,n.callbackID,r.settings.timeout))}};"function"==typeof h?h(n,d):d(h)}function t(e,t,n,o,a,s){var l=r.services[e],c=u?u.access_token:null,f=l.oauth&&1===parseInt(l.oauth.version,10)?r.settings.oauth_proxy:null;if(f)return void s(i.qs(f,{path:t,access_token:c||"",then:"get"===n.toLowerCase()?"redirect":"proxy",method:n,suppress_response_codes:!0}));var h={access_token:c||""};a&&a(h),s(i.qs(t,h))}var n=this.utils.args({path:"s!",method:"s",data:"o",timeout:"i",callback:"f"},arguments),r=this.use(),i=r.utils;r.args=n,n.method=(n.method||"get").toLowerCase();var o=n.data=n.data||{};r.on("complete",n.callback),n.path=n.path.replace(/^\/+/,"");var a=(n.path.split(/[\/\:]/,2)||[])[0].toLowerCase();if(a in r.services){n.network=a;var s=new RegExp("^"+a+":?/?");n.path=n.path.replace(s,"")}n.network=r.settings.default_service=n.network||r.settings.default_service;var l=r.services[n.network];if(!l)return r.emitAfter("complete error",{error:{code:"invalid_network",message:"Could not match the service requested: "+n.network}}),r;n.timeout&&(r.settings.timeout=n.timeout),r.emit("notice","API request "+n.method.toUpperCase()+" '"+n.path+"' (request)",n);var c=function(t,i){if(l.wrap&&(n.path in l.wrap||"default"in l.wrap)){var o=n.path in l.wrap?n.path:"default",a=(new Date).getTime(),s=l.wrap[o](t,i,n);s&&(t=s),r.emit("notice","Processing took"+((new Date).getTime()-a))}r.emit("notice","API: "+n.method.toUpperCase()+" '"+n.path+"' (response)",t);var c=null;t&&"paging"in t&&t.paging.next&&(c=function(){e((t.paging.next.match(/^\?/)?n.path:"")+t.paging.next)}),r.emit("complete "+(!t||"error"in t?"error":"success"),t,c)};if(n.method in l&&n.path in l[n.method]&&l[n.method][n.path]===!1)return r.emitAfter("complete error",{error:{code:"invalid_path",message:"The provided path is not available on the selected network"}});var u=r.getAuthResponse(n.network);return e(n.path),r},hello.utils.extend(hello.utils,{isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},domInstance:function(e,t){var n="HTML"+(e||"").replace(/^[a-z]/,function(e){return e.toUpperCase()})+"Element";return t?window[n]?t instanceof window[n]:window.Element?t instanceof window.Element&&(!e||t.tagName&&t.tagName.toLowerCase()===e):!(t instanceof Object||t instanceof Array||t instanceof String||t instanceof Number)&&t.tagName&&t.tagName.toLowerCase()===e:!1},clone:function(e){if("nodeName"in e||this.isBinary(e))return e;var t,n={};for(t in e)n[t]="object"==typeof e[t]?this.clone(e[t]):e[t];return n},xhr:function(e,t,n,r,i){function o(e){for(var t,n={},r=/([a-z\-]+):\s?(.*);?/gi;t=r.exec(e);)n[t[1]]=t[2];return n}var a=this;if("function"!=typeof t){var s=t;t=function(e,t){t(a.qs(s,e))}}var l=new XMLHttpRequest,c=!1;"blob"===e&&(c=e,e="GET"),e=e.toUpperCase(),l.onload=function(){var t=l.response;try{t=JSON.parse(l.responseText)}catch(n){401===l.status&&(t={error:{code:"access_denied",message:l.statusText}})}var r=o(l.getAllResponseHeaders());r.statusCode=l.status,i(t||("DELETE"!==e?{error:{message:"Could not get resource"}}:{}),r)},l.onerror=function(){var e=l.responseText;try{e=JSON.parse(l.responseText)}catch(t){}i(e||{error:{code:"access_denied",message:"Could not get resource"}})};var u,f={};if("GET"===e||"DELETE"===e)a.isEmpty(r)||a.extend(f,r),r=null;else if(!(!r||"string"==typeof r||r instanceof FormData||r instanceof File||r instanceof Blob)){var h=new FormData;for(u in r)r.hasOwnProperty(u)&&(r[u]instanceof HTMLInputElement?"files"in r[u]&&r[u].files.length>0&&h.append(u,r[u].files[0]):r[u]instanceof Blob?h.append(u,r[u],r.name):h.append(u,r[u]));r=h}return t(f,function(t){if(l.open(e,t,!0),c&&("responseType"in l?l.responseType=c:l.overrideMimeType("text/plain; charset=x-user-defined")),n)for(var i in n)l.setRequestHeader(i,n[i]);l.send(r)}),l},jsonp:function(e,t,n,r){var i,o,a=this,s=0,l=document.getElementsByTagName("head")[0],c={error:{message:"server_error",code:"server_error"}},u=function(){s++||window.setTimeout(function(){t(c),l.removeChild(o)},0)},f=a.globalEvent(function(e){return c=e,!0},n);if("function"!=typeof e){var h=e;h=h.replace(new RegExp("=\\?(&|$)"),"="+f+"$1"),e=function(e,t){t(a.qs(h,e))}}e(function(e){for(var t in e)e.hasOwnProperty(t)&&"?"===e[t]&&(e[t]=f)},function(e){o=a.append("script",{id:f,name:f,src:e,async:!0,onload:u,onerror:u,onreadystatechange:function(){/loaded|complete/i.test(this.readyState)&&u()}}),window.navigator.userAgent.toLowerCase().indexOf("opera")>-1&&(i=a.append("script",{text:"document.getElementById('"+f+"').onerror();"}),o.async=!1),r&&window.setTimeout(function(){c={error:{message:"timeout",code:"timeout"}},u()},r),l.appendChild(o),i&&l.appendChild(i)})},post:function(e,t,n,r,i,o){var a=this,s=document;if("function"!=typeof e){var l=e;e=function(e,t){t(a.qs(l,e))}}var c,u=null,f=[],h=0,d=null,p=0,m=function(e){p++||r(e)};a.globalEvent(m,i);var g;try{g=s.createElement('<iframe name="'+i+'">')}catch(v){g=s.createElement("iframe")}if(g.name=i,g.id=i,g.style.display="none",n&&n.callbackonload&&(g.onload=function(){m({response:"posted",message:"Content was posted"})}),o&&setTimeout(function(){m({error:{code:"timeout",message:"The post operation timed out"}})},o),s.body.appendChild(g),a.domInstance("form",t)){for(u=t.form,h=0;h<u.elements.length;h++)u.elements[h]!==t&&u.elements[h].setAttribute("disabled",!0);t=u}if(a.domInstance("form",t))for(u=t,h=0;h<u.elements.length;h++)u.elements[h].disabled||"file"!==u.elements[h].type||(u.encoding=u.enctype="multipart/form-data",u.elements[h].setAttribute("name","file"));else{for(d in t)t.hasOwnProperty(d)&&a.domInstance("input",t[d])&&"file"===t[d].type&&(u=t[d].form,u.encoding=u.enctype="multipart/form-data");u||(u=s.createElement("form"),s.body.appendChild(u),c=u);var y;for(d in t)if(t.hasOwnProperty(d)){var b=a.domInstance("input",t[d])||a.domInstance("textArea",t[d])||a.domInstance("select",t[d]);if(b&&t[d].form===u)b&&t[d].name!==d&&(t[d].setAttribute("name",d),t[d].name=d);else{var w=u.elements[d];if(y)for(w instanceof NodeList||(w=[w]),h=0;h<w.length;h++)w[h].parentNode.removeChild(w[h]);y=s.createElement("input"),y.setAttribute("type","hidden"),y.setAttribute("name",d),y.value=b?t[d].value:a.domInstance(null,t[d])?t[d].innerHTML||t[d].innerText:t[d],u.appendChild(y)}}for(h=0;h<u.elements.length;h++)y=u.elements[h],y.name in t||y.getAttribute("disabled")===!0||(y.setAttribute("disabled",!0),f.push(y))}u.setAttribute("method","POST"),u.setAttribute("target",i),u.target=i,e({},function(e){u.setAttribute("action",e),setTimeout(function(){u.submit(),setTimeout(function(){try{c&&c.parentNode.removeChild(c)}catch(e){try{console.error("HelloJS: could not remove iframe")}catch(t){}}for(var n=0;n<f.length;n++)f[n]&&(f[n].setAttribute("disabled",!1),f[n].disabled=!1)},0)},100)})},hasBinary:function(e){for(var t in e)if(e.hasOwnProperty(t)&&this.isBinary(e[t]))return!0;return!1},isBinary:function(e){return e instanceof Object&&(this.domInstance("input",e)&&"file"===e.type||"FileList"in window&&e instanceof window.FileList||"File"in window&&e instanceof window.File||"Blob"in window&&e instanceof window.Blob)},toBlob:function(e){var t=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i,n=e.match(t);if(!n)return e;for(var r=atob(e.replace(t,"")),i=[],o=0;o<r.length;o++)i.push(r.charCodeAt(o));return new Blob([new Uint8Array(i)],{type:n[1]})}}),function(e){var t=e.api,n=e.utils;n.extend(n,{dataToJSON:function(e){var t=this,n=window,r=e.data;if(t.domInstance("form",r)?r=t.nodeListToJSON(r.elements):"NodeList"in n&&r instanceof NodeList?r=t.nodeListToJSON(r):t.domInstance("input",r)&&(r=t.nodeListToJSON([r])),("File"in n&&r instanceof n.File||"Blob"in n&&r instanceof n.Blob||"FileList"in n&&r instanceof n.FileList)&&(r={file:r}),!("FormData"in n&&r instanceof n.FormData))for(var i in r)if(r.hasOwnProperty(i))if("FileList"in n&&r[i]instanceof n.FileList)1===r[i].length&&(r[i]=r[i][0]);else{if(t.domInstance("input",r[i])&&"file"===r[i].type)continue;t.domInstance("input",r[i])||t.domInstance("select",r[i])||t.domInstance("textArea",r[i])?r[i]=r[i].value:t.domInstance(null,r[i])&&(r[i]=r[i].innerHTML||r[i].innerText)}return e.data=r,r},nodeListToJSON:function(e){for(var t={},n=0;n<e.length;n++){var r=e[n];!r.disabled&&r.name&&(t[r.name]="file"===r.type?r:r.value||r.innerHTML)}return t}}),e.api=function(){var e=n.args({path:"s!",method:"s",data:"o",timeout:"i",callback:"f"},arguments);return e.data&&n.dataToJSON(e),t.call(this,e)}}(hello),function(e){function t(e){e&&"error"in e&&(e.error={code:"server_error",message:e.error.message||e.error})}function n(t){if(!("object"!=typeof t||"Blob"in window&&t instanceof Blob||"ArrayBuffer"in window&&t instanceof ArrayBuffer||"error"in t)){var n=t.root+t.path.replace(/\&/g,"%26");t.thumb_exists&&(t.thumbnail=e.settings.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/thumbnails/"+n+"?format=jpeg&size=m")+"&access_token="+e.getAuthResponse("dropbox").access_token),t.type=t.is_dir?"folder":t.mime_type,t.name=t.path.replace(/.*\//g,""),t.is_dir?t.files="metadata/"+n:(t.downloadLink=e.settings.oauth_proxy+"?path="+encodeURIComponent("https://api-content.dropbox.com/1/files/"+n)+"&access_token="+e.getAuthResponse("dropbox").access_token,t.file="https://api-content.dropbox.com/1/files/"+n),t.id||(t.id=t.path.replace(/^\//,""))}}function r(e){return function(t,n){delete t.data.limit,n(e)}}e.init({dropbox:{login:function(e){e.options.window_width=1e3,e.options.window_height=1e3},oauth:{version:"1.0",auth:"https://www.dropbox.com/1/oauth/authorize",request:"https://api.dropbox.com/1/oauth/request_token",token:"https://api.dropbox.com/1/oauth/access_token"},autorefresh:!1,base:"https://api.dropbox.com/1/",root:"sandbox",get:{me:"account/info","me/files":r("metadata/@{root|sandbox}/@{parent}"),"me/folder":r("metadata/@{root|sandbox}/@{id}"),"me/folders":r("metadata/@{root|sandbox}/"),"default":function(e,t){e.path.match("https://api-content.dropbox.com/1/files/")&&(e.method="blob"),t(e.path)}},post:{"me/files":function(t,n){var r=t.data.parent,i=t.data.name;t.data={file:t.data.file},"string"==typeof t.data.file&&(t.data.file=e.utils.toBlob(t.data.file)),n("https://api-content.dropbox.com/1/files_put/@{root|sandbox}/"+r+"/"+i)},"me/folders":function(t,n){var r=t.data.name;t.data={},n("fileops/create_folder?root=@{root|sandbox}&"+e.utils.param({path:r}))}},del:{"me/files":"fileops/delete?root=@{root|sandbox}&path=@{id}","me/folder":"fileops/delete?root=@{root|sandbox}&path=@{id}"},wrap:{me:function(e){return t(e),e.uid?(e.name=e.display_name,e.first_name=e.name.split(" ")[0],e.last_name=e.name.split(" ")[1],e.id=e.uid,delete e.uid,delete e.display_name,e):e},"default":function(e){if(t(e),e.is_dir&&e.contents){e.data=e.contents,delete e.contents;for(var r=0;r<e.data.length;r++)e.data[r].root=e.root,n(e.data[r])}return n(e),e.is_deleted&&(e.success=!0),e}},xhr:function(e){if(e.data&&e.data.file){var t=e.data.file;t&&(e.data=t.files?t.files[0]:t)}return"delete"===e.method&&(e.method="post"),!0}}})}(hello),function(e){function t(e){return e.id&&(e.thumbnail=e.picture="http://graph.facebook.com/"+e.id+"/picture"),e}function n(e){if("data"in e)for(var n=0;n<e.data.length;n++)t(e.data[n]);return e}function r(t){if("data"in t)for(var n=e.getAuthResponse("facebook").access_token,r=0;r<t.data.length;r++){var o=t.data[r];o.picture&&(o.thumbnail=o.picture),o.cover_photo&&(o.thumbnail=i+o.cover_photo+"/picture?access_token="+n),"album"===o.type&&(o.files=o.photos=i+o.id+"/photos"),o.can_upload&&(o.upload_location=i+o.id+"/photos")}return t}var i="https://graph.facebook.com/";e.init({facebook:{name:"Facebook",login:function(e){e.options.window_width=580,e.options.window_height=400},oauth:{version:2,auth:"https://www.facebook.com/dialog/oauth/"},logout:function(t){var n=e.utils.globalEvent(t),r=encodeURIComponent(e.settings.redirect_uri+"?"+e.utils.param({callback:n,result:JSON.stringify({force:!0}),state:"{}"})),i=(e.utils.store("facebook")||{}).access_token;return e.utils.iframe("https://www.facebook.com/logout.php?next="+r+"&access_token="+i),i?void 0:!1},scope:{basic:"public_profile",email:"email",birthday:"user_birthday",events:"user_events",photos:"user_photos,user_videos",videos:"user_photos,user_videos",friends:"user_friends",files:"user_photos,user_videos",publish_files:"user_photos,user_videos,publish_stream",publish:"publish_stream",offline_access:"offline_access"},base:"https://graph.facebook.com/",get:{me:"me","me/friends":"me/friends","me/following":"me/friends","me/followers":"me/friends","me/share":"me/feed","me/files":"me/albums","me/albums":"me/albums","me/album":"@{id}/photos","me/photos":"me/photos","me/photo":"@{id}"},post:{"me/share":"me/feed","me/albums":"me/albums","me/album":"@{id}/photos"},del:{"me/photo":"@{id}"},wrap:{me:t,"me/friends":n,"me/following":n,"me/followers":n,"me/albums":r,"me/files":r,"default":r},xhr:function(t,n){return("get"===t.method||"post"===t.method)&&(n.suppress_response_codes=!0),"post"===t.method&&t.data&&"string"==typeof t.data.file&&(t.data.file=e.utils.toBlob(t.data.file)),!0},jsonp:function(t,n){var r=t.method.toLowerCase();"get"===r||e.utils.hasBinary(t.data)?"delete"===t.method&&(n.method="delete",t.method="post"):(t.data.method=r,t.method="get")},form:function(){return{callbackonload:!0}}}})}(hello),function(e){function t(t,n,r){var i=(r?"":"flickr:")+"?method="+t+"&api_key="+e.init().flickr.id+"&format=json";for(var o in n)n.hasOwnProperty(o)&&(i+="&"+o+"="+n[o]);return i}function n(n){var r=e.getAuthResponse("flickr");r&&r.user_nsid?n(r.user_nsid):e.api(t("flickr.test.login"),function(e){n(l(e,"user").id)})}function r(e,r){return r||(r={}),function(i,o){n(function(n){r.user_id=n,o(t(e,r,!0))})}}function i(e,t){var n="https://www.flickr.com/images/buddyicon.gif";return e.nsid&&e.iconserver&&e.iconfarm&&(n="https://farm"+e.iconfarm+".staticflickr.com/"+e.iconserver+"/buddyicons/"+e.nsid+(t?"_"+t:"")+".jpg"),n}function o(e,t,n,r,i){return i=i?"_"+i:"","https://farm"+t+".staticflickr.com/"+n+"/"+e+"_"+r+i+".jpg"}function a(e){e&&e.stat&&"ok"!=e.stat.toLowerCase()&&(e.error={code:"invalid_request",message:e.message})}function s(e){if(e.photoset||e.photos){var t="photoset"in e?"photoset":"photos";e=l(e,t),u(e),e.data=e.photo,delete e.photo;for(var n=0;n<e.data.length;n++){var r=e.data[n];r.name=r.title,r.picture=o(r.id,r.farm,r.server,r.secret,""),r.source=o(r.id,r.farm,r.server,r.secret,"b"),r.thumbnail=o(r.id,r.farm,r.server,r.secret,"m")}}return e}function l(e,t){return t in e?e=e[t]:"error"in e||(e.error={code:"invalid_request",message:e.message||"Failed to get data from Flickr"}),e}function c(e){if(a(e),e.contacts){e=l(e,"contacts"),u(e),e.data=e.contact,delete e.contact;for(var t=0;t<e.data.length;t++){var n=e.data[t];n.id=n.nsid,n.name=n.realname||n.username,n.thumbnail=i(n,"m")}}return e}function u(e){e.page&&e.pages&&e.page!==e.pages&&(e.paging={next:"?page="+ ++e.page})}e.init({flickr:{name:"Flickr",oauth:{version:"1.0a",auth:"https://www.flickr.com/services/oauth/authorize?perms=read",request:"https://www.flickr.com/services/oauth/request_token",token:"https://www.flickr.com/services/oauth/access_token"},autorefresh:!1,base:"https://api.flickr.com/services/rest",get:{me:r("flickr.people.getInfo"),"me/friends":r("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/following":r("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/followers":r("flickr.contacts.getList",{per_page:"@{limit|50}"}),"me/albums":r("flickr.photosets.getList",{per_page:"@{limit|50}"}),"me/photos":r("flickr.people.getPhotos",{per_page:"@{limit|50}"})},wrap:{me:function(e){if(a(e),e=l(e,"person"),e.id){if(e.realname){e.name=e.realname._content;var t=e.name.split(" ");e.first_name=t[0],e.last_name=t[1]}e.thumbnail=i(e,"l"),e.picture=i(e,"l")}return e},"me/friends":c,"me/followers":c,"me/following":c,"me/albums":function(e){if(a(e),e=l(e,"photosets"),u(e),e.photoset){e.data=e.photoset,delete e.photoset;for(var n=0;n<e.data.length;n++){var r=e.data[n];r.name=r.title._content,r.photos="https://api.flickr.com/services/rest"+t("flickr.photosets.getPhotos",{photoset_id:r.id},!0)}}return e},"me/photos":function(e){return a(e),s(e)},"default":function(e){return a(e),s(e)}},xhr:!1,jsonp:function(e,t){"get"==e.method.toLowerCase()&&(delete t.callback,t.jsoncallback=e.callbackID)}}})}(hello),function(e){function t(e){e.meta&&400===e.meta.code&&(e.error={code:"access_denied",message:e.meta.errorDetail})}function n(e){e&&e.id&&(e.thumbnail=e.photo.prefix+"100x100"+e.photo.suffix,e.name=e.firstName+" "+e.lastName,e.first_name=e.firstName,e.last_name=e.lastName,e.contact&&e.contact.email&&(e.email=e.contact.email))}e.init({foursquare:{name:"FourSquare",oauth:{version:2,auth:"https://foursquare.com/oauth2/authenticate"},querystring:function(e){var t=e.access_token;delete e.access_token,e.oauth_token=t,e.v=20121125},base:"https://api.foursquare.com/v2/",get:{me:"users/self","me/friends":"users/self/friends","me/followers":"users/self/friends","me/following":"users/self/friends"},wrap:{me:function(e){return t(e),e&&e.response&&(e=e.response.user,n(e)),e},"default":function(e){if(t(e),e&&"response"in e&&"friends"in e.response&&"items"in e.response.friends){e.data=e.response.friends.items,delete e.response;for(var r=0;r<e.data.length;r++)n(e.data[r])}return e}}}})}(hello),function(e){function t(e,t){var n=t?t.statusCode:e&&"meta"in e&&"status"in e.meta&&e.meta.status;(401===n||403===n)&&(e.error={code:"access_denied",message:e.message||(e.data?e.data.message:"Could not get response")},delete e.message)}function n(e){e.id&&(e.thumbnail=e.picture=e.avatar_url,e.name=e.login)}function r(e,t){if(e.data&&e.data.length&&t&&t.Link){var n=t.Link.match(/&page=([0-9]+)/);n&&(e.paging={next:"?page="+n[1]})}}e.init({github:{name:"GitHub",oauth:{version:2,auth:"https://github.com/login/oauth/authorize",grant:"https://github.com/login/oauth/access_token",response_type:"code"},scope:{basic:"",email:"user:email"},base:"https://api.github.com/",get:{me:"user","me/friends":"user/following?per_page=@{limit|100}","me/following":"user/following?per_page=@{limit|100}","me/followers":"user/followers?per_page=@{limit|100}"},wrap:{me:function(e,r){return t(e,r),n(e),e},"default":function(e,i,o){if(t(e,i),"[object Array]"===Object.prototype.toString.call(e)){e={data:e},r(e,i,o);for(var a=0;a<e.data.length;a++)n(e.data[a])}return e}}}})}(hello),function(e,t){"use strict";function n(e){return parseInt(e,10)}function r(e){e.error||(e.name||(e.name=e.title||e.message),e.picture||(e.picture=e.thumbnailLink),e.thumbnail||(e.thumbnail=e.thumbnailLink),"application/vnd.google-apps.folder"===e.mimeType&&(e.type="folder",e.files="https://www.googleapis.com/drive/v2/files?q=%22"+e.id+"%22+in+parents"))}function i(e){s(e);var t=function(e){var t,n=e.media$group.media$content.length?e.media$group.media$content[0]:{},r=0,i={id:e.id.$t,name:e.title.$t,description:e.summary.$t,updated_time:e.updated.$t,created_time:e.published.$t,picture:n?n.url:null,thumbnail:n?n.url:null,width:n.width,height:n.height};if("link"in e)for(r=0;r<e.link.length;r++){var o=e.link[r];if(o.rel.match(/\#feed$/)){i.upload_location=i.files=i.photos=o.href;break}}if("category"in e&&e.category.length)for(t=e.category,r=0;r<t.length;r++)t[r].scheme&&t[r].scheme.match(/\#kind$/)&&(i.type=t[r].term.replace(/^.*?\#/,""));if("media$thumbnail"in e.media$group&&e.media$group.media$thumbnail.length){for(t=e.media$group.media$thumbnail,i.thumbnail=e.media$group.media$thumbnail[0].url,i.images=[],r=0;r<t.length;r++)i.images.push({source:t[r].url,width:t[r].width,height:t[r].height});t=e.media$group.media$content.length?e.media$group.media$content[0]:null,t&&i.images.push({source:t.url,width:t.width,height:t.height})}return i},n=[];if("feed"in e&&"entry"in e.feed){for(i=0;i<e.feed.entry.length;i++)n.push(t(e.feed.entry[i]));e.data=n,delete e.feed}else{if("entry"in e)return t(e.entry);if("items"in e){for(var i=0;i<e.items.length;i++)r(e.items[i]);e.data=e.items,delete e.items}else r(e)}return e}function o(e){e.name=e.displayName||e.name,e.picture=e.picture||(e.image?e.image.url:null),e.thumbnail=e.picture}function a(t){s(t);var n=[];if("feed"in t&&"entry"in t.feed){for(var r=e.getAuthResponse("google").access_token,i=0;i<t.feed.entry.length;i++){var o=t.feed.entry[i],a=o.link&&o.link.length>0?o.link[0].href+"?access_token="+r:null;n.push({id:o.id.$t,name:o.title.$t,email:o.gd$email&&o.gd$email.length>0?o.gd$email[0].address:null,updated_time:o.updated.$t,picture:a,thumbnail:a})}t.data=n,delete t.feed}return t}function s(e){if("feed"in e&&e.feed.openSearch$itemsPerPage){var t=n(e.feed.openSearch$itemsPerPage.$t),r=n(e.feed.openSearch$startIndex.$t),i=n(e.feed.openSearch$totalResults.$t);i>r+t&&(e.paging={next:"?start="+(r+t)})}else"nextPageToken"in e&&(e.paging={next:"?pageToken="+e.nextPageToken})}function l(){function e(e){var t=new FileReader;t.onload=function(t){n(btoa(t.target.result),e.type+a+"Content-Transfer-Encoding: base64")},t.readAsBinaryString(e)}function n(e,t){r.push(a+"Content-Type: "+t+a+a+e),o--,l()}var r=[],i=(1e10*Math.random()).toString(32),o=0,a="\r\n",s=a+"--"+i,l=function(){},c=/^data\:([^;,]+(\;charset=[^;,]+)?)(\;base64)?,/i;this.append=function(r,i){"string"!=typeof r&&"length"in Object(r)||(r=[r]);for(var s=0;s<r.length;s++){o++;var l=r[s];if(l instanceof t.File||l instanceof t.Blob)e(l);else if("string"==typeof l&&l.match(c)){var u=l.match(c);n(l.replace(c,""),u[1]+a+"Content-Transfer-Encoding: base64")}else n(l,i)}},this.onready=function(e){(l=function(){0===o&&(r.unshift(""),r.push("--"),e(r.join(s),i),r=[])})()}}function c(e,n,r,i,o){var a="https://content.googleapis.com";p||(g=String(parseInt(1e8*Math.random(),10)),p=d.append("iframe",{src:a+"/static/proxy.html?jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.en.mMZgig4ibk0.O%2Fm%3D__features__%2Fam%3DEQ%2Frt%3Dj%2Fd%3D1%2Frs%3DAItRSTNZBJcXGialq7mfSUkqsE3kvYwkpQ#parent="+t.location.origin+"&rpctoken="+g,style:{position:"absolute",left:"-1000px",bottom:0,height:"1px",width:"1px"}},"body"),f(t,"message",function(e){if(e.origin===a){var t;try{t=JSON.parse(e.data)}catch(n){return}if(t&&t.s&&t.s==="ready:"+g){m=!0,v=0;for(var r=0;r<y.length;r++)y[r]()}}}));var s=function(){var s=t.navigator,l=++v,c=d.param(n.match(/\?.+/)[0]),u=c.access_token;delete c.access_token;var m=JSON.stringify({s:"makeHttpRequests",f:"..",c:l,a:[[{key:"gapiRequest",params:{url:n.replace(/(^https?\:\/\/[^\/]+|\?.+$)/,""),httpMethod:e.toUpperCase(),body:i,headers:{Authorization:":Bearer "+u,"Content-Type":r["content-type"],"X-Origin":t.location.origin,"X-ClientDetails":"appVersion="+s.appVersion+"&platform="+s.platform+"&userAgent="+s.userAgent},urlParams:c,clientName:"google-api-javascript-client",clientVersion:"1.1.0-beta"}}]],t:g,l:!1,g:!0,r:".."});f(t,"message",function y(e){if(e.origin===a)try{var n=JSON.parse(e.data);n.t===g&&n.a[0]===l&&(h(t,"message",y),o(JSON.parse(JSON.parse(n.a[1]).gapiRequest.data.body)))}catch(r){o({error:{code:"request_error",message:"Failed to post to Google"}})}}),p.contentWindow.postMessage(m,"*")};m?s():y.push(s)}function u(e,n){var r={};e.data&&e.data instanceof t.HTMLInputElement&&(e.data={file:e.data}),!e.data.name&&Object(Object(e.data.file).files).length&&"post"===e.method&&(e.data.name=e.data.file.files[0].name),"post"===e.method?e.data={title:e.data.name,parents:[{id:e.data.parent||"root"}],file:e.data.file}:(r=e.data,e.data={},r.parent&&(e.data.parents=[{id:e.data.parent||"root"}]),r.file&&(e.data.file=r.file),r.name&&(e.data.title=r.name)),n("upload/drive/v2/files"+(r.id?"/"+r.id:"")+"?uploadType=multipart")}var f,h,d=e.utils;document.removeEventListener?(f=function(e,t,n){e.addEventListener(t,n)},h=function(e,t,n){e.removeEventListener(t,n)}):document.detachEvent&&(h=function(e,t,n){e.detachEvent("on"+t,n)},f=function(e,t,n){e.attachEvent("on"+t,n)});var p,m,g,v,y=[],b="https://www.google.com/m8/feeds/contacts/default/full?alt=json&max-results=@{limit|1000}&start-index=@{start|1}";e.init({google:{name:"Google Plus",login:function(e){"none"===e.qs.display&&(e.qs.display=""),"code"===e.qs.response_type&&(e.qs.access_type="offline")},oauth:{version:2,auth:"https://accounts.google.com/o/oauth2/auth",grant:"https://accounts.google.com/o/oauth2/token"},scope:{basic:"https://www.googleapis.com/auth/plus.me https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",email:"",birthday:"",events:"",photos:"https://picasaweb.google.com/data/",videos:"http://gdata.youtube.com",friends:"https://www.google.com/m8/feeds, https://www.googleapis.com/auth/plus.login",files:"https://www.googleapis.com/auth/drive.readonly",publish:"",publish_files:"https://www.googleapis.com/auth/drive",create_event:"",offline_access:""},scope_delim:" ",base:"https://www.googleapis.com/",get:{me:"oauth2/v1/userinfo?alt=json","me/friends":"plus/v1/people/me/people/visible?maxResults=@{limit|100}","me/following":b,"me/followers":b,"me/contacts":b,"me/share":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/feed":"plus/v1/people/me/activities/public?maxResults=@{limit|100}","me/albums":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&max-results=@{limit|100}&start-index=@{start|1}","me/album":function(e,t){var n=e.data.id;delete e.data.id,t(n.replace("/entry/","/feed/"))},"me/photos":"https://picasaweb.google.com/data/feed/api/user/default?alt=json&kind=photo&max-results=@{limit|100}&start-index=@{start|1}","me/files":"drive/v2/files?q=%22@{parent|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}","me/folders":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+mimeType+=+%22application/vnd.google-apps.folder%22+and+trashed=false&maxResults=@{limit|100}","me/folder":"drive/v2/files?q=%22@{id|root}%22+in+parents+and+trashed=false&maxResults=@{limit|100}"},post:{"me/files":u,"me/folders":function(e,t){e.data={title:e.data.name,parents:[{id:e.data.parent||"root"}],mimeType:"application/vnd.google-apps.folder"},t("drive/v2/files")}},put:{"me/files":u},del:{"me/files":"drive/v2/files/@{id}","me/folder":"drive/v2/files/@{id}"},wrap:{me:function(e){return e.id&&(e.last_name=e.family_name||(e.name?e.name.familyName:null),e.first_name=e.given_name||(e.name?e.name.givenName:null),o(e)),e},"me/friends":function(e){if(e.items){s(e),e.data=e.items,delete e.items;for(var t=0;t<e.data.length;t++)o(e.data[t])}return e},"me/contacts":a,"me/followers":a,"me/following":a,"me/share":function(e){return s(e),e.data=e.items,delete e.items,e},"me/feed":function(e){return s(e),e.data=e.items,delete e.items,e},"me/albums":i,"me/photos":i,"default":i},xhr:function(e){if("post"===e.method||"put"===e.method){if(e.data&&d.hasBinary(e.data)||e.data.file)return e.cors_support=e.cors_support||!0,!1;e.data=JSON.stringify(e.data),e.headers={"content-type":"application/json"}}return!0},api:function(e,t,n,r){if("get"!==t.method){"file"in t.data&&d.domInstance("input",t.data.file)&&!("files"in t.data.file)&&r({error:{code:"request_invalid",message:"Sorry, can't upload your files to Google Drive in this browser"}});var i;if("file"in t.data&&(i=t.data.file,delete t.data.file,"object"==typeof i&&"files"in i&&(i=i.files),!i||!i.length))return void r({error:{code:"request_invalid",message:"There were no files attached with this request to upload"}});var o=new l;return o.append(JSON.stringify(t.data),"application/json"),i&&o.append(i),o.onready(function(i,o){t.cors_support?d.xhr(t.method,d.qs(e,n),{"content-type":'multipart/related; boundary="'+o+'"'},i,r):c(t.method,d.qs(e,n),{"content-type":'multipart/related; boundary="'+o+'"'},i,r)}),!0}}}})}(hello,window),function(e){function t(e){e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message})}function n(e){if(i(e),e&&"data"in e)for(var t=0;t<e.data.length;t++)r(e.data[t]);return e}function r(e){e.id&&(e.thumbnail=e.profile_picture,e.name=e.full_name||e.username)}function i(e){"pagination"in e&&(e.paging={next:e.pagination.next_url},delete e.pagination)}e.init({instagram:{name:"Instagram",login:function(e){e.qs.display=""},oauth:{version:2,auth:"https://instagram.com/oauth/authorize/"},scope:{basic:"basic",friends:"relationships",photos:""},scope_delim:" ",base:"https://api.instagram.com/v1/",get:{me:"users/self","me/feed":"users/self/feed?count=@{limit|100}","me/photos":"users/self/media/recent?min_id=0&count=@{limit|100}","me/friends":"users/self/follows?count=@{limit|100}","me/following":"users/self/follows?count=@{limit|100}","me/followers":"users/self/followed-by?count=@{limit|100}"},wrap:{me:function(e){return t(e),"data"in e&&(e.id=e.data.id,e.thumbnail=e.data.profile_picture,e.name=e.data.full_name||e.data.username),e},"me/friends":n,"me/following":n,"me/followers":n,"me/photos":function(e){if(t(e),i(e),"data"in e)for(var n=0;n<e.data.length;n++){var r=e.data[n];"image"===r.type?(r.thumbnail=r.images.thumbnail.url,r.picture=r.images.standard_resolution.url,r.name=r.caption?r.caption.text:null):(e.data.splice(n,1),n--)
}return e},"default":function(e){return i(e),e}},xhr:!1}})}(hello),function(e){function t(e){e&&"errorCode"in e&&(e.error={code:e.status,message:e.message})}function n(e){e.error||(e.first_name=e.firstName,e.last_name=e.lastName,e.name=e.formattedName||e.first_name+" "+e.last_name,e.thumbnail=e.pictureUrl)}function r(e){if(t(e),i(e),e.values){e.data=e.values;for(var r=0;r<e.data.length;r++)n(e.data[r]);delete e.values}return e}function i(e){"_count"in e&&"_start"in e&&e._count+e._start<e._total&&(e.paging={next:"?start="+(e._start+e._count)+"&count="+e._count})}e.init({linkedin:{login:function(e){e.qs.response_type="code"},oauth:{version:2,auth:"https://www.linkedin.com/uas/oauth2/authorization",grant:"https://www.linkedin.com/uas/oauth2/accessToken"},scope:{basic:"r_fullprofile",email:"r_emailaddress",friends:"r_network",publish:"rw_nus"},scope_delim:" ",querystring:function(e){e.oauth2_access_token=e.access_token,delete e.access_token},base:"https://api.linkedin.com/v1/",get:{me:"people/~:(picture-url,first-name,last-name,id,formatted-name)","me/friends":"people/~/connections?count=@{limit|500}","me/followers":"people/~/connections?count=@{limit|500}","me/following":"people/~/connections?count=@{limit|500}","me/share":"people/~/network/updates?count=@{limit|250}"},post:{},wrap:{me:function(e){return t(e),n(e),e},"me/friends":r,"me/following":r,"me/followers":r,"me/share":function(e){if(t(e),i(e),e.values){e.data=e.values,delete e.values;for(var r=0;r<e.data.length;r++){var o=e.data[r];n(o),o.message=o.headline}}return e},"default":function(e){t(e),i(e)}},jsonp:function(e,t){t.format="jsonp","get"===e.method&&(t["error-callback"]="?")},xhr:!1}})}(hello),function(e){function t(e){e.id&&(e.picture=e.avatar_url,e.thumbnail=e.avatar_url,e.name=e.username||e.full_name)}function n(e){"next_href"in e&&(e.paging={next:e.next_href})}e.init({soundcloud:{name:"SoundCloud",oauth:{version:2,auth:"https://soundcloud.com/connect"},autorefresh:!1,querystring:function(e){var t=e.access_token;delete e.access_token,e.oauth_token=t,e["_status_code_map[302]"]=200},base:"https://api.soundcloud.com/",get:{me:"me.json","me/friends":"me/followings.json","me/followers":"me/followers.json","me/following":"me/followings.json","default":function(e,t){t(e.path+".json")}},wrap:{me:function(e){return t(e),e},"default":function(e){if(e instanceof Array){e={data:e};for(var r=0;r<e.data.length;r++)t(e.data[r])}return n(e),e}}}})}(hello),function(e){function t(e){if(e.id){if(e.name){var t=e.name.split(" ");e.first_name=t[0],e.last_name=t[1]}e.thumbnail=e.profile_image_url}}function n(e){if(r(e),i(e),e.users){e.data=e.users;for(var n=0;n<e.data.length;n++)t(e.data[n]);delete e.users}return e}function r(e){if(e.errors){var t=e.errors[0];e.error={code:"request_failed",message:t.message}}}function i(e){"next_cursor_str"in e&&(e.paging={next:"?cursor="+e.next_cursor_str})}e.init({twitter:{oauth:{version:"1.0a",auth:"https://twitter.com/oauth/authorize",request:"https://twitter.com/oauth/request_token",token:"https://twitter.com/oauth/access_token"},autorefresh:!1,base:"https://api.twitter.com/1.1/",get:{me:"account/verify_credentials.json","me/friends":"friends/list.json?count=@{limit|200}","me/following":"friends/list.json?count=@{limit|200}","me/followers":"followers/list.json?count=@{limit|200}","me/share":"statuses/user_timeline.json?count=@{limit|200}"},post:{"me/share":function(e,t){var n=e.data;e.data=null,t("statuses/update.json?include_entities=1&status="+n.message)}},wrap:{me:function(e){return r(e),t(e),e},"me/friends":n,"me/followers":n,"me/following":n,"me/share":function(e){return r(e),i(e),!e.error&&"length"in e?{data:e}:e},"default":function(e){return i(e),e}},xhr:function(e){return"get"!==e.method}}})}(hello),function(e){function t(t){if(t.id){var n=e.getAuthResponse("windows").access_token;if(t.emails&&(t.email=t.emails.preferred),t.is_friend!==!1){var r=t.user_id||t.id;t.thumbnail=t.picture="https://apis.live.net/v5.0/"+r+"/picture?access_token="+n}}}function n(e){if("data"in e)for(var n=0;n<e.data.length;n++)t(e.data[n]);return e}e.init({windows:{name:"Windows live",oauth:{version:2,auth:"https://login.live.com/oauth20_authorize.srf"},logout:function(){return"http://login.live.com/oauth20_logout.srf?ts="+(new Date).getTime()},scope:{basic:"wl.signin,wl.basic",email:"wl.emails",birthday:"wl.birthday",events:"wl.calendars",photos:"wl.photos",videos:"wl.photos",friends:"wl.contacts_emails",files:"wl.skydrive",publish:"wl.share",publish_files:"wl.skydrive_update",create_event:"wl.calendars_update,wl.events_create",offline_access:"wl.offline_access"},base:"https://apis.live.net/v5.0/",get:{me:"me","me/friends":"me/friends","me/following":"me/contacts","me/followers":"me/friends","me/contacts":"me/contacts","me/albums":"me/albums","me/album":"@{id}/files","me/photo":"@{id}","me/files":"@{parent|me/skydrive}/files","me/folders":"@{id|me/skydrive}/files","me/folder":"@{id|me/skydrive}/files"},post:{"me/albums":"me/albums","me/album":"@{id}/files/","me/folders":"@{id|me/skydrive/}","me/files":"@{parent|me/skydrive/}/files"},del:{"me/album":"@{id}","me/photo":"@{id}","me/folder":"@{id}","me/files":"@{id}"},wrap:{me:function(e){return t(e),e},"me/friends":n,"me/contacts":n,"me/followers":n,"me/following":n,"me/albums":function(e){if("data"in e)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.photos=n.files="https://apis.live.net/v5.0/"+n.id+"/photos"}return e},"default":function(e){if("data"in e)for(var t=0;t<e.data.length;t++){var n=e.data[t];n.picture&&(n.thumbnail=n.picture)}return e}},xhr:function(t){return"get"===t.method||"delete"===t.method||e.utils.hasBinary(t.data)||("string"==typeof t.data.file?t.data.file=e.utils.toBlob(t.data.file):(t.data=JSON.stringify(t.data),t.headers={"Content-Type":"application/json"})),!0},jsonp:function(t){"get"===t.method.toLowerCase()||e.utils.hasBinary(t.data)||(t.data.method=t.method.toLowerCase(),t.method="get")}}})}(hello),function(e){function t(e){e&&"meta"in e&&"error_type"in e.meta&&(e.error={code:e.meta.error_type,message:e.meta.error_message})}function n(e){t(e),r(e);var n,i;if(e.query&&e.query.results&&e.query.results.contact){e.data=e.query.results.contact,delete e.query,e.data instanceof Array||(e.data=[e.data]);for(var o=0;o<e.data.length;o++){n=e.data[o],n.id=null;for(var a=0;a<n.fields.length;a++)i=n.fields[a],"email"===i.type&&(n.email=i.value),"name"===i.type&&(n.first_name=i.value.givenName,n.last_name=i.value.familyName,n.name=i.value.givenName+" "+i.value.familyName),"yahooid"===i.type&&(n.id=i.value)}}return e}function r(e){e.query&&e.query.count&&(e.paging={next:"?start="+e.query.count})}var i=function(e){return"https://query.yahooapis.com/v1/yql?q="+(e+" limit @{limit|100} offset @{start|0}").replace(/\s/g,"%20")+"&format=json"};e.init({yahoo:{oauth:{version:"1.0a",auth:"https://api.login.yahoo.com/oauth/v2/request_auth",request:"https://api.login.yahoo.com/oauth/v2/get_request_token",token:"https://api.login.yahoo.com/oauth/v2/get_token"},autorefresh:!1,base:"https://social.yahooapis.com/v1/",get:{me:i("select * from social.profile(0) where guid=me"),"me/friends":i("select * from social.contacts(0) where guid=me"),"me/following":i("select * from social.contacts(0) where guid=me")},wrap:{me:function(e){return t(e),e.query&&e.query.results&&e.query.results.profile&&(e=e.query.results.profile,e.id=e.guid,e.name=e.givenName+" "+e.familyName,e.last_name=e.familyName,e.first_name=e.givenName,e.email=e.emails?e.emails.handle:null,e.thumbnail=e.image?e.image.imageUrl:null),e},"me/friends":n,"me/following":n,"default":function(e){return r(e),e}},xhr:!1}})}(hello),"function"==typeof define&&define.amd&&define(function(){return hello}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function t(e){return s.raw?e:encodeURIComponent(e)}function n(e){return s.raw?e:decodeURIComponent(e)}function r(e){return t(s.json?JSON.stringify(e):String(e))}function i(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(a," ")),s.json?JSON.parse(e):e}catch(t){}}function o(t,n){var r=s.raw?t:i(t);return e.isFunction(n)?n(r):r}var a=/\+/g,s=e.cookie=function(i,a,l){if(arguments.length>1&&!e.isFunction(a)){if(l=e.extend({},s.defaults,l),"number"==typeof l.expires){var c=l.expires,u=l.expires=new Date;u.setTime(+u+864e5*c)}return document.cookie=[t(i),"=",r(a),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var f=i?void 0:{},h=document.cookie?document.cookie.split("; "):[],d=0,p=h.length;p>d;d++){var m=h[d].split("="),g=n(m.shift()),v=m.join("=");if(i&&i===g){f=o(v,a);break}i||void 0===(v=o(v))||(f[g]=v)}return f};s.defaults={},e.removeCookie=function(t,n){return void 0===e.cookie(t)?!1:(e.cookie(t,"",e.extend({},n,{expires:-1})),!e.cookie(t))}}),function(){this.createCodeMirror=function(e){var t,n;return t={value:"",mode:"javascript",vimMode:!1,lineWrapping:!0,lineNumbers:!0,autofocus:!1,matchBrackets:!0,autoCloseTags:!0,collapseRange:!0,theme:"eclipse",foldGutter:!0,gutters:["CodeMirror-linenumbers","CodeMirror-foldgutter"],extraKeys:{"Ctrl-Space":"autocomplete",Tab:function(e){var t;return t=Array(e.getOption("indentUnit")+1).join(" "),e.replaceSelection(t,"end","+input")},"Ctrl-Q":function(e){return e.foldCode(e.getCursor())},"Cmd-/":"toggleComment","Ctrl-/":"toggleComment"}},n=CodeMirror(e,t),n.on("change",function(){return"function"==typeof saveNotebookLater&&saveNotebookLater(),"function"==typeof e._compileLater?e._compileLater():void 0}),n},CodeMirror.commands.autocomplete=function(e){return CodeMirror.showHint(e,CodeMirror.hint.javascript)}}.call(this),function(){"undefined"!=typeof window&&null!==window&&(window.print=null),"undefined"!=typeof window&&null!==window&&(window.clear=null),this.Cell=function(e,t,n){var r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w,k,x,C,S,L,T,M,A,N,E,O,_,F,I,R,D,B,j,P,H,W,q,z,U,V,K,G,J,X,Y,Q,Z,et,tt,nt,rt,it,ot,at,st,lt,ct,ut,ft;return H=void 0,O=void 0,c=void 0,F=void 0,A=void 0,U=void 0,_=void 0,P="javascript",B=void 0,w=void 0,y=null,E=null,N=null,M=!1,z=!1,W=!1,q=!1,f=void 0,R="default",p=function(e,t,n){O=$("<div class='cell' locked=\"false\">\n\n    <span class='input_header'>\n        <span class='hideInputButton hide-on-view toolButton uppertab' ></span> \n        <!-- SUPPORTER -->\n        <div style='width:1px; height:22px; background-color:transparent;display: inline-block;vertical-align: middle;'></div>\n        <span class='editControls'>\n            <select class='selectButton hide-on-view'>\n                <option value='javascript'>JavaScript</option>\n                <option value='text/x-coffeescript'>CoffeeScript</option>\n                <option value='text/html'>HTML</option>\n                <option value='markdown'>Markdown</option>\n            </select>\n            <span class='showJavascriptButton toolButton hide-on-view' >Show Javascript</span>\n            <span class='shareSourceButton toolButton icon-share hide-on-view' ></span>\n            <span class='deleteButton toolButton  hide-on-view icon-close' style='padding-right:0;' title='delete cell' ></span>\n            <span class='keyMap toolButton hide-on-view' style='float:right; display:none;' title='editor mode'></span>\n        </span>\n    </span>\n    \n    <table class='codeArea' > \n        <tr>\n            <td id='in_' class='inputCell position_relative'>\n            <span class='toolButton hide-on-view position_absolute_100 icon-expand' \n                style='right:0px; top:2px;padding:0;' \n                title='Fullscreen Alt-F11'></span>\n            </td>\n            <td id='js_' class='javascriptCell'></td>\n        </tr>\n    </table>\n    \n\n    <span class='output_header' output_label=\"\" >\n        <span class='hideOutputButton toolButton hide-on-view uppertab'></span> \n        <span class='clearOutputButton toolButton icon-close ' title='clear output'>\n             <span class='hide-on-view'>\n                clear\n            </span>\n        </span>\n        <span class='toolButton icon-play' title='<Ctrl-Ent> to run.  <Shift-Ent> to run and go to the next cell. '>\n            <span class='hide-on-view'>\n                run\n             </span>\n        </span>\n         <span class='cellLabel' contenteditable='true'></span>\n    </span>\n    \n    <div id='out_' class='outputCell'></div>\n    \n    \n    <div class='insertBefore smallButton  hide-on-view icon-plus' title='add cell'></div>\n    <div class='insertAfter smallButton  hide-on-view icon-plus' title='add cell'></div>\n    <div class='lockButton smallButton icon-pencil' title='edit/lock' style='position:absolute;top:5px;left:5px;'></div>\n</div>"),A=O.find(".inputCell"),A[0]._compileLater=u,U=O.find(".outputCell"),_=O.find(".javascriptCell"),B=O.find(".lockButton"),w=O.find(".icon-expand"),c=createCodeMirror(A[0]),c.setOption("readOnly","nocursor"),F=createCodeMirror(_[0]),F.setOption("readOnly","nocursor"),F.setValue(""),it(t),a(),nt(e),tt(P),rt(z),Z(M),ft(),et(n)},s=function(e,t){"function"==typeof e&&e(t)},et=function(e){return R=e?e:"default","undefined"===R&&(R="default"),O.find(".keyMap").text(R),c.setOption("vimMode","vim"===R),c.setOption("keyMap",R),this},it=function(e){var t;return t=e?e:"default",c.setOption("theme",t),F.setOption("theme",t)},lt=function(){O.find(".showJavascriptButton").text("Hide Javascript"),_.show(),F.refresh(),h(),O.find(".codeArea").colResizable()},T=function(){O.find(".showJavascriptButton").text("Show Javascript"),_.hide()},ut=function(){"Show Javascript"===O.find(".showJavascriptButton").text()?lt():T()},i=100,rt=function(e){z=e,e?U.hide(i,function(){return O.find(".hideOutputButton").html("show [out"+H+"]"),O.find(".hideOutputButton").removeClass("uppertab")}):(U.show(i),O.find(".hideOutputButton").html("hide [out"+H+"]"),O.find(".hideOutputButton").addClass("uppertab")),"function"==typeof this.saveNotebookLater&&this.saveNotebookLater()},Z=function(e){M=e,e?(O.find(".codeArea").hide(),O.find(".hideInputButton").html("show [in"+H+"]"),O.find(".hideInputButton").removeClass("uppertab"),O.find(".editControls").hide()):(O.find(".codeArea").show(),O.find(".hideInputButton").html("hide [in"+H+"]"),O.find(".hideInputButton").addClass("uppertab"),O.find(".editControls").show(),c.refresh()),"function"==typeof this.saveNotebookLater&&this.saveNotebookLater()},D=function(){return O.find(".hide-on-view").removeClass("visible"),O.find(".codeArea").removeClass("visibleBorder"),O.find(".cellLabel").removeClass("visibleBorder"),O.find(".cellLabel").removeAttr("contenteditable"),O.removeClass("visibleBorder shadow"),c.setOption("readOnly","nocursor"),U.removeClass("visibleBorder"),B.removeClass("unlocked"),"function"==typeof this.saveNotebookLater?this.saveNotebookLater():void 0},ft=function(){return O.find(".hide-on-view").addClass("visible"),O.find(".codeArea").addClass("visibleBorder"),O.find(".cellLabel").addClass("visibleBorder"),O.find(".cellLabel").attr("contenteditable",!0),c.setOption("readOnly",!1),U.addClass("visibleBorder"),B.addClass("unlocked"),"function"==typeof this.saveNotebookLater?this.saveNotebookLater():void 0},j=function(){return B.hasClass("unlocked")?D():ft()},a=function(){return A.keydown(I),B.click(j),w.click(ct),$(".deleteButton",O).click(function(){return s(y,H)}),$(".deleteButton",O).mouseover(function(){return O.addClass("danger-border")}),$(".deleteButton",O).mouseout(function(){return O.removeClass("danger-border")}),$(".insertBefore",O).click(function(){return s(E,H)}),$(".insertAfter",O).click(function(){return s(N,H)}),$(".icon-play",O).click(b),$(".clearOutputButton",O).click(function(){return U.html(""),"function"==typeof saveNotebookLater?saveNotebookLater():void 0}),$(".hideOutputButton",O).click(function(){return rt(!z)}),$(".hideInputButton",O).click(function(){return Z(!M)}),$(".showJavascriptButton",O).click(ut),$(".selectButton",O).change(function(){var e;return e=O.find(".selectButton").val(),tt(e),c.focus()}),$(".cellLabel",O).keypress(function(){return"function"==typeof saveNotebookLater&&saveNotebookLater(),console.log("descr changed")}),$(".shareSourceButton",O).click(function(){return showShareSourceDialog(H)}),O.focusin(function(){return O.addClass("visibleBorder")}),O.focusout(function(){return O.removeClass("visibleBorder")})},ct=function(){var e;return e=!c.getOption("fullScreen"),c.setOption("fullScreen",e),e?(w.addClass("fullscreen-top-right"),A.removeClass("position_relative"),w.removeClass("position_absolute_100")):(w.removeClass("fullscreen-top-right"),A.addClass("position_relative"),w.addClass("position_absolute_100"))},tt=function(e){P=e,O.find(".selectButton").val(e),c.setOption("mode",e),"text/x-coffeescript"===P?O.find(".showJavascriptButton").show():(T(),O.find(".showJavascriptButton").hide()),"markdown"===P?(O.find(".clearOutputButton").hide(),O.find(".icon-play").hide()):(O.find(".clearOutputButton").show(),O.find(".icon-play").show()),"function"==typeof saveNotebookLater&&saveNotebookLater()},o="1",C=function(){return"1"===o?L():S()},ot=function(e){return"1"===e.attr("version")?st(e):at(e)},S=function(){var e;return e=$("<cell verion='0' number='"+H+"' mode='"+P+"'/>"),$("<in collapsed='"+M+"'/>").text(c.getValue()).appendTo(e),$("<out collapsed='"+z+"'/>").text(U.html()).appendTo(e),e},at=function(e){var t,n,r,i,o;r=e.attr("number"),P=e.attr("mode"),t=e.find("in").first(),i=e.find("out").first(),n=t.text(),o=i.text(),c.setValue(n),U.html(o),nt(r),tt(P),rt("true"===i.attr("collapsed")),Z("true"===t.attr("collapsed"))},L=function(){var e,t;return t=B.hasClass("unlocked")?"true":"false",e=$("<div class='cell' id='"+O.attr("id")+"'  version='1' number='"+H+"' mode='"+P+"' unlocked='"+t+"' />"),e.attr("celllabel",$(".cellLabel",O).text()),$("<div class='inputCell'  id='"+A.attr("id")+"' collapsed='"+M+"'/>").text(c.getValue()).appendTo(e),$("<div class='javascriptCell' id='"+_.attr("id")+"'/>").text(F.getValue()).appendTo(e),$("<div class='outputCell' id='"+U.attr("id")+"' collapsed='"+z+"'/>").text(U.html()).appendTo(e),e},st=function(e){var t,n,r,i;r=e.attr("number"),P=e.attr("mode"),t=e.find("div.inputCell").first(),i=e.find("div.outputCell").first(),n=e.find("div.javascriptCell").first(),c.setValue(t.text()),U.html(i.text()),F.setValue(n.text()),nt(r),tt(P),rt("true"===i.attr("collapsed")),Z("true"===t.attr("collapsed")),$(".cellLabel",O).text(e.attr("celllabel")),"false"===e.attr("unlocked")?D():ft()},x=function(){return{from:c.getCursor(!0),to:c.getCursor(!1)}},I=function(e){var t,n,r;switch(n=e.ctrlKey,t=e.altKey,r=e.shiftKey,e.which){case 13:(n||r)&&(e.preventDefault(),b());break;case 122:t&&(e.preventDefault(),ct())}},k=function(){return Number(H)},nt=function(e){return H=Number(e),O.data("number",H),O.attr("id","cell"+H),A.attr("id","in"+H),U.attr("id","out"+H),_.attr("id","js"+H),this},Q=function(){return c.refresh(),c.focus(),c.setCursor({line:0,ch:0}),this},J=function(){},b=function(){var e,t,n,r,i;window.print=V,window.clear=l,l(),U.html("");try{e=c.getValue(),"text/html"===P?U.html(e):"markdown"===P?(n=new Showdown.converter,i=n.makeHtml(e),U.html("<div class='markdown'>"+i+"</div>")):"javascript"===P?eval.call(window,e):"text/x-coffeescript"===P&&(F.setValue(""),t=CoffeeScript.compile(e,{bare:!1}),F.setValue(t),F.refresh(),eval.call(window,t))}catch(o){r=o,G(""+r)}},K=null,l=function(){return K=null,U.find("pre.noerror").remove()},m=function(){return K=$("<pre class='noerror'/>"),K.appendTo(U)},V=function(e){var t,n;if(null==K&&(K=m()),n="",e instanceof jQuery)n="{jQuery}";else if("string"==typeof e)n=e;else if("number"==typeof e)n=e;else try{n=JSON.stringify(e,function(e,t){return this[e]instanceof Function?t.toString():t}," ")}catch(r){t=r,n="Error: JSON.stringify\n"}K.text(K.text()+n)},G=function(e){U.html("<div class='error'>"+e+"</div>")},v=function(){var e,t,n;return t=c.getCursor().line,e=c.lineCount(),n=q&&t>=e-1,q=t>=e-1,n},g=function(){var e,t;return e=c.getCursor().line,t=W&&0>=e,W=0>=e,t},Y=function(){var e;e=c.lineCount()-1,c.setCursor({line:e})},X=function(){c.setCursor({line:0})},r=function(e){return e.xml?e.xml:(new XMLSerializer).serializeToString(e)},u=function(){clearTimeout(f),"text/x-coffeescript"===P?f=setTimeout(h,500):"markdown"===P&&(f=setTimeout(d,500))},d=function(){var e,t,n;z||(e=c.getValue(),t=new Showdown.converter,n=t.makeHtml(e),U.html("<div class='markdown'>"+n+"</div>"))},h=function(){var e,t,n,r;if(r=_,r.is(":visible")){e=c.getValue(),t="";try{t=CoffeeScript.compile(e,{bare:!1})}catch(i){n=i,t=n.toString()}F.setValue(t),F.refresh()}},p(e,t,n),{getJQueryCell:function(){return O},getEditor:function(){return c},getJavascriptTextViewer:function(){return F},getInputValue:function(){return c.getValue()},setInputValue:function(e){return c.setValue(e),this},getOutputValue:function(){return U.html()},setOutputValue:function(e){return U.html(e),this},getCursor:function(){return c.getCursor()},setCursor:function(e){return c.setCursor(e),this},getLineCount:function(){return c.lineCount()},setXml:ot,getXml:C,setNumber:nt,getNumber:k,cursorOnFirstLine:g,cursorOnLastLine:v,setCursorOnFirstLine:X,setCursorOnLastLine:Y,execute:b,setInsertAfterCallback:function(e){N=e},setInsertBeforeCallback:function(e){E=e},setDeleteCallback:function(e){y=e},setFocus:Q,removeFocus:J,lock:D,unlock:ft,setKeyMap:et,setTheme:it}}}.call(this),function(){this.iNote=function(e){var t,n,r,i,o,a,s,l,c,u,f,h,d,p,m,g,v,y,b,w,k,x,C,S,L,T,M,A,N,E,O,_;N=e,t=[],_="",O="default",u=function(){var e;return 0===t.length?0:1+Math.max.apply(Math,function(){var n,r,i;for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(e.getNumber());return i}())},l=function(e){var n;return function(){var e,r,i;for(i=[],e=0,r=t.length;r>e;e++)n=t[e],i.push(n.getNumber());return i}().indexOf(e)},o=function(e){var n;n=l(e),-1!==n&&(t[n].getJQueryCell().remove(),t.splice(n,1))},g=function(e){var n,r;return n=l(e),-1!==n?(r=i(u()),r.unlock(),r.getJQueryCell().insertAfter($("#cell"+e)),t.splice(n+1,0,r),r.setFocus(0,0),r):void 0},v=function(e){var n,r;return n=l(e),-1!==n?(r=i(u()),r.unlock(),r.getJQueryCell().insertBefore($("#cell"+e)),t.splice(n,0,r),r.setFocus(0,0),r):void 0},m=function(e){var t,r,i,o,a;a=e.which,i=s(e),t=i.cell,o=i.index,r=i.number,13===a&&e.shiftKey?(b(o)&&n(u()),w(o)):38===a&&t.cursorOnFirstLine()?k(o):40===a&&t.cursorOnLastLine()&&w(o)},i=function(e){var t;return t=new Cell(e,_,O),t.setDeleteCallback(o),t.setInsertBeforeCallback(v),t.setInsertAfterCallback(g),t},n=function(e){var n;return n=i(e),n.getJQueryCell().appendTo(N),t.push(n),n},s=function(e){var n,r,i,o,a;for(i=-1,r=$(e.target).parents(".cell").data("number"),o=0,a=t.length;a>o;o++)if(n=t[o],i++,r===n.getNumber())return{cell:n,index:i,number:r};return{cell:null,index:-1,number:r}},y=function(e){return 0>=e},b=function(e){return e>=t.length-1},w=function(e){var n,r,i,o;if(!b(e)&&!a(e)){for(i=0,o=t.length;o>i;i++)n=t[i],n.removeFocus();r=t[e+1],r.setFocus(),r.setCursorOnFirstLine()}},k=function(e){var n,r,i,o;if(!y(e)&&!a(e)){for(i=0,o=t.length;o>i;i++)n=t[i],n.removeFocus();r=t[e-1],r.setFocus(),r.setCursorOnLastLine()}},a=function(e){var n;return n=t[e].getEditor(),isFullScreen(n)},M="1",h=function(e){return"1"===M?p(e):d(e)},S=function(e){return"1"===$(e).attr("version")?T(e):L(e)},L=function(e){var t,r,i,o,a,s,l;for(a=$(e),_=a.attr("theme"),O=a.attr("keyMap"),i=a.find("cell"),s=0,l=i.length;l>s;s++)t=i[s],r=$(t),o=n(r.attr("number")),o.setXml(r)},d=function(e){var n,r,i,o;for(r=$("<inote name='"+e+"' theme='"+_+"' keyMap='"+O+"'/>"),i=0,o=t.length;o>i;i++)n=t[i],r.append(n.getXml());return r.wrap("<wrapper/>").parent().html()},T=function(e){var t,r,i,o,a,s,l;for(a=$(e),_=a.attr("theme"),O=a.attr("keyMap"),i=a.find("div.cell"),s=0,l=i.length;l>s;s++)t=i[s],r=$(t),o=n(r.attr("number")),o.setXml(r)},p=function(e){var n,r,i,o;for(r=$("<div class='book' version='1' name='"+e+"' theme='"+_+"' keyMap='"+O+"'/>"),i=0,o=t.length;o>i;i++)n=t[i],r.append(n.getXml());return r.wrap("<wrapper/>").parent().html()},E=function(){var e;e=n(u()),A(),e.setFocus(0,0),e.unlock()},A=function(){return N.bind("keydown",m)},r=function(){var e;return e=N.find(".cell").remove(),t=[]},C=function(e){var n,r,i,o;for(_=e,o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(n.setTheme(e));return o},f=function(){return _},x=function(e){var n,r,i,o;for(O=e,o=[],r=0,i=t.length;i>r;r++)n=t[r],o.push(n.setKeyMap(e));return o},c=function(){return O},this.setXmlText=S,this.getXmlText=h,this.clear=r,this.init=E,this.bindKeys=A,this.setTheme=C,this.getTheme=f,this.setKeyMap=x,this.getKeyMap=c}}.call(this),function(){this.NoteBookStorage=function(){function e(){}return e.prototype.get_list=function(e,t,n){return $.ajax({type:"GET",url:e,dataType:"json",success:t,error:n})},e.prototype.get_publiclist=function(e,t){return get_list("/publiclist",e,t)},e.prototype.get_userlist=function(e,t){return get_list("/userlist",e,t)},e.prototype.get=function(e,t,n,r){return $.ajax({type:"GET",url:"/read",dataType:"text",data:{owner_nickname:e,name:t},success:n,error:r})},e.prototype.put=function(e,t,n,r,i,o){var a;return a={type:"POST",url:"/write",dataType:"json",data:{name:t,access:e,content:n},success:i,error:o},r&&(a.data.version=r),$.ajax(a)},e.prototype.del=function(e,t,n){return $.ajax({type:"GET",url:"/delete",dataType:"json",data:{key_name:e},success:function(e){return"function"==typeof t?t(e):void 0},error:function(e){return"function"==typeof n?n(e):void 0}})},e.prototype.rename=function(e,t,n,r,i,o,a){var s;return s={type:"POST",url:"/rename",dataType:"json",data:{key_name:e,name:n,access:t,content:r},success:o,error:a},i&&(s.data.version=i),$.ajax(s)},e}()}.call(this),function(){var e,t,n,r,i,o,a,s,l,c;c=new NoteBookStorage,s=void 0,o=void 0,this.preventClick=function(e){e.stopPropagation()},this.selectTheme=function(){o.setTheme($("#selectTheme_button").val()),this.saveNotebookLater()},this.selectKeyMap=function(){o.setKeyMap($("#notebookEditor").val()),this.saveNotebookLater()},this.clearSaveIndicator=function(){return $("#saveIndicator").text("")},this.saveNotebookLater=function(){$("#saveIndicator").text("*"),clearTimeout(s),$("#autoSave").is(":checked")&&(s=setTimeout(saveNotebook,2e3))},this.saveNotebook=function(e){var t,n,r,a,s;n=$("#notebookName").text(),r=$(".user_name").text(),t=$(".nbAccess").text(),a=e?null:$(".notebookVersion").text(),s=o.getXmlText(n),console.log("saveNotebook"),c.put(t,n,s,a,function(e){var t;t=e,t&&(t.error?alert(t.error):($("#saveIndicator").text(""),$(".notebookVersion").text(t.version)))}),i()},this.saveAs=function(){var e;return e=prompt("Save as",$("#notebookName").text()),e&&$("#notebookName").text(e),this.saveNotebook(!0),i()},this.showShareSourceDialog=function(e){var t,n,i,o;return t=$("#shareSourceDialog #cellSourceLink"),i="/read"+r()+"&element_id=in"+e,t.text(i),t.attr("href",i),n=$("#shareSourceDialog #cellOutputLink"),o="/read"+r()+"&element_id=out"+e,n.text(o),n.attr("href",o),$("#shareSourceDialog").show()},this.showRenameDialog=function(e,t){var n;return n=$("#renameDialog .btnOk"),n.text(e),n.unbind(),n.bind("click",t),$("#renameDialog").show()},this.rename=function(){return alert("Not implemented")},r=function(){var e,t,n,r,i,o,a;return o=$(".user_name").text(),a=$(".user_network").text(),r=$("#notebookName").text(),n=$(".nbAccess").text(),i=encodeURIComponent(o+"|"+a),e=encodeURIComponent(n),t=encodeURIComponent(r),"?owner="+i+"&access="+e+"&name="+t},this.getPageUrl=function(e,t,n,r){var i,o;return o=encodeURIComponent(e+"|"+t),n=encodeURIComponent(n),i=encodeURIComponent(r),"/page?owner="+o+"&access="+n+"&name="+i},this.rename2=function(e){var t,n,a,s,l,u,f,h;if(a=f=$("#notebookName").text(),n=u=$(".nbAccess").text(),e)n="public"===u?"private":"public";else if(a=prompt("Rename",f),!a)return;l=null,h=o.getXmlText(a),s=$("#notebookOwner").text(),t=s+"/"+u+"/"+f,console.log("Rename Notebook: "+t),c.rename(t,n,a,h,l,function(e){var t;t=e,t&&(t.error?alert(t.error):($("#notebookName").text(a),$("#saveIndicator").text(""),$(".notebookVersion").text(t.version),$(".nbAccess").text(n),window.history.replaceState(null,n,"/page"+r())))}),i()},a=function(e){var t,n,r,i;t=""===e.replace(/\s/g,""),t||(o.clear(),o.setXmlText(e),r=$(e),i=r.attr("theme"),i&&$("#selectTheme_button").val(i),n=r.attr("keyMap"),n&&$("#notebookEditor").val(n)),0===$(".cell").length?o.init():o.bindKeys(),this.clearSaveIndicator()},e=function(){var e;e="";try{e=location.href.match(/access=([^&]*)/)[1]}catch(t){}return e=decodeURIComponent(e)},t=function(){var e;e="";try{e=location.href.match(/name=([^&]*)/)[1]}catch(t){}return e=decodeURIComponent(e)},n=function(){var e;e="";try{e=location.href.match(/owner=([^&]*)/)[1]}catch(t){}return e=decodeURIComponent(e)},l=function(){return $("#saveGroup").animate({left:0,easing:"linear"},100)},i=function(){return $("#saveGroup").animate({left:"-255px",easing:"linear"},100)},$(function(){var e,t,r,s,c,u;return t=$("#page"),u=t.html(),t.html(""),o=new iNote($("#page")),$("#selectTheme_button").val("default"),o.setTheme("default"),$("#notebookEditor").val("default"),o.setKeyMap("default"),a(u),r=$(".user_name").text(),c=$(".user_network").text(),s=""+r+"|"+c,e=$("#notebookOwner").text(),e||(e=n()),$("body").keydown(function(t){return t.ctrlKey&&83===t.keyCode?s?s!==e?void alert("Only '"+e+"' can save changes"):(saveNotebook(),!1):void alert("Please log in to save changes."):void 0}),$("#btnHideMenu").click(function(e){return e.stopPropagation(),i()}),$("#btnMenu").click(function(e){return e.stopPropagation(),l()}),$("html").click(function(){return i()}),$("#saveGroup").click(function(e){return e.stopPropagation()}),window.onbeforeunload=function(){return $("#saveIndicator").text()?"You have unsaved changes.":void 0}})}.call(this),function(){var e,t,n,r,i,o,a,s;hello.init({facebook:"1517454335144201",windows:"0000000044121F60",github:"84a4f2c5dc8582a14718"},{redirect_uri:"http://inote.vadimivlev.com/",display:"popup"}),hello.on("auth.login",function(e){return hello(e.network).api("/me").success(function(t){var r;return console.log("auth.login"),t.network=e.network,console.log(t),(r=n())?console.log("Has signed already in '"+r+"'"):(console.log("Real sign in '"+r+"'"),i(t),location.reload())})}),hello.on("auth.logout",function(e){return console.log("auth.logout"),console.log(e),o(),location.reload()}),s=function(e){$.cookie("network",e.network,{expires:7,path:"/"}),$.cookie("id",e.id,{expires:7,path:"/"}),$.cookie("name",e.name,{expires:7,path:"/"}),$.cookie("thumbnail",e.thumbnail,{expires:7,path:"/"})},this.write_sample_cookies=function(){return s({network:"windows",id:"123456789",name:"vad Ивлев",thumbnail:"http://ddd.ddd.com/"})},this.delete_sample_cookies=function(){return t()},a=function(){return{network:$.cookie("network"),id:$.cookie("id"),name:$.cookie("name"),thumbnail:$.cookie("thumbnail")}},t=function(){$.removeCookie("network",{path:"/"}),$.removeCookie("id",{path:"/"}),$.removeCookie("name",{path:"/"}),$.removeCookie("thumbnail",{path:"/"})},n=function(){return console.log("get_signed_network_name: "+a().network),a().network},e=function(){var e,t,r;return t=function(){var e,t;return e=function(e){var t;return t=a(),$("<span id='profile_"+t.id+"' title='id: "+t.id+"' class='i_con-"+t.network+"' >\n</span>").appendTo(e),$("<a id='"+t.network+"_logout' href='' class='toolButton'>logout</a>").click(function(e){return e.preventDefault(),hello.logout(t.network,{force:!0})}).appendTo(e)},t=$(".oauthHolder").html(""),e(t)},e=function(){var e,t;return e=function(e,t){return $("<a id='"+t+"_login' class='icon-"+t+"' href='' style='text-decoration:none; margin:3px'></a>").click(function(e){return e.preventDefault(),hello.login(t)}).appendTo(e)},t=$(".oauthHolder").html(""),e(t,"windows"),e(t,"github")},(r=n())?($(".loginHolder").hide(),t(r)):($(".loginHolder").show(),e()),"gmail"===$(".user_network").text()?$(".oauthHolder").hide():$(".oauthHolder").show()
},this.show_oauth_panel=function(){return $(".oauthHolder").show()},this.hide_oauth_panel=function(){return $(".oauthHolder").hide()},i=function(t){return s(t),e()},r=function(){return e()},o=function(){return t(),e()},$(function(){return r()})}.call(this);